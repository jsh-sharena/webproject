(window.videoWidgetsJsonP=window.videoWidgetsJsonP||[]).push([[10],Array(180).concat([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(183),n=i(182);e.Factory={addGetterSetter:function(t,e,i,r,n){this.addGetter(t,e,i),this.addSetter(t,e,r,n),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var n="get"+r.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,i,n,a){var s="set"+r.Util._capitalize(i);t.prototype[s]||e.Factory.overWriteSetter(t,i,n,a)},overWriteSetter:function(t,e,i,n){var a="set"+r.Util._capitalize(e);t.prototype[a]=function(t){return i&&null!=t&&(t=i.call(this,t,e)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,e,i,a,s){var o,h,l=i.length,c=r.Util._capitalize,f="get"+c(e),u="set"+c(e);t.prototype[f]=function(){var t={};for(o=0;o<l;o++)t[h=i[o]]=this.getAttr(e+c(h));return t};var p=n.getComponentValidator(i);t.prototype[u]=function(t){var i,r=this.attrs[e];for(i in a&&(t=a.call(this,t)),p&&p.call(this,t,e),t)t.hasOwnProperty(i)&&this._setAttr(e+c(i),t[i]);return this._fireChangeEvent(e,r,t),s&&s.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var i=r.Util._capitalize(e),n="set"+i,a="get"+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(t,e,i,n){r.Util.error("Adding deprecated "+e);var a="get"+r.Util._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){r.Util.error(s);var t=this.attrs[e];return void 0===t?i:t},this.addSetter(t,e,n,(function(){r.Util.error(s)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){r.Util.each(e,(function(e,i){var n=t.prototype[i],a="get"+r.Util._capitalize(e),s="set"+r.Util._capitalize(e);function o(){n.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}t.prototype[e]=o,t.prototype[a]=o,t.prototype[s]=o}))},afterSetFilter:function(){this._filterUpToDate=!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;var n=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),i=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),a=!!t.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",isIE:n(e),mobile:r,ieMobile:a}},e.glob="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.0.4",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})
;var r=i(181),n=i(183);function a(t){return n.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)?t:n.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||"auto"===t||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isString(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isFunction(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isArray(t)?t.forEach((function(t){n.Util._isNumber(t)||n.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,i){return n.Util.isObject(e)||n.Util.warn(a(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+t),e}}},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(181),a=function(){function t(){}return t.toCollection=function(e){var i,r=new t,n=e.length;for(i=0;i<n;i++)r.push(e[i]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,i=this.length,r=[].slice.call(arguments);for(t=0;t<i;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var i=e.prototype;for(var r in i)t._mapMethod(r)},t}();e.Collection=a,a.prototype=[],a.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},a.prototype.toArray=function(){var t,e=[],i=this.length;for(t=0;t<i;t++)e.push(this[t]);return e};var s=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,a=this.m[0]*-i+this.m[2]*e,s=this.m[1]*-i+this.m[3]*e;return this.m[0]=r,this.m[1]=n,this.m[2]=a,this.m[3]=s,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var i=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=r,this.m[2]=n,this.m[3]=a,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,
this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=s,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=s,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var i=this.m[0],r=this.m[1],n=this.m[2],a=this.m[3],s=this.m[4],o=(i*(e-this.m[5])-r*(t-s))/(i*a-r*n),h=(t-s-n*o)/i;return this.translate(h,o)},t}();e.Transform=s;var o=Math.PI/180,h=180/Math.PI,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]
},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,f=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){f.push(t),1===f.length&&requestAnimationFrame((function(){var t=f;f=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var i,r,n=[],a=t.length,s=e.Util;for(i=0;i<a;i++)r=t[i],s._isNumber(r)?r=Math.round(1e3*r)/1e3:s._isString(r)||(r=r.toString()),n.push(r);return n},_urlToImage:function(t,e){var i=new n.glob.Image;i.onload=function(){e(i)},i.src=t},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=(e[0],e.slice(1)),r=Number(i[0])/360,n=Number(i[1])/100,a=Number(i[2])/100,s=void 0,o=void 0,h=void 0;if(0===n)return h=255*a,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};for(var l=2*a-(s=a<.5?a*(1+n):a+n-a*n),c=[0,0,0],f=0;f<3;f++)(o=r+1/3*-(f-1))<0&&o++,o>1&&o--,h=6*o<1?l+6*(s-l)*o:2*o<1?s:3*o<2?l+(s-l)*(2/3-o)*6:l,c[f]=255*h;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var i in t)this._isPlainObject(t[i])?e[i]=this.cloneObject(t[i]):this._isArray(t[i])?e[i]=this.cloneArray(t[i]):e[i]=t[i];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*o},_radToDeg:function(t){return t*h},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){console.error("Konva error: "+t)},warn:function(t){
n.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function i(){this.constructor=t}i.prototype=e.prototype;var r=t.prototype;for(var n in t.prototype=new i,r)r.hasOwnProperty(n)&&(t.prototype[n]=r[n]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,i,r,n,a,s){var o=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)),h=Math.sqrt(Math.pow(n-i,2)+Math.pow(a-r,2)),l=s*o/(o+h),c=s*h/(o+h);return[i-l*(n-t),r-l*(a-e),i+c*(n-t),r+c*(a-e)]},_expandPoints:function(t,i){var r,n,a=t.length,s=[];for(r=2;r<a-2;r+=2)n=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],i),s.push(n[0]),s.push(n[1]),s.push(t[r]),s.push(t[r+1]),s.push(n[2]),s.push(n[3]);return s},each:function(t,e){for(var i in t)e(i,t[i])},_inRange:function(t,e,i){return e<=t&&t<i},_getProjectionToSegment:function(t,e,i,r,n,a){var s,o,h,l=(t-i)*(t-i)+(e-r)*(e-r);if(0==l)s=t,o=e,h=(n-i)*(n-i)+(a-r)*(a-r);else{var c=((n-t)*(i-t)+(a-e)*(r-e))/l;c<0?(s=t,o=e,h=(t-n)*(t-n)+(e-a)*(e-a)):c>1?(s=i,o=r,h=(i-n)*(i-n)+(r-a)*(r-a)):h=((s=t+c*(i-t))-n)*(s-n)+((o=e+c*(r-e))-a)*(o-a)}return[s,o,h]},_getProjectionToLine:function(t,i,r){var n=e.Util.cloneObject(t),a=Number.MAX_VALUE;return i.forEach((function(s,o){if(r||o!==i.length-1){var h=i[(o+1)%i.length],l=e.Util._getProjectionToSegment(s.x,s.y,h.x,h.y,t.x,t.y),c=l[0],f=l[1],u=l[2];u<a&&(n.x=c,n.y=f,a=u)}})),n},_prepareArrayForTween:function(t,i,r){var n,a=[],s=[];if(t.length>i.length){var o=i;i=t,t=o}for(n=0;n<t.length;n+=2)a.push({x:t[n],y:t[n+1]});for(n=0;n<i.length;n+=2)s.push({x:i[n],y:i[n+1]});var h=[];return s.forEach((function(t){var i=e.Util._getProjectionToLine(t,a,r);h.push(i.x),h.push(i.y)})),h},_prepareToStringify:function(t){var i;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==r(t[n]))if(i=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||e.Util._isElement(t[n])){if(!i.configurable)return null;delete t[n]}else if(null===e.Util._prepareToStringify(t[n])){if(!i.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var i in e)t[i]=e[i];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},,function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(183),a=i(180),s=i(193),o=i(181),h=i(194),l=i(182);e.ids={},e.names={};e._removeId=function(t,i){t&&e.ids[t]===i&&delete e.ids[t]},e._addName=function(t,i){i&&(e.names[i]||(e.names[i]=[]),e.names[i].push(t))},e._removeName=function(t,i){if(t){var r=e.names[t];if(r){for(var n=0;n<r.length;n++){r[n]._id===i&&r.splice(n,1)}0===r.length&&delete e.names[t]}}};var c=["id"],f=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),u=["scaleXChange.konva","scaleYChange.konva"].join(" "),p=new n.Collection,d=1,g=function(){function t(t){var e=this;this._id=d++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=p,this._dragEventId=null,this.setAttrs(t),this.on(f,(function(){e._clearCache("transform"),e._clearSelfAndDescendantCache("absoluteTransform")})),this.on(u,(function(){e._clearSelfAndDescendantCache("absoluteScale")})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache("visible")})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache("listening")})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache("absoluteOpacity")}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return p},t.prototype._clearCache=function(t){
t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var i=this._cache.get(t);return void 0===i&&(i=e.call(this),this._cache.set(t,i)),i},t.prototype._getCanvasCache=function(){return this._cache.get("canvas")},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this._getCanvasCache()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},i={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=e.width||i.width,a=e.height||i.height,o=e.pixelRatio,h=void 0===e.x?i.x:e.x,l=void 0===e.y?i.y:e.y,c=e.offset||0,f=e.drawBorder||!1;if(r&&a){r+=2*c,a+=2*c,h-=c,l-=c;var u=new s.SceneCanvas({pixelRatio:o,width:r,height:a}),p=new s.SceneCanvas({pixelRatio:o,width:r,height:a}),d=new s.HitCanvas({pixelRatio:1,width:r,height:a}),g=u.getContext(),m=d.getContext();return d.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(u.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),g.save(),m.save(),g.translate(-h,-l),m.translate(-h,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(u,this,!0),this.drawHit(d,this,!0),this._isUnderCache=!1,g.restore(),m.restore(),f&&(g.save(),g.beginPath(),g.rect(0,0,r,a),g.closePath(),g.setAttr("strokeStyle","red"),g.setAttr("lineWidth",5),g.stroke(),g.restore()),this._cache.set("canvas",{scene:u,filter:p,hit:d,x:h,y:l}),this}n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var i,r,n,a,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],o=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=o.point(t);void 0===i&&(i=n=e.x,r=a=e.y),i=Math.min(i,e.x),r=Math.min(r,e.y),n=Math.max(n,e.x),a=Math.max(a,e.y)})),{x:i,y:r,width:n-i,height:a-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),r=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/r,i.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t._applyGlobalCompositeOperation(this),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,i,a,s=this.filters(),o=this._getCanvasCache(),h=o.scene,l=o.filter,c=l.getContext();if(s){if(!this._filterUpToDate){var f=h.pixelRatio;try{for(t=s.length,c.clear(),c.drawImage(h._canvas,0,0,h.getWidth()/f,h.getHeight()/f),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),i=0;i<t;i++)"function"==typeof(a=s[i])?(a.call(this,e),c.putImageData(e,0,0)):n.Util.error("Filter should be type of function, but got "+r(a)+" insted. Please check correct filters")}catch(t){n.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return l}return h},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var i,r,n,a,s=t.split(" "),o=s.length;for(i=0;i<o;i++)n=(r=s[i].split("."))[0],a=r[1]||"",this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].push({name:a,handler:e});return this},t.prototype.off=function(t,e){var i,r,n,a,s,o=(t||"").split(" "),h=o.length;if(!t)for(r in this.eventListeners)this._off(r);for(i=0;i<h;i++)if(a=(n=o[i].split("."))[0],s=n[1],a)this.eventListeners[a]&&this._off(a,s,e);else for(r in this.eventListeners)this._off(r,s,e);return this
},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,i){var r=this;this.on(t,(function(t){for(var a=t.target.findAncestors(e,!0,r),s=0;s<a.length;s++)(t=n.Util.cloneObject(t)).currentTarget=a[s],i.call(a[s],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),h.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity");var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),i=0;i<t.length;i++){var r=t[i];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+n.Util._capitalize(t);return n.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new n.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,i;if(!t)return this;for(e in t)"children"!==e&&(i="set"+n.Util._capitalize(e),n.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache("listening",this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache("visible",this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),i=this.getParent();return"inherit"===e?!i||i===t||i._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,i,r,n=this.getDepth(),a=this,s=0;return"Stage"!==a.nodeType&&function o(h){for(t=[],e=h.length,i=0;i<e;i++)r=h[i],s++,"Shape"!==r.nodeType&&(t=t.concat(r.getChildren().toArray())),r._id===a._id&&(i=e);t.length>0&&t[0].getDepth()<=n&&o(t)}(a.getStage().getChildren()),s},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){var e=this.getAbsoluteTransform(t).getMatrix(),i=new n.Transform,r=this.offset();return i.m=e.slice(),i.translate(r.x,r.y),i.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),
this._clearSelfAndDescendantCache("absoluteTransform"),t},t.prototype.move=function(t){var e=t.x,i=t.y,r=this.x(),n=this.y();return void 0!==e&&(r+=e),void 0!==i&&(n+=i),this.setPosition({x:r,y:n}),this},t.prototype._eachAncestorReverse=function(t,e){var i,r,n=[],a=this.getParent();if(e&&e._id===this._id)t(this);else{for(n.unshift(this);a&&(!e||a._id!==e._id);)n.unshift(a),a=a.parent;for(i=n.length,r=0;r<i;r++)t(n[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&n.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,i,r,a={},s=this.getAttrs();for(t in a.attrs={},s)e=s[t],n.Util.isObject(e)&&!n.Util._isPlainObject(e)&&!n.Util._isArray(e)||(i="function"==typeof this[t]&&this[t],delete s[t],r=i?i.call(this):null,s[t]=e,r!==e&&(a.attrs[t]=e));return a.className=this.getClassName(),n.Util._prepareToStringify(a)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,i){var r=[];e&&this._isMatch(t)&&r.push(this);for(var n=this.parent;n;){if(n===i)return r;n._isMatch(t)&&r.push(n),n=n.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,i){return this.findAncestors(t,e,i)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,i,r=t.replace(/ /g,"").split(","),a=r.length;for(e=0;e<a;e++)if(i=r[e],n.Util.isValidSelector(i)||(n.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0)){if(this.id()===i.slice(1))return!0}else if("."===i.charAt(0)){if(this.hasName(i.slice(1)))return!0}else if(this.className===t||this.nodeType===t)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache("stage",this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,i){
return(e=e||{}).target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache("absoluteTransform",this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e=new n.Transform;return this._eachAncestorReverse((function(t){var i=t.getTransformsEnabled();"all"===i?e.multiply(t.getTransform()):"position"===i&&e.translate(t.getX()-t.getOffsetX(),t.getY()-t.getOffsetY())}),t),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache("absoluteScale",this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var i=1,r=1;return this._eachAncestorReverse((function(t){i*=t.scaleX(),r*=t.scaleY()}),t),{x:i,y:r}},t.prototype.getTransform=function(){return this._getCache("transform",this._getTransform)},t.prototype._getTransform=function(){var t=new n.Transform,e=this.x(),i=this.y(),r=o.Konva.getAngle(this.rotation()),a=this.scaleX(),s=this.scaleY(),h=this.skewX(),l=this.skewY(),c=this.offsetX(),f=this.offsetY();return 0===e&&0===i||t.translate(e,i),0!==r&&t.rotate(r),0===h&&0===l||t.skew(h,l),1===a&&1===s||t.scale(a,s),0===c&&0===f||t.translate(-1*c,-1*f),t},t.prototype.clone=function(t){var e,i,r,a,s,o=n.Util.cloneObject(this.attrs);for(var h in c){delete o[c[h]]}for(e in t)o[e]=t[e];var l=new this.constructor(o);for(e in this.eventListeners)for(r=(i=this.eventListeners[e]).length,a=0;a<r;a++)(s=i[a]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(s));return l},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),r=void 0!==t.x?t.x:e.x,n=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,o=new s.SceneCanvas({width:t.width||e.width||(i?i.width():0),height:t.height||e.height||(i?i.height():0),pixelRatio:a}),h=o.getContext();return h.save(),(r||n)&&h.translate(-1*r,-1*n),this.drawScene(o),h.restore(),o},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,n.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance},t.prototype._off=function(t,e,i){var r,n,a,s=this.eventListeners[t];for(r=0;r<s.length;r++)if(n=s[r].name,a=s[r].handler,!("konva"===n&&"konva"!==e||e&&n!==e||i&&i!==a)){if(s.splice(r,1),0===s.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},t.prototype.setId=function(t){var i=this.id();return e._removeId(i,this),function(t,i){i&&(e.ids[i]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var i,r,n=(this.name()||"").split(/\s/g),a=(t||"").split(/\s/g);for(r=0;r<n.length;r++)i=n[r],-1===a.indexOf(i)&&i&&e._removeName(i,this._id);for(r=0;r<a.length;r++)i=a[r],-1===n.indexOf(i)&&i&&e._addName(this,i);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.setName(i)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){
var i=this["set"+n.Util._capitalize(t)];return n.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var i=this.attrs[t];(i!==e||n.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,i){var r;void 0!==i&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,r,i))},t.prototype._fireAndBubble=function(t,e,i){if(e&&"Shape"===this.nodeType&&(e.target=this),!(("mouseenter"===t||"mouseleave"===t)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i))){this._fire(t,e);var r=("mouseenter"===t||"mouseleave"===t)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var i,r=this.eventListeners[t];if(r)for((e=e||{}).currentTarget=this,e.type=t,i=0;i<r.length;i++)r[i].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype.startDrag=function(t){var e=!t,i=t?t.pointerId:void 0,r=this.getStage()._getPointerById(i),n=this.getAbsolutePosition();(r||e)&&h.DD._dragElements.set(this._id,{node:this,startPointerPos:r,offset:e?{x:0,y:0}:{x:r.x-n.x,y:r.y-n.y},isDragging:!!e,pointerId:i,dragStopped:!1})},t.prototype._setDragPosition=function(t,e){var i=this.getStage()._getPointerById(e.pointerId),r=this.dragBoundFunc();if(i){var n={x:i.x-e.offset.x,y:i.y-e.offset.y};void 0!==r&&(n=r.call(this,n,t)),this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=n}},t.prototype.stopDrag=function(){var t={},e=h.DD._dragElements.get(this._id);e&&(e.dragStopped=!0),h.DD._endDragBefore(t),h.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=h.DD._dragElements.get(this._id);return!!t&&t.isDragging},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||o.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var i=!1;h.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(i=!0)})),i||this.startDrag(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&h.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return n.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,i){var r,a,s,h=t.prototype.getClassName.call(e),l=e.children;if(i&&(e.attrs.container=i),o._NODES_REGISTRY[h]||(n.Util.warn('Can not find a node with class name "'+h+'". Fallback to "Shape".'),h="Shape"),r=new(0,o._NODES_REGISTRY[h])(e.attrs),l)for(a=l.length,s=0;s<a;s++)r.add(t._createNode(l[s]));return r},t}();e.Node=g,g.prototype.nodeType="Node",g.prototype._attrsAffectingSize=[],a.Factory.addGetterSetter(g,"zIndex"),a.Factory.addGetterSetter(g,"absolutePosition"),a.Factory.addGetterSetter(g,"position"),a.Factory.addGetterSetter(g,"x",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"y",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"globalCompositeOperation","source-over",l.getStringValidator()),a.Factory.addGetterSetter(g,"opacity",1,l.getNumberValidator()),a.Factory.addGetterSetter(g,"name","",l.getStringValidator()),a.Factory.addGetterSetter(g,"id","",l.getStringValidator()),a.Factory.addGetterSetter(g,"rotation",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(g,"scale",["x","y"]),a.Factory.addGetterSetter(g,"scaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(g,"scaleY",1,l.getNumberValidator()),
a.Factory.addComponentsGetterSetter(g,"skew",["x","y"]),a.Factory.addGetterSetter(g,"skewX",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"skewY",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(g,"offset",["x","y"]),a.Factory.addGetterSetter(g,"offsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"offsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"dragDistance",null,l.getNumberValidator()),a.Factory.addGetterSetter(g,"width",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"height",0,l.getNumberValidator()),a.Factory.addGetterSetter(g,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(g,"preventDefault",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(g,"filters",null,(function(t){return this._filterUpToDate=!1,t})),a.Factory.addGetterSetter(g,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(g,"transformsEnabled","all",l.getStringValidator()),a.Factory.addGetterSetter(g,"size"),a.Factory.addGetterSetter(g,"dragBoundFunc"),a.Factory.addGetterSetter(g,"draggable",!1,l.getBooleanValidator()),a.Factory.backCompat(g,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n.Collection.mapMethods(g)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(183),o=i(180),h=i(185),l=i(182),c=i(181),f=i(216);function u(){return a||(a=s.Util.createCanvasElement().getContext("2d"))}function p(){this._clearCache("hasShadow")}function d(){this._clearCache("shadowRGBA")}function g(){this._clearCache("patternImage")}function m(){this._clearCache("linearGradient")}function y(){this._clearCache("radialGradient")}e.shapes={};var v=function(t){function i(i){for(var r,n=t.call(this,i)||this;!(r=s.Util.getRandomColor())||r in e.shapes;);return n.colorKey=r,e.shapes[r]=n,n.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),n.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d),n.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva",g),n.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",m),n.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",y),n}return n(i,t),i.prototype.getContext=function(){return this.getLayer().getContext()},i.prototype.getCanvas=function(){return this.getLayer().getCanvas()},i.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},i.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},i.prototype.hasShadow=function(){return this._getCache("hasShadow",this._hasShadow)},i.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},i.prototype._getFillPattern=function(){return this._getCache("patternImage",this.__getFillPattern)},i.prototype.__getFillPattern=function(){
if(this.fillPatternImage())return u().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},i.prototype._getLinearGradient=function(){return this._getCache("linearGradient",this.__getLinearGradient)},i.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=u(),i=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),n=e.createLinearGradient(i.x,i.y,r.x,r.y),a=0;a<t.length;a+=2)n.addColorStop(t[a],t[a+1]);return n}},i.prototype._getRadialGradient=function(){return this._getCache("radialGradient",this.__getRadialGradient)},i.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=u(),i=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),n=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)n.addColorStop(t[a],t[a+1]);return n}},i.prototype.getShadowRGBA=function(){return this._getCache("shadowRGBA",this._getShadowRGBA)},i.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=s.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},i.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},i.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},i.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},i.prototype.destroy=function(){return h.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},i.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},i.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},i.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},i.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},i.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,i=t.relativeTo,r=this.getSelfRect(),n=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=r.width+n,s=r.height+n,o=!t.skipShadow&&this.hasShadow(),h=o?this.shadowOffsetX():0,l=o?this.shadowOffsetY():0,c=a+Math.abs(h),f=s+Math.abs(l),u=o&&this.shadowBlur()||0,p=c+2*u,d=f+2*u,g=0;Math.round(n/2)!==n/2&&(g=1);var m={width:p+g,height:d+g,x:-Math.round(n/2+u)+Math.min(h,0)+r.x,y:-Math.round(n/2+u)+Math.min(l,0)+r.y};return e?m:this._transformedRect(m,i)},i.prototype.drawScene=function(t,e,i,r){var n,a,s=this.getLayer(),o=t||s.getCanvas(),h=o.getContext(),l=this._getCanvasCache(),c=this.sceneFunc(),f=this.hasShadow(),u=this.hasStroke();if(!this.isVisible()&&!i)return this;if(l)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!c)return this;if(h.save(),this._useBufferCanvas(i)&&!r){if((a=(n=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this),!i)if(s)s._applyTransform(this,a,e);else{var p=this.getAbsoluteTransform(e).getMatrix();h.transform(p[0],p[1],p[2],p[3],p[4],p[5])}c.call(this,a,this),a.restore();var d=n.pixelRatio;f&&!o.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(n._canvas,0,0,n.width/d,n.height/d),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(n._canvas,0,0,n.width/d,n.height/d))}else{if(h._applyLineJoin(this),!i)if(s)s._applyTransform(this,h,e);else{var g=this.getAbsoluteTransform(e).getMatrix();h.transform(g[0],g[1],g[2],g[3],g[4],g[5])}f&&u&&!o.hitCanvas?(h.save(),i||(h._applyOpacity(this),
h._applyGlobalCompositeOperation(this)),h._applyShadow(this),c.call(this,h,this),h.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&c.call(this,h,this)):f&&!o.hitCanvas?(h.save(),i||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),c.call(this,h,this),h.restore()):(i||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),c.call(this,h,this))}return h.restore(),this},i.prototype.drawHit=function(t,e,i){var r=this.getLayer(),n=t||r.hitCanvas,a=n&&n.getContext(),o=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),l=h&&h.hit;if(this.colorKey||(console.log(this),s.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!i)return this;if(l)return a.save(),r._applyTransform(this,a,e),this._drawCachedHitCanvas(a),a.restore(),this;if(!o)return this;if(a.save(),a._applyLineJoin(this),!i)if(r)r._applyTransform(this,a,e);else{var c=this.getAbsoluteTransform(e).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this},i.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,i,r,n,a,o=this._getCanvasCache(),h=this._getCachedSceneCanvas(),l=o.hit,c=l.getContext(),f=l.getWidth(),u=l.getHeight();c.clear(),c.drawImage(h._canvas,0,0,f,u);try{for(r=(i=(e=c.getImageData(0,0,f,u)).data).length,n=s.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)i[a+3]>t?(i[a]=n.r,i[a+1]=n.g,i[a+2]=n.b,i[a+3]=255):i[a+3]=0;c.putImageData(e,0,0)}catch(t){s.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},i.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},i}(h.Node);e.Shape=v,v.prototype._fillFunc=function(t){t.fill()},v.prototype._strokeFunc=function(t){t.stroke()},v.prototype._fillFuncHit=function(t){t.fill()},v.prototype._strokeFuncHit=function(t){t.stroke()},v.prototype._centroid=!1,v.prototype.nodeType="Shape",c._registerNode(v),o.Factory.addGetterSetter(v,"stroke",void 0,l.getStringValidator()),o.Factory.addGetterSetter(v,"strokeWidth",2,l.getNumberValidator()),o.Factory.addGetterSetter(v,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),o.Factory.addGetterSetter(v,"strokeHitEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(v,"perfectDrawEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(v,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(v,"lineJoin"),o.Factory.addGetterSetter(v,"lineCap"),o.Factory.addGetterSetter(v,"sceneFunc"),o.Factory.addGetterSetter(v,"hitFunc"),o.Factory.addGetterSetter(v,"dash"),o.Factory.addGetterSetter(v,"dashOffset",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"shadowColor",void 0,l.getStringValidator()),o.Factory.addGetterSetter(v,"shadowBlur",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"shadowOpacity",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(v,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(v,"shadowOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"shadowOffsetY",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"fillPatternImage"),o.Factory.addGetterSetter(v,"fill",void 0,l.getStringValidator()),o.Factory.addGetterSetter(v,"fillPatternX",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"fillPatternY",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(v,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(v,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(v,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(v,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(v,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(v,"fillEnabled",!0),o.Factory.addGetterSetter(v,"strokeEnabled",!0),o.Factory.addGetterSetter(v,"shadowEnabled",!0),
o.Factory.addGetterSetter(v,"dashEnabled",!0),o.Factory.addGetterSetter(v,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(v,"fillPriority","color"),o.Factory.addComponentsGetterSetter(v,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(v,"fillPatternOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(v,"fillPatternOffsetY",0,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(v,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(v,"fillPatternScaleX",1,l.getNumberValidator()),o.Factory.addGetterSetter(v,"fillPatternScaleY",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(v,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(v,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(v,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(v,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(v,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(v,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(v,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(v,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(v,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(v,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(v,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(v,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(v,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(v,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(v,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(v,"fillPatternRotation",0),o.Factory.backCompat(v,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),s.Collection.mapMethods(v)},,function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==r(i))throw new TypeError(i+"must be non-object");for(var n in i)a(i,n)&&(t[n]=i[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+r),n);else for(var a=0;a<r;a++)t[n+a]=e[i+a]},flattenChunks:function(t){var e,i,r,n,a,s;for(r=0,e=0,i=t.length;e<i;e++)r+=t[e].length;for(s=new Uint8Array(r),n=0,e=0,i=t.length;e<i;e++)a=t[e],s.set(a,n),n+=a.length;return s}},o={arraySet:function(t,e,i,r,n){for(var a=0;a<r;a++)t[n+a]=e[i+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=e;function a(t,e,i){for(var r=Object.keys(e),n=0;n<r.length;++n)void 0!==t[r[n]]&&i||(t[r[n]]=e[r[n]]);return t}function s(t){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{
value:(new Error).stack||""}),i&&a(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}n.asPromise=i(393),n.base64=i(394),n.EventEmitter=i(395),n.float=i(396),n.inquire=i(397),n.utf8=i(398),n.pool=i(399),n.LongBits=i(400),n.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"===r(t)},n.isset=n.isSet=function(t,e){var i=t[e];return!(null==i||!t.hasOwnProperty(e))&&("object"!==r(i)||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,e){var i=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(i.lo,i.hi,e):i.toNumber(Boolean(e))},n.merge=a,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;i>-1;--i)if(1===e[t[i]]&&void 0!==this[t[i]]&&null!==this[t[i]])return t[i]}},n.oneOfSetter=function(t){return function(e){for(var i=0;i<t.length;++i)t[i]!==e&&delete this[t[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var t=n.Buffer;t?(n._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,i){return new t(e,i)},n._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},,function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(185),h=i(194),l=i(182),c=i(181),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new a.Collection,e}return n(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new a.Collection;return this.children.each((function(i){t(i)&&e.push(i)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new a.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new a.Collection,this},e.prototype.add=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var i=this.children;return this._validateAdd(t),t.index=i.length,t.parent=this,i.push(t),this._fire("add",{child:t}),this},e.prototype.destroy=function(){
return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var i=[];return this._descendants((function(r){var n=r._isMatch(t);return n&&i.push(r),!(!n||!e)})),a.Collection.toCollection(i)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var i=this.children[e];if(t(i))return!0;if(i.hasChildren()&&i._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=o.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,r=0;r<i;r++){var n=e[r];t.children.push(n.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],i=t.length,r=0;r<i;r++){var n=t[r];this.isAncestorOf(n)&&e.push(n)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=o.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(i){i.isVisible()&&i.intersects(t)&&e.push(i)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,i){var r=this.getLayer(),n=t||r&&r.getCanvas(),a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.scene;return(this.isVisible()||i)&&(!i&&o?(a.save(),r._applyTransform(this,a,e),this._drawCachedSceneCanvas(a),a.restore()):this._drawChildren(n,"drawScene",e,!1,i,i)),this},e.prototype.drawHit=function(t,e,i){var r=this.getLayer(),n=t||r&&r.hitCanvas,a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.hit;return(this.shouldDrawHit(n)||i)&&(!i&&o?(a.save(),r._applyTransform(this,a,e),this._drawCachedHitCanvas(a),a.restore()):this._drawChildren(n,"drawHit",e,!1,i,i)),this},e.prototype._drawChildren=function(t,e,i,r,n,a){var s,o,h=this.getLayer(),l=t&&t.getContext(),c=this.clipWidth(),f=this.clipHeight(),u=this.clipFunc(),p=c&&f||u;if(p&&h){l.save();var d=this.getAbsoluteTransform(i),g=d.getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.beginPath(),u?u.call(this,l,this):(s=this.clipX(),o=this.clipY(),l.rect(s,o,c,f)),l.clip(),g=d.copy().invert().getMatrix(),l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var m="source-over"!==this.globalCompositeOperation()&&!a;m&&h&&(l.save(),l._applyGlobalCompositeOperation(this)),this.children.each((function(a){a[e](t,i,r,n)})),m&&h&&l.restore(),p&&h&&l.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),i=!1;h.DD._dragElements.forEach((function(t){t.isDragging&&t.node.getLayer()===e&&(i=!0)}));var r=!c.Konva.hitOnDragEnabled&&i;return e&&e.hitGraphEnabled()&&this.isVisible()&&!r},e.prototype.getClientRect=function(t){var e,i,r,n,a=(t=t||{}).skipTransform,s=t.relativeTo,o={x:1/0,y:1/0,width:0,height:0},h=this;this.children.each((function(a){if(a.visible()){var s=a.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===e?(e=s.x,i=s.y,r=s.x+s.width,n=s.y+s.height):(e=Math.min(e,s.x),i=Math.min(i,s.y),r=Math.max(r,s.x+s.width),n=Math.max(n,s.y+s.height)))}}));for(var l=this.find("Shape"),c=!1,f=0;f<l.length;f++){if(l[f]._isVisible(this)){c=!0;break}}return o=c?{x:e,y:i,width:r-e,height:n-i}:{x:0,y:0,width:0,height:0},a?o:this._transformedRect(o,s)},e}(o.Node);e.Container=f,s.Factory.addComponentsGetterSetter(f,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(f,"clipX",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"clipY",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"clipWidth",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"clipHeight",void 0,l.getNumberValidator()),
s.Factory.addGetterSetter(f,"clipFunc"),a.Collection.mapMethods(f)},,function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(183),o=i(215),h=i(181),l=i(180),c=i(182);var f=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||h.Konva.pixelRatio||function(){if(a)return a;var t=s.Util.createCanvasElement().getContext("2d");return a=(h.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=s.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return s.Util.error("Unable to get data URL. "+t.message),""}}},t}();e.Canvas=f,l.Factory.addGetterSetter(f,"pixelRatio",void 0,c.getNumberValidator());var u=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.context=new o.SceneContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(f);e.SceneCanvas=u;var p=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.hitCanvas=!0,i.context=new o.HitContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(f);e.HitCanvas=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=i(183);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){e.isDragging&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,i){var r=e.node,a=r.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=n.Util._getFirstPointerId(t));var s=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(s){if(!e.isDragging){var o=r.dragDistance();if(Math.max(Math.abs(s.x-e.startPointerPos.x),Math.abs(s.y-e.startPointerPos.y))<o)return;if(e.isDragging=!0,r.fire("dragstart",{type:"dragstart",target:r,evt:t},!0),!r.isDragging())return}r._setDragPosition(t,e),r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(i,n){var a=i.node.getStage();if(a.setPointersPositions(t),a._changedPointerPositions.find((function(t){return t.id===i.pointerId}))){i.isDragging&&(e.DD.justDragged=!0,r.Konva.listenClickTap=!1),i.dragStopped=!0,i.isDragging=!1;var s=i.node.getLayer()||i.node instanceof r.Konva.Stage&&i.node;s&&s.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(i,r){i.dragStopped&&(i.node.fire("dragend",{
type:"dragend",target:i.node,evt:t},!0),e.DD._dragElements.delete(r))}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},function(t,e,i){var r=i(22),n=i(90),a=i(10),s=i(58),o=i(89),h=i(243),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,i,c,f){var u,p,d,g,m,y,v=s(e,i,c?2:1);if(f)u=t;else{if("function"!=typeof(p=o(t)))throw TypeError("Target is not iterable");if(n(p)){for(d=0,g=a(t.length);g>d;d++)if((m=c?v(r(y=t[d])[0],y[1]):v(t[d]))&&m instanceof l)return m;return new l(!1)}u=p.call(t)}for(;!(y=u.next()).done;)if((m=h(u,v,y.value,c))&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,i){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(e){i=new Blob([t])}return new Worker(r.createObjectURL(i))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(191),o=i(181),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to groups.")},e}(s.Container);e.Group=h,h.prototype.nodeType="Group",o._registerNode(h),a.Collection.mapMethods(h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},a=function(){function t(e,i){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=e,this.setLayers(i)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,i=this.layers,r=i.length;for(e=0;e<r;e++)if(i[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,i=t.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,i=t.id,r=this.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===i){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,i,r,a,s,o,h,l={},c=this.animations;for(r=0;r<c.length;r++)if(e=(t=c[r]).layers,i=t.func,t._updateFrameObject(n()),s=e.length,!i||!1!==i.call(t,t.frame))for(a=0;a<s;a++)void 0!==(o=e[a])._id&&(l[o._id]=o);for(h in l)l.hasOwnProperty(h)&&l[h].draw()},t._animationLoop=function(){var e=t
;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=a},function(t,e,i){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=i(37),a=i(16),s=i(11),o=i(18).f,h=i(36),l=i(242),c=h("meta"),f=0,u=Object.isExtensible||function(){return!0},p=function(t){o(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!s(t,c)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},getWeakData:function(t,e){if(!s(t,c)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},onFreeze:function(t){return l&&d.REQUIRED&&u(t)&&!s(t,c)&&p(t),t}};n[c]=!0},function(t,e,i){var r=i(6),n=i(58),a=Function.call;t.exports=function(t,e,i){return n(a,r[t].prototype[e],i)}},,,,function(t,e,i){"use strict";var r={};(0,i(188).assign)(r,i(383),i(386),i(211)),t.exports=r},function(t,e,i){"use strict";t.exports=function(t,e,i,r){for(var n=65535&t|0,a=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{a=a+(n=n+e[r++]|0)|0}while(--s);n%=65521,a%=65521}return n|a<<16|0}},function(t,e,i){"use strict";var r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,e,i,n){var a=r,s=n+i;t^=-1;for(var o=n;o<s;o++)t=t>>>8^a[255&(t^e[o])];return-1^t}},function(t,e,i){"use strict";var r=i(188),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new r.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",s=0;s<e;s++)i+=String.fromCharCode(t[s]);return i}s[254]=s[254]=1,e.string2buf=function(t){var e,i,n,a,s,o=t.length,h=0;for(a=0;a<o;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(h),s=0,a=0;s<h;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,r,n,a,o=e||t.length,l=new Array(2*o);for(r=0,i=0;i<o;)if((n=t[i++])<128)l[r++]=n;else if((a=s[n])>4)l[r++]=65533,i+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&i<o;)n=n<<6|63&t[i++],a--;a>1?l[r++]=65533:n<65536?l[r++]=n:(n-=65536,l[r++]=55296|n>>10&1023,l[r++]=56320|1023&n)}return h(l,r)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+s[t[i]]>e?i:e}},function(t,e,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,i){"use strict";t.exports=f
;var r,n=i(189),a=n.LongBits,s=n.base64,o=n.utf8;function h(t,e,i){this.fn=t,this.len=e,this.next=void 0,this.val=i}function l(){}function c(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function f(){this.len=0,this.head=new h(l,0,0),this.tail=this.head,this.states=null}function u(t,e,i){e[i]=255&t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function d(t,e,i){for(;t.hi;)e[i++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[i++]=127&t.lo|128,t.lo=t.lo>>>7;e[i++]=t.lo}function g(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}f.create=n.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f},f.alloc=function(t){return new n.Array(t)},n.Array!==Array&&(f.alloc=n.pool(f.alloc,n.Array.prototype.subarray)),f.prototype._push=function(t,e,i){return this.tail=this.tail.next=new h(t,e,i),this.len+=e,this},p.prototype=Object.create(h.prototype),p.prototype.fn=function(t,e,i){for(;t>127;)e[i++]=127&t|128,t>>>=7;e[i]=t},f.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},f.prototype.int32=function(t){return t<0?this._push(d,10,a.fromNumber(t)):this.uint32(t)},f.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},f.prototype.uint64=function(t){var e=a.from(t);return this._push(d,e.length(),e)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(t){var e=a.from(t).zzEncode();return this._push(d,e.length(),e)},f.prototype.bool=function(t){return this._push(u,1,t?1:0)},f.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(t){var e=a.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(t){return this._push(n.float.writeFloatLE,4,t)},f.prototype.double=function(t){return this._push(n.float.writeDoubleLE,8,t)};var m=n.Array.prototype.set?function(t,e,i){e.set(t,i)}:function(t,e,i){for(var r=0;r<t.length;++r)e[i+r]=t[r]};f.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(u,1,0);if(n.isString(t)){var i=f.alloc(e=s.length(t));s.decode(t,i,0),t=i}return this.uint32(e)._push(m,e,t)},f.prototype.string=function(t){var e=o.length(t);return e?this.uint32(e)._push(o.write,e,t):this._push(u,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new h(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var t=this.head,e=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=t.next,this.tail=e,this.len+=i),this},f.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),i=0;t;)t.fn(t.val,e,i),i+=t.len,t=t.next;return e},f._configure=function(t){r=t}},function(t,e,i){"use strict";t.exports=h;var r,n=i(189),a=n.LongBits,s=n.utf8;function o(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}var l,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function f(){var t=new a(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw o(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t
}else for(;e<5;++e){if(this.pos>=this.len)throw o(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function u(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw o(this,8);return new a(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}h.create=n.Buffer?function(t){return(h.create=function(t){return n.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c,h.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,h.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return l}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|u(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var t=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var t=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),e=this.pos,i=this.pos+t;if(i>this.len)throw o(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,i):e===i?new this.buf.constructor(0):this._slice.call(this.buf,e,i)},h.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw o(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h._configure=function(t){r=t;var e=n.Long?"toLong":"toNumber";n.merge(h.prototype,{int64:function(){return f.call(this)[e](!1)},uint64:function(){return f.call(this)[e](!0)},sint64:function(){return f.call(this).zzDecode()[e](!1)},fixed64:function(){return p.call(this)[e](!0)},sfixed64:function(){return p.call(this)[e](!1)}})}},function(t,e,i){var r=i(409).Konva;r._injectGlobal(r),e.default=r,t.exports=e.default},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(181),o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),s.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.getFillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.getStrokeEnabled()&&this._stroke(t)},t.prototype._stroke=function(t){},
t.prototype.fillStrokeShape=function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},t.prototype.getTrace=function(t){var e,i,r,n,s=this.traceArr,o=s.length,h="";for(e=0;e<o;e++)(r=(i=s[e]).method)?(n=i.args,h+=r,t?h+="()":a.Util._isArray(n[0])?h+="(["+n.join(",")+"])":h+="("+n.join(",")+")"):(h+=i.property,t||(h+="="+i.val)),h+=";";return h},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,i,r,n,a){this._context.arc(t,e,i,r,n,a)},t.prototype.arcTo=function(t,e,i,r,n,a){this._context.arc(t,e,i,r,n,a)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,i,r,n,a){this._context.bezierCurveTo(t,e,i,r,n,a)},t.prototype.clearRect=function(t,e,i,r){this._context.clearRect(t,e,i,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,i,r){return this._context.createLinearGradient(t,e,i,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,r,n,a){return this._context.createRadialGradient(t,e,i,r,n,a)},t.prototype.drawImage=function(t,e,i,r,n,a,s,o,h){var l=arguments,c=this._context;3===l.length?c.drawImage(t,e,i):5===l.length?c.drawImage(t,e,i,r,n):9===l.length&&c.drawImage(t,e,i,r,n,a,s,o,h)},t.prototype.ellipse=function(t,e,i,r,n,a,s,o){this._context.ellipse(t,e,i,r,n,a,s,o)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,i,r){this._context.fillRect(t,e,i,r)},t.prototype.strokeRect=function(t,e,i,r){this._context.strokeRect(t,e,i,r)},t.prototype.fillText=function(t,e,i){this._context.fillText(t,e,i)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,i,r){this._context.rect(t,e,i,r)},t.prototype.putImageData=function(t,e,i){this._context.putImageData(t,e,i)},t.prototype.quadraticCurveTo=function(t,e,i,r){this._context.quadraticCurveTo(t,e,i,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,i,r,n,a){this._context.setTransform(t,e,i,r,n,a)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,i,r){this._context.strokeText(t,e,i,r)},t.prototype.transform=function(t,e,i,r,n,a){this._context.transform(t,e,i,r,n,a)},
t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,i=this,r=o.length,n=a.Util._simplifyArray,s=this.setAttr,h=function(t){var r,a=i[t];i[t]=function(){return e=n(Array.prototype.slice.call(arguments,0)),r=a.apply(i,arguments),i._trace({method:t,args:e}),r}};for(t=0;t<r;t++)h(o[t]);i.setAttr=function(){s.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=h,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(h.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),i=t.getFillPatternY(),r=t.getFillPatternScaleX(),n=t.getFillPatternScaleY(),a=s.Konva.getAngle(t.getFillPatternRotation()),o=t.getFillPatternOffsetX(),h=t.getFillPatternOffsetY();(e||i)&&this.translate(e||0,i||0),a&&this.rotate(a),(r||n)&&this.scale(r,n),(o||h)&&this.translate(-1*o,-1*h),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===i)this._fillPattern(t);else{var n=t.getFillLinearGradientColorStops();if(n&&"linear-gradient"===i)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):n?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),n=this.createLinearGradient(e.x,e.y,i.x,i.y);if(r){for(var a=0;a<r.length;a+=2)n.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",n)}},e.prototype._stroke=function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}},e.prototype._applyShadow=function(t){var e=a.Util,i=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),n=e.get(t.getShadowOffset(),{x:0,y:0}),s=t.getAbsoluteScale(),o=this.canvas.getPixelRatio(),h=s.x*o,l=s.y*o;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r*Math.min(Math.abs(h),Math.abs(l))),this.setAttr("shadowOffsetX",n.x*h),this.setAttr("shadowOffsetY",n.y*l)},e}(h);e.SceneContext=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype._stroke=function(t){if(t.hasStroke()&&t.hitStrokeWidth()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio()
;this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),n="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(h);e.HitContext=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=new Map,a=void 0!==r.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function o(t,e){var i=n.get(t);if(i){var r=i.getStage();r&&r.content,n.delete(t),a&&i._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return n.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return n.get(t)===e},e.setPointerCapture=function(t,e){o(t),e.getStage()&&(n.set(t,e),a&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(191),o=i(185),h=i(180),l=i(193),c=function(t){function e(e){var i=t.call(this,e)||this;return i.canvas=new l.SceneCanvas,i._waitingForDraw=!1,i.on("visibleChange",i._checkVisibility),i._checkVisibility(),i.on("imageSmoothingEnabledChange",i._checkSmooth),i._checkSmooth(),i}return n(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var i=this.getStage();return i&&(i.content.removeChild(this.getCanvas()._canvas),e<i.getChildren().length-1?i.content.insertBefore(this.getCanvas()._canvas,i.getChildren()[e+1].getCanvas()._canvas):i.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){o.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!o.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(o.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(o.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return o.Node.prototype.remove.call(this),t&&t.parentNode&&a.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,i=t.height;return this.canvas.setSize(e,i),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible()
;this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,i){var r=t.getAbsoluteTransform(i).getMatrix();e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},e}(s.Container);e.BaseLayer=c,c.prototype.nodeType="BaseLayer",h.Factory.addGetterSetter(c,"imageSmoothingEnabled",!0),h.Factory.addGetterSetter(c,"clearBeforeDraw",!0),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(e){var i=t.call(this,e)||this;return i.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,r,n=this.points(),a=n.length,s=this.tension(),o=this.closed(),h=this.bezier();if(a){if(t.beginPath(),t.moveTo(n[0],n[1]),0!==s&&a>4){for(i=(e=this.getTensionPoints()).length,r=o?0:4,o||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<i-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);o||t.quadraticCurveTo(e[i-2],e[i-1],n[a-2],n[a-1])}else if(h)for(r=2;r<a;)t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);else for(r=2;r<a;r+=2)t.lineTo(n[r],n[r+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,i=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),s=a.Util._expandPoints(t,i);return[r[2],r[3]].concat(s).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){for(var t,e,i,r=(t=0!==this.tension()?this._getTensionPoints():this.points())[0],n=t[0],a=t[1],s=t[1],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],r=Math.min(r,e),n=Math.max(n,e),a=Math.min(a,i),s=Math.max(s,i);return{x:Math.round(r),y:Math.round(a),width:Math.round(n-r),height:Math.round(s-a)}},e}(o.Shape);e.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],l._registerNode(c),s.Factory.addGetterSetter(c,"closed",!1),s.Factory.addGetterSetter(c,"bezier",!1),s.Factory.addGetterSetter(c,"tension",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"points",[],h.getNumberArrayValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}
r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(181),l=function(t){function e(i){var r=t.call(this,i)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var n=0;n<r.dataArray.length;++n)r.pathLength+=r.dataArray[n].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var i=0;i<e.length;i++){var r=e[i].command,n=e[i].points;switch(r){case"L":t.lineTo(n[0],n[1]);break;case"M":t.moveTo(n[0],n[1]);break;case"C":t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var a=n[0],s=n[1],o=n[2],h=n[3],l=n[4],c=n[5],f=n[6],u=n[7],p=o>h?o:h,d=o>h?1:o/h,g=o>h?h/o:1;t.translate(a,s),t.rotate(f),t.scale(d,g),t.arc(0,0,p,l,l+c,1-u),t.scale(1/d,1/g),t.rotate(-f),t.translate(-a,-s);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(e){t=t.concat(e.points)}));for(var e,i,r=t[0],n=t[0],a=t[1],s=t[1],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],isNaN(e)||(r=Math.min(r,e),n=Math.max(n,e)),isNaN(i)||(a=Math.min(a,i),s=Math.max(s,i));return{x:Math.round(r),y:Math.round(a),width:Math.round(n-r),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var i,r=0,n=this.dataArray.length;if(!n)return null;for(;r<n&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===n)return{x:(i=this.dataArray[r-1].points.slice(-2))[0],y:i[1]};if(t<.01)return{x:(i=this.dataArray[r].points.slice(0,2))[0],y:i[1]};var a=this.dataArray[r],s=a.points;switch(a.command){case"L":return e.getPointOnLine(t,a.start.x,a.start.y,s[0],s[1]);case"C":return e.getPointOnCubicBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return e.getPointOnQuadraticBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3]);case"A":var o=s[0],h=s[1],l=s[2],c=s[3],f=s[4],u=s[5],p=s[6];return f+=u*t/a.pathLength,e.getPointOnEllipticalArc(o,h,l,c,f,p)}return null},e.getLineLength=function(t,e,i,r){return Math.sqrt((i-t)*(i-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,i,r,n,a,s){void 0===a&&(a=e),void 0===s&&(s=i);var o=(n-i)/(r-e+1e-8),h=Math.sqrt(t*t/(1+o*o));r<e&&(h*=-1);var l,c=o*h;if(r===e)l={x:a,y:s+c};else if((s-i)/(a-e+1e-8)===o)l={x:a+h,y:s+c};else{var f,u,p=this.getLineLength(e,i,r,n);if(p<1e-8)return;var d=(a-e)*(r-e)+(s-i)*(n-i);f=e+(d/=p*p)*(r-e),u=i+d*(n-i);var g=this.getLineLength(a,s,f,u),m=Math.sqrt(t*t-g*g);h=Math.sqrt(m*m/(1+o*o)),r<e&&(h*=-1),l={x:f+h,y:u+(c=o*h)}}return l},e.getPointOnCubicBezier=function(t,e,i,r,n,a,s,o,h){function l(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:o*l(t)+a*c(t)+r*f(t)+e*u(t),y:h*l(t)+s*c(t)+n*f(t)+i*u(t)}},e.getPointOnQuadraticBezier=function(t,e,i,r,n,a,s){function o(t){return t*t}function h(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:a*o(t)+r*h(t)+e*l(t),y:s*o(t)+n*h(t)+i*l(t)}},e.getPointOnEllipticalArc=function(t,e,i,r,n,a){var s=Math.cos(a),o=Math.sin(a),h=i*Math.cos(n),l=r*Math.sin(n);return{x:t+(h*s-l*o),y:e+(h*o+l*s)}},e.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<i.length;r++)e=e.replace(new RegExp(i[r],"g"),"|"+i[r]);var n,a=e.split("|"),s=[],o=[],h=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<a.length;r++){var f=a[r],u=f.charAt(0);for(f=f.slice(1),o.length=0;n=c.exec(f);)o.push(n[0]);for(var p=[],d=0,g=o.length;d<g;d++){var m=parseFloat(o[d]);isNaN(m)?p.push(0):p.push(m)}for(;p.length>0&&!isNaN(p[0]);){
var y,v,_,b,w,x,S,k,C,A,P=null,M=[],F=h,T=l;switch(u){case"l":h+=p.shift(),l+=p.shift(),P="L",M.push(h,l);break;case"L":h=p.shift(),l=p.shift(),M.push(h,l);break;case"m":var E=p.shift(),D=p.shift();if(h+=E,l+=D,P="M",s.length>2&&"z"===s[s.length-1].command)for(var O=s.length-2;O>=0;O--)if("M"===s[O].command){h=s[O].points[0]+E,l=s[O].points[1]+D;break}M.push(h,l),u="l";break;case"M":h=p.shift(),l=p.shift(),P="M",M.push(h,l),u="L";break;case"h":h+=p.shift(),P="L",M.push(h,l);break;case"H":h=p.shift(),P="L",M.push(h,l);break;case"v":l+=p.shift(),P="L",M.push(h,l);break;case"V":l=p.shift(),P="L",M.push(h,l);break;case"C":M.push(p.shift(),p.shift(),p.shift(),p.shift()),h=p.shift(),l=p.shift(),M.push(h,l);break;case"c":M.push(h+p.shift(),l+p.shift(),h+p.shift(),l+p.shift()),h+=p.shift(),l+=p.shift(),P="C",M.push(h,l);break;case"S":v=h,_=l,"C"===(y=s[s.length-1]).command&&(v=h+(h-y.points[2]),_=l+(l-y.points[3])),M.push(v,_,p.shift(),p.shift()),h=p.shift(),l=p.shift(),P="C",M.push(h,l);break;case"s":v=h,_=l,"C"===(y=s[s.length-1]).command&&(v=h+(h-y.points[2]),_=l+(l-y.points[3])),M.push(v,_,h+p.shift(),l+p.shift()),h+=p.shift(),l+=p.shift(),P="C",M.push(h,l);break;case"Q":M.push(p.shift(),p.shift()),h=p.shift(),l=p.shift(),M.push(h,l);break;case"q":M.push(h+p.shift(),l+p.shift()),h+=p.shift(),l+=p.shift(),P="Q",M.push(h,l);break;case"T":v=h,_=l,"Q"===(y=s[s.length-1]).command&&(v=h+(h-y.points[0]),_=l+(l-y.points[1])),h=p.shift(),l=p.shift(),P="Q",M.push(v,_,h,l);break;case"t":v=h,_=l,"Q"===(y=s[s.length-1]).command&&(v=h+(h-y.points[0]),_=l+(l-y.points[1])),h+=p.shift(),l+=p.shift(),P="Q",M.push(v,_,h,l);break;case"A":b=p.shift(),w=p.shift(),x=p.shift(),S=p.shift(),k=p.shift(),C=h,A=l,h=p.shift(),l=p.shift(),P="A",M=this.convertEndpointToCenterParameterization(C,A,h,l,S,k,b,w,x);break;case"a":b=p.shift(),w=p.shift(),x=p.shift(),S=p.shift(),k=p.shift(),C=h,A=l,h+=p.shift(),l+=p.shift(),P="A",M=this.convertEndpointToCenterParameterization(C,A,h,l,S,k,b,w,x)}s.push({command:P||u,points:M,start:{x:F,y:T},pathLength:this.calcLength(F,T,P||u,M)})}"z"!==u&&"Z"!==u||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s},e.calcLength=function(t,i,r,n){var a,s,o,h,l=e;switch(r){case"L":return l.getLineLength(t,i,n[0],n[1]);case"C":for(a=0,s=l.getPointOnCubicBezier(0,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),h=.01;h<=1;h+=.01)o=l.getPointOnCubicBezier(h,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"Q":for(a=0,s=l.getPointOnQuadraticBezier(0,t,i,n[0],n[1],n[2],n[3]),h=.01;h<=1;h+=.01)o=l.getPointOnQuadraticBezier(h,t,i,n[0],n[1],n[2],n[3]),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"A":a=0;var c=n[4],f=n[5],u=n[4]+f,p=Math.PI/180;if(Math.abs(c-u)<p&&(p=Math.abs(c-u)),s=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),f<0)for(h=c-p;h>u;h-=p)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(h=c+p;h<u;h+=p)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),a+=l.getLineLength(s.x,s.y,o.x,o.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,i,r,n,a,s,o,h){var l=h*(Math.PI/180),c=Math.cos(l)*(t-i)/2+Math.sin(l)*(e-r)/2,f=-1*Math.sin(l)*(t-i)/2+Math.cos(l)*(e-r)/2,u=c*c/(s*s)+f*f/(o*o);u>1&&(s*=Math.sqrt(u),o*=Math.sqrt(u));var p=Math.sqrt((s*s*(o*o)-s*s*(f*f)-o*o*(c*c))/(s*s*(f*f)+o*o*(c*c)));n===a&&(p*=-1),isNaN(p)&&(p=0);var d=p*s*f/o,g=p*-o*c/s,m=(t+i)/2+Math.cos(l)*d-Math.sin(l)*g,y=(e+r)/2+Math.sin(l)*d+Math.cos(l)*g,v=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(c-d)/s,(f-g)/o]),x=[(c-d)/s,(f-g)/o],S=[(-1*c-d)/s,(-1*f-g)/o],k=b(x,S);return _(x,S)<=-1&&(k=Math.PI),_(x,S)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),[m,y,s,o,w,k,l,a]},e}(o.Shape);e.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],h._registerNode(l),
s.Factory.addGetterSetter(l,"data"),a.Collection.mapMethods(l)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(181),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),i=this.width(),r=this.height();if(t.beginPath(),e){var n=0,a=0,s=0,o=0;"number"==typeof e?n=a=s=o=Math.min(e,i/2,r/2):(n=Math.min(e[0],i/2,r/2),a=Math.min(e[1],i/2,r/2),o=Math.min(e[2],i/2,r/2),s=Math.min(e[3],i/2,r/2)),t.moveTo(n,0),t.lineTo(i-a,0),t.arc(i-a,a,a,3*Math.PI/2,0,!1),t.lineTo(i,r-o),t.arc(i-o,r-o,o,0,Math.PI/2,!1),t.lineTo(s,r),t.arc(s,r-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,i,r);t.closePath(),t.fillStrokeShape(this)},e}(o.Shape);e.Rect=l,l.prototype.className="Rect",h._registerNode(l),s.Factory.addGetterSetter(l,"cornerRadius",0),a.Collection.mapMethods(l)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(183),o=i(180),h=i(186),l=i(181),c=i(182),f=i(181),u=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],p=u.length;function d(){return a||(a=s.Util.createCanvasElement().getContext("2d"))}var g=function(t){function e(e){var i=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;i._partialTextX=0,i._partialTextY=0;for(var r=0;r<p;r++)i.on(u[r]+"Change.konva",i._setTextData);return i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i=this.padding(),r=this.fontSize(),n=this.lineHeight()*r,a=this.textArr,s=a.length,o=this.verticalAlign(),h=0,l=this.align(),c=this.getWidth(),f=this.letterSpacing(),u=this.fill(),p=this.textDecoration(),d=-1!==p.indexOf("underline"),g=-1!==p.indexOf("line-through"),m=0,y=(m=n/2,0),v=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===o?h=(this.getHeight()-s*n-2*i)/2:"bottom"===o&&(h=this.getHeight()-s*n-2*i),t.translate(i,h+i),e=0;e<s;e++){y=0,v=0;var _,b,w,x=a[e],S=x.text,k=x.width,C=e!==s-1;if(t.save(),"right"===l?y+=c-k-2*i:"center"===l&&(y+=(c-k-2*i)/2),d&&(t.save(),t.beginPath(),t.moveTo(y,m+v+Math.round(r/2)),b=0===(_=S.split(" ").length-1),w="justify"===l&&C&&!b?c-2*i:k,t.lineTo(y+Math.round(w),m+v+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=u,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(y,m+v),b=0===(_=S.split(" ").length-1),w="justify"===l&&C&&!b?c-2*i:k,t.lineTo(y+Math.round(w),m+v),t.lineWidth=r/15,t.strokeStyle=u,t.stroke(),t.restore()),0!==f||"justify"===l){_=S.split(" ").length-1;for(var A=0;A<S.length;A++){var P=S[A];" "===P&&e!==s-1&&"justify"===l&&(y+=Math.floor((c-2*i-k)/_)),this._partialTextX=y,this._partialTextY=m+v,this._partialText=P,t.fillStrokeShape(this),y+=Math.round(this.measureSize(P).width)+f}}else this._partialTextX=y,this._partialTextY=m+v,this._partialText=S,t.fillStrokeShape(this);t.restore(),s>1&&(m+=n)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=s.Util._isString(t)?t:(t||"").toString()
;return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,i=d(),r=this.fontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),i=t.length;return d().measureText(t).width+(i?e*(i-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,r=this.lineHeight()*e,n=this.attrs.width,a=this.attrs.height,s="auto"!==n&&void 0!==n,o="auto"!==a&&void 0!==a,h=this.padding(),l=n-2*h,c=a-2*h,f=0,u=this.wrap(),p="none"!==u,g="char"!==u&&p,m=this.ellipsis()&&!p;this.textArr=[],d().font=this._getContextFont();for(var y=m?this._getTextWidth(""):0,v=0,_=t.length;v<_;++v){var b=t[v],w=this._getTextWidth(b);if(s&&w>l)for(;b.length>0;){for(var x=0,S=b.length,k="",C=0;x<S;){var A=x+S>>>1,P=b.slice(0,A+1),M=this._getTextWidth(P)+y;M<=l?(x=A+1,k=P+(m?"":""),C=M):S=A}if(!k)break;if(g){var F,T=b[k.length];(F=(" "===T||"-"===T)&&C<=l?k.length:Math.max(k.lastIndexOf(" "),k.lastIndexOf("-"))+1)>0&&(x=F,k=k.slice(0,x),C=this._getTextWidth(k))}if(k=k.trimRight(),this._addTextLine(k),i=Math.max(i,C),f+=r,!p||o&&f+r>c)break;if((b=(b=b.slice(x)).trimLeft()).length>0&&(w=this._getTextWidth(b))<=l){this._addTextLine(b),f+=r,i=Math.max(i,w);break}}else this._addTextLine(b),f+=r,i=Math.max(i,w);if(o&&f+r>c)break}this.textHeight=e,this.textWidth=i},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(h.Shape);e.Text=g,g.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},g.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},g.prototype.className="Text",g.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],f._registerNode(g),o.Factory.overWriteSetter(g,"width",c.getNumberOrAutoValidator()),o.Factory.overWriteSetter(g,"height",c.getNumberOrAutoValidator()),o.Factory.addGetterSetter(g,"fontFamily","Arial"),o.Factory.addGetterSetter(g,"fontSize",12,c.getNumberValidator()),o.Factory.addGetterSetter(g,"fontStyle","normal"),o.Factory.addGetterSetter(g,"fontVariant","normal"),o.Factory.addGetterSetter(g,"padding",0,c.getNumberValidator()),o.Factory.addGetterSetter(g,"align","left"),o.Factory.addGetterSetter(g,"verticalAlign","top"),o.Factory.addGetterSetter(g,"lineHeight",1,c.getNumberValidator()),o.Factory.addGetterSetter(g,"wrap","word"),o.Factory.addGetterSetter(g,"ellipsis",!1),o.Factory.addGetterSetter(g,"letterSpacing",0,c.getNumberValidator()),o.Factory.addGetterSetter(g,"text","",c.getStringValidator()),o.Factory.addGetterSetter(g,"textDecoration",""),s.Collection.mapMethods(g)},,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(239),i(248),i(250),i(252),i(254)},function(t,e,i){i(93),i(240),i(246);var r=i(85);t.exports=r.WeakSet},function(t,e,i){"use strict";i(241)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i(245),!1,!0)},function(t,e,i){"use strict";var r=i(57),n=i(6),a=i(86),s=i(24),o=i(201),h=i(195),l=i(59),c=i(16),f=i(8),u=i(87),p=i(39),d=i(244)
;t.exports=function(t,e,i,g,m){var y=n[t],v=y&&y.prototype,_=y,b=g?"set":"add",w={},x=function(t){var e=v[t];s(v,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(a(t,"function"!=typeof y||!(m||v.forEach&&!f((function(){(new y).entries().next()})))))_=i.getConstructor(e,t,g,b),o.REQUIRED=!0;else if(a(t,!0)){var S=new _,k=S[b](m?{}:-0,1)!=S,C=f((function(){S.has(1)})),A=u((function(t){new y(t)})),P=!m&&f((function(){for(var t=new y,e=5;e--;)t[b](e,e);return!t.has(-0)}));A||((_=e((function(e,i){l(e,_,t);var r=d(new y,e,_);return null!=i&&h(i,r[b],r,g),r}))).prototype=v,v.constructor=_),(C||P)&&(x("delete"),x("has"),g&&x("get")),(P||k)&&x(b),m&&v.clear&&delete v.clear}return w[t]=_,r({global:!0,forced:_!=y},w),p(_,t),m||i.setStrong(_,t,g),_}},function(t,e,i){var r=i(8);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,i){var r=i(22);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,i){var r=i(16),n=i(38);t.exports=function(t,e,i){var a,s;return n&&"function"==typeof(a=e.constructor)&&a!==i&&r(s=a.prototype)&&s!==i.prototype&&n(t,s),t}},function(t,e,i){"use strict";var r=i(88),n=i(201).getWeakData,a=i(22),s=i(16),o=i(59),h=i(195),l=i(17),c=i(11),f=i(27),u=f.set,p=f.getterFor,d=l.find,g=l.findIndex,m=0,y=function(t){return t.frozen||(t.frozen=new v)},v=function(){this.entries=[]},_=function(t,e){return d(t.entries,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var i=_(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,l){var f=t((function(t,r){o(t,f,e),u(t,{type:e,id:m++,frozen:void 0}),null!=r&&h(r,t[l],t,i)})),d=p(e),g=function(t,e,i){var r=d(t),s=n(a(e),!0);return!0===s?y(r).set(e,i):s[r.id]=i,t};return r(f.prototype,{delete:function(t){var e=d(this);if(!s(t))return!1;var i=n(t);return!0===i?y(e).delete(t):i&&c(i,e.id)&&delete i[e.id]},has:function(t){var e=d(this);if(!s(t))return!1;var i=n(t);return!0===i?y(e).has(t):i&&c(i,e.id)}}),r(f.prototype,i?{get:function(t){var e=d(this);if(s(t)){var i=n(t);return!0===i?y(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),f}}},function(t,e,i){var r=i(6),n=i(247),a=i(91),s=i(12),o=i(7),h=o("iterator"),l=o("toStringTag"),c=a.values;for(var f in n){var u=r[f],p=u&&u.prototype;if(p){if(p[h]!==c)try{s(p,h,c)}catch(t){p[h]=c}if(p[l]||s(p,l,f),n[f])for(var d in a)if(p[d]!==a[d])try{s(p,d,a[d])}catch(t){p[d]=a[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var r=i(57),n=i(34),a=i(249);r({target:"WeakSet",proto:!0,real:!0,forced:n},{addAll:function(){return a.apply(this,arguments)}})},function(t,e,i){"use strict";var r=i(22),n=i(33);t.exports=function(){for(var t=r(this),e=n(t.add),i=0,a=arguments.length;i<a;i++)e.call(t,arguments[i]);return t}},function(t,e,i){"use strict";var r=i(57),n=i(34),a=i(251);r({target:"WeakSet",proto:!0,real:!0,forced:n},{deleteAll:function(){return a.apply(this,arguments)}})},function(t,e,i){"use strict";var r=i(22),n=i(33);t.exports=function(){
for(var t=r(this),e=n(t.delete),i=!0,a=0,s=arguments.length;a<s;a++)i=i&&e.call(t,arguments[a]);return!!i}},function(t,e,i){i(57)({target:"WeakSet",stat:!0},{from:i(253)})},function(t,e,i){"use strict";var r=i(33),n=i(58),a=i(195);t.exports=function(t){var e,i,s,o,h=arguments.length,l=h>1?arguments[1]:void 0;return r(this),(e=void 0!==l)&&r(l),null==t?new this:(i=[],e?(s=0,o=n(l,h>2?arguments[2]:void 0,2),a(t,(function(t){i.push(o(t,s++))}))):a(t,i.push,i),new this(i))}},function(t,e,i){i(57)({target:"WeakSet",stat:!0},{of:i(255)})},function(t,e,i){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,i){t.exports=i(257)},function(t,e,i){i(258);var r=i(202);t.exports=r("String","endsWith")},function(t,e,i){"use strict";var r=i(57),n=i(10),a=i(259),s=i(60),o=i(261),h="".endsWith,l=Math.min;r({target:"String",proto:!0,forced:!o("endsWith")},{endsWith:function(t){var e=String(s(this));a(t);var i=arguments.length>1?arguments[1]:void 0,r=n(e.length),o=void 0===i?r:l(n(i),r),c=String(t);return h?h.call(e,c,o):e.slice(o-c.length,o)===c}})},function(t,e,i){var r=i(260);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,i){var r=i(16),n=i(35),a=i(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},function(t,e,i){var r=i(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,i){t.exports=i(263)},function(t,e,i){i(264);var r=i(202);t.exports=r("Array","find")},function(t,e,i){"use strict";var r=i(57),n=i(17).find,a=i(92),s=!0;"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("find")},,function(t,e){(function(e){t.exports=e}).call(this,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var r=i(384),n=i(188),a=i(209),s=i(197),o=i(210),h=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(s[i]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(i=r.deflateSetDictionary(this.strm,c)))throw new Error(s[i]);this._dict_set=!0}}function c(t,e){var i=new l(e);if(i.push(t,!0),i.err)throw i.msg||s[i.err];return i.result}l.prototype.push=function(t,e){var i,s,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=a.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(l),o.next_out=0,o.avail_out=l),1!==(i=r.deflate(o,s))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===s?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==s||(this.onEnd(0),o.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=l,e.deflate=c,
e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},function(t,e,i){"use strict";var r,n=i(188),a=i(385),s=i(207),o=i(208),h=i(197);function l(t,e){return t.msg=h[e],e}function c(t){return(t<<1)-(t>4?9:0)}function f(t){for(var e=t.length;--e>=0;)t[e]=0}function u(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function p(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,u(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function g(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function m(t,e){var i,r,n=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,c=t.w_mask,f=t.prev,u=t.strstart+258,p=l[a+s-1],d=l[a+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(l[(i=e)+s]===d&&l[i+s-1]===p&&l[i]===l[a]&&l[++i]===l[a+1]){a+=2,i++;do{}while(l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&a<u);if(r=258-(u-a),a=u-258,r>s){if(t.match_start=e,s=r,r>=o)break;p=l[a+s-1],d=l[a+s]}}}while((e=f[e&c])>h&&0!=--n);return s<=t.lookahead?s:t.lookahead}function y(t){var e,i,r,a,h,l,c,f,u,p,d=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-262)){n.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=i=t.hash_size;do{r=t.head[--e],t.head[e]=r>=d?r-d:0}while(--i);e=i=d;do{r=t.prev[--e],t.prev[e]=r>=d?r-d:0}while(--i);a+=d}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,f=t.strstart+t.lookahead,u=a,p=void 0,(p=l.avail_in)>u&&(p=u),i=0===p?0:(l.avail_in-=p,n.arraySet(c,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=s(l.adler,c,p,f):2===l.state.wrap&&(l.adler=o(l.adler,c,p,f)),l.next_in+=p,l.total_in+=p,p),t.lookahead+=i,t.lookahead+t.insert>=3)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+3-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function v(t,e){for(var i,r;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-262&&(t.match_length=m(t,i)),t.match_length>=3)if(r=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function _(t,e){for(var i,r,n;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-262&&(t.match_length=m(t,i),
t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,r=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=a._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function b(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):l(t,-2)}function S(t){var e,i=x(t);return 0===i&&((e=t.state).window_size=2*e.w_size,f(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i}function k(t,e,i,r,a,s){if(!t)return-2;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||8!==i||r<8||r>15||e<0||e>9||s<0||s>4)return l(t,-2);8===r&&(r=9);var h=new w;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,S(t)}r=[new b(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(y(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)
})),new b(4,4,8,4,v),new b(4,5,16,8,v),new b(4,6,32,32,v),new b(4,4,16,16,_),new b(8,16,32,32,_),new b(8,16,128,128,_),new b(8,32,128,256,_),new b(32,128,258,1024,_),new b(32,258,258,4096,_)],e.deflateInit=function(t,e){return k(t,e,8,15,8,0)},e.deflateInit2=k,e.deflateReset=S,e.deflateResetKeep=x,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var i,n,s,h;if(!t||!t.state||e>5||e<0)return t?l(t,-2):-2;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return l(t,0===t.avail_out?-5:-2);if(n.strm=t,i=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,d(n,31),d(n,139),d(n,8),n.gzhead?(d(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),d(n,255&n.gzhead.time),d(n,n.gzhead.time>>8&255),d(n,n.gzhead.time>>16&255),d(n,n.gzhead.time>>24&255),d(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),d(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(d(n,255&n.gzhead.extra.length),d(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(d(n,0),d(n,0),d(n,0),d(n,0),d(n,0),d(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),d(n,3),n.status=113);else{var m=8+(n.w_bits-8<<4)<<8;m|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(m|=32),m+=31-m%31,n.status=113,g(n,m),0!==n.strstart&&(g(n,t.adler>>>16),g(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),u(t),s=n.pending,n.pending!==n.pending_buf_size));)d(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),u(t),s=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,d(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===h&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),u(t),s=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,d(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===h&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&u(t),n.pending+2<=n.pending_buf_size&&(d(n,255&t.adler),d(n,t.adler>>8&255),t.adler=0,n.status=113)):n.status=113),0!==n.pending){if(u(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(i)&&4!==e)return l(t,-5);if(666===n.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var v=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(y(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var i,r,n,s,o=t.window;;){if(t.lookahead<=258){if(y(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[n=t.strstart-1])===o[++n]&&r===o[++n]&&r===o[++n]){s=t.strstart+258;do{}while(r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}
if(t.match_length>=3?(i=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(n,e):r[n.level].func(n,e);if(3!==v&&4!==v||(n.status=666),1===v||3===v)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===v&&(1===e?a._tr_align(n):5!==e&&(a._tr_stored_block(n,0,0,!1),3===e&&(f(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),u(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(d(n,255&t.adler),d(n,t.adler>>8&255),d(n,t.adler>>16&255),d(n,t.adler>>24&255),d(n,255&t.total_in),d(n,t.total_in>>8&255),d(n,t.total_in>>16&255),d(n,t.total_in>>24&255)):(g(n,t.adler>>>16),g(n,65535&t.adler)),u(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?l(t,-2):(t.state=null,113===e?l(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var i,r,a,o,h,l,c,u,p=e.length;if(!t||!t.state)return-2;if(2===(o=(i=t.state).wrap)||1===o&&42!==i.status||i.lookahead)return-2;for(1===o&&(t.adler=s(t.adler,e,p,0)),i.wrap=0,p>=i.w_size&&(0===o&&(f(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new n.Buf8(i.w_size),n.arraySet(u,e,p-i.w_size,i.w_size,0),e=u,p=i.w_size),h=t.avail_in,l=t.next_in,c=t.input,t.avail_in=p,t.next_in=0,t.input=e,y(i);i.lookahead>=3;){r=i.strstart,a=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+3-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--a);i.strstart=r,i.lookahead=2,y(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=l,t.input=c,t.avail_in=h,i.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,i){"use strict";var r=i(188);function n(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);n(l);var c=new Array(60);n(c);var f=new Array(512);n(f);var u=new Array(256);n(u);var p=new Array(29);n(p);var d,g,m,y=new Array(30);function v(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?f[t]:f[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function S(t,e,i){x(t,i[2*e],i[2*e+1])}function k(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function C(t,e,i){var r,n,a=new Array(16),s=0;for(r=1;r<=15;r++)a[r]=s=s+i[r-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=k(a[o]++,o))}}function A(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function P(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function M(t,e,i,r){var n=2*e,a=2*i;return t[n]<t[a]||t[n]===t[a]&&r[e]<=r[i]}function F(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&M(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!M(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function T(t,e,i){var r,n,o,h,l=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],n=t.pending_buf[t.l_buf+l],l++,0===r?S(t,n,e):(S(t,(o=u[n])+256+1,e),0!==(h=a[o])&&x(t,n-=p[o],h),S(t,o=b(--r),i),0!==(h=s[o])&&x(t,r-=y[o],h))
}while(l<t.last_lit);S(t,256,e)}function E(t,e){var i,r,n,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==a[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):a[2*i+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)F(t,a,i);n=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],F(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,a[2*n]=a[2*i]+a[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,a[2*i+1]=a[2*r+1]=n,t.heap[1]=n++,F(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,r,n,a,s,o,h=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(a=h[2*h[2*(r=t.heap[i])+1]+1]+1)>d&&(a=d,g++),h[2*r+1]=a,r>l||(t.bl_count[a]++,s=0,r>=p&&(s=u[r-p]),o=h[2*r],t.opt_len+=o*(a+s),f&&(t.static_len+=o*(c[2*r+1]+s)));if(0!==g){do{for(a=d-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(a=d;0!==a;a--)for(r=t.bl_count[a];0!==r;)(n=t.heap[--i])>l||(h[2*n+1]!==a&&(t.opt_len+=(a-h[2*n+1])*h[2*n],h[2*n+1]=a),r--)}}(t,e),C(a,l,t.bl_count)}function D(t,e,i){var r,n,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(i+1)+1]=65535,r=0;r<=i;r++)n=s,s=e[2*(r+1)+1],++o<h&&n===s||(o<l?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=n,0===s?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4))}function O(t,e,i){var r,n,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),r=0;r<=i;r++)if(n=s,s=e[2*(r+1)+1],!(++o<h&&n===s)){if(o<l)do{S(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==a&&(S(t,n,t.bl_tree),o--),S(t,16,t.bl_tree),x(t,o-3,2)):o<=10?(S(t,17,t.bl_tree),x(t,o-3,3)):(S(t,18,t.bl_tree),x(t,o-11,7));o=0,a=n,0===s?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4)}}n(y);var L=!1;function I(t,e,i,n){x(t,0+(n?1:0),3),function(t,e,i,n){P(t),n&&(w(t,i),w(t,~i)),r.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}e._tr_init=function(t){L||(!function(){var t,e,i,r,n,h=new Array(16);for(i=0,r=0;r<28;r++)for(p[r]=i,t=0;t<1<<a[r];t++)u[i++]=r;for(u[i-1]=r,n=0,r=0;r<16;r++)for(y[r]=n,t=0;t<1<<s[r];t++)f[n++]=r;for(n>>=7;r<30;r++)for(y[r]=n<<7,t=0;t<1<<s[r]-7;t++)f[256+n++]=r;for(e=0;e<=15;e++)h[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,h[8]++;for(;t<=255;)l[2*t+1]=9,t++,h[9]++;for(;t<=279;)l[2*t+1]=7,t++,h[7]++;for(;t<=287;)l[2*t+1]=8,t++,h[8]++;for(C(l,287,h),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=k(t,5);d=new v(l,a,257,286,15),g=new v(c,s,0,30,15),m=new v(new Array(0),o,0,19,7)}(),L=!0),t.l_desc=new _(t.dyn_ltree,d),t.d_desc=new _(t.dyn_dtree,g),t.bl_desc=new _(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,A(t)},e._tr_stored_block=I,e._tr_flush_block=function(t,e,i,r){var n,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),E(t,t.l_desc),E(t,t.d_desc),s=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),E(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=i+5,i+4<=n&&-1!==e?I(t,e,i,r):4===t.strategy||a===n?(x(t,2+(r?1:0),3),T(t,l,c)):(x(t,4+(r?1:0),3),function(t,e,i,r){var n;for(x(t,e-257,5),x(t,i-1,5),x(t,r-4,4),n=0;n<r;n++)x(t,t.bl_tree[2*h[n]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),T(t,t.dyn_ltree,t.dyn_dtree)),A(t),r&&P(t)},e._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,
0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(u[i]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),S(t,256,l),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,i){"use strict";var r=i(387),n=i(188),a=i(209),s=i(211),o=i(197),h=i(210),l=i(390),c=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,e.windowBits);if(i!==s.Z_OK)throw new Error(o[i]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=r.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(o[i])}function u(t,e){var i=new f(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}f.prototype.push=function(t,e){var i,o,h,l,f,u=this.strm,p=this.options.chunkSize,d=this.options.dictionary,g=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?u.input=a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new n.Buf8(p),u.next_out=0,u.avail_out=p),(i=r.inflate(u,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(i=r.inflateSetDictionary(this.strm,d)),i===s.Z_BUF_ERROR&&!0===g&&(i=s.Z_OK,g=!1),i!==s.Z_STREAM_END&&i!==s.Z_OK)return this.onEnd(i),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&i!==s.Z_STREAM_END&&(0!==u.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(h=a.utf8border(u.output,u.next_out),l=u.next_out-h,f=a.buf2string(u.output,h),u.next_out=l,u.avail_out=p-l,l&&n.arraySet(u.output,u.output,h,l,0),this.onData(f)):this.onData(n.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(g=!0)}while((u.avail_in>0||0===u.avail_out)&&i!==s.Z_STREAM_END);return i===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),u.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=f,e.inflate=u,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.ungzip=u},function(t,e,i){"use strict";var r=i(188),n=i(207),a=i(208),s=i(388),o=i(389);function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function f(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):-2}function u(t,e){var i,r
;return t&&t.state?(r=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,f(t))):-2}function p(t,e){var i,r;return t?(r=new l,t.state=r,r.window=null,0!==(i=u(t,e))&&(t.state=null),i):-2}var d,g,m=!0;function y(t){if(m){var e;for(d=new r.Buf32(512),g=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,g,0,t.work,{bits:5}),m=!1}t.lencode=d,t.lenbits=9,t.distcode=g,t.distbits=5}function v(t,e,i,n){var a,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),n>=s.wsize?(r.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>n&&(a=n),r.arraySet(s.window,e,i-n,a,s.wnext),(n-=a)?(r.arraySet(s.window,e,i-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}e.inflateReset=f,e.inflateReset2=u,e.inflateResetKeep=c,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var i,l,c,f,u,p,d,g,m,_,b,w,x,S,k,C,A,P,M,F,T,E,D,O,L=0,I=new r.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(i=t.state).mode&&(i.mode=13),u=t.next_out,c=t.output,d=t.avail_out,f=t.next_in,l=t.input,p=t.avail_in,g=i.hold,m=i.bits,_=p,b=d,E=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;m<16;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(2&i.wrap&&35615===g){i.check=0,I[0]=255&g,I[1]=g>>>8&255,i.check=a(i.check,I,2,0),g=0,m=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",i.mode=30;break}if(m-=4,T=8+(15&(g>>>=4)),0===i.wbits)i.wbits=T;else if(T>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<T,t.adler=i.check=1,i.mode=512&g?10:12,g=0,m=0;break;case 2:for(;m<16;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(i.flags=g,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=a(i.check,I,2,0)),g=0,m=0,i.mode=3;case 3:for(;m<32;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.head&&(i.head.time=g),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,I[2]=g>>>16&255,I[3]=g>>>24&255,i.check=a(i.check,I,4,0)),g=0,m=0,i.mode=4;case 4:for(;m<16;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=a(i.check,I,2,0)),g=0,m=0,i.mode=5;case 5:if(1024&i.flags){for(;m<16;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=a(i.check,I,2,0)),g=0,m=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((w=i.length)>p&&(w=p),w&&(i.head&&(T=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,l,f,w,T)),512&i.flags&&(i.check=a(i.check,l,w,f)),p-=w,f+=w,i.length-=w),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===p)break t;w=0;do{T=l[f+w++],i.head&&T&&i.length<65536&&(i.head.name+=String.fromCharCode(T))}while(T&&w<p);if(512&i.flags&&(i.check=a(i.check,l,w,f)),p-=w,f+=w,T)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===p)break t;w=0;do{T=l[f+w++],i.head&&T&&i.length<65536&&(i.head.comment+=String.fromCharCode(T))}while(T&&w<p);if(512&i.flags&&(i.check=a(i.check,l,w,f)),p-=w,f+=w,T)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;m<16;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(g!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}g=0,m=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;m<32;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}
t.adler=i.check=h(g),g=0,m=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=u,t.avail_out=d,t.next_in=f,t.avail_in=p,i.hold=g,i.bits=m,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){g>>>=7&m,m-=7&m,i.mode=27;break}for(;m<3;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}switch(i.last=1&g,m-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(y(i),i.mode=20,6===e){g>>>=2,m-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}g>>>=2,m-=2;break;case 14:for(g>>>=7&m,m-=7&m;m<32;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&g,g=0,m=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(w=i.length){if(w>p&&(w=p),w>d&&(w=d),0===w)break t;r.arraySet(c,l,f,w,u),p-=w,f+=w,d-=w,u+=w,i.length-=w;break}i.mode=12;break;case 17:for(;m<14;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(i.nlen=257+(31&g),g>>>=5,m-=5,i.ndist=1+(31&g),g>>>=5,m-=5,i.ncode=4+(15&g),g>>>=4,m-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;m<3;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.lens[R[i.have++]]=7&g,g>>>=3,m-=3}for(;i.have<19;)i.lens[R[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,D={bits:i.lenbits},E=o(0,i.lens,0,19,i.lencode,0,i.work,D),i.lenbits=D.bits,E){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;C=(L=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,A=65535&L,!((k=L>>>24)<=m);){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(A<16)g>>>=k,m-=k,i.lens[i.have++]=A;else{if(16===A){for(O=k+2;m<O;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(g>>>=k,m-=k,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}T=i.lens[i.have-1],w=3+(3&g),g>>>=2,m-=2}else if(17===A){for(O=k+3;m<O;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}m-=k,T=0,w=3+(7&(g>>>=k)),g>>>=3,m-=3}else{for(O=k+7;m<O;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}m-=k,T=0,w=11+(127&(g>>>=k)),g>>>=7,m-=7}if(i.have+w>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;w--;)i.lens[i.have++]=T}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,D={bits:i.lenbits},E=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,D),i.lenbits=D.bits,E){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,D={bits:i.distbits},E=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,D),i.distbits=D.bits,E){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(p>=6&&d>=258){t.next_out=u,t.avail_out=d,t.next_in=f,t.avail_in=p,i.hold=g,i.bits=m,s(t,b),u=t.next_out,c=t.output,d=t.avail_out,f=t.next_in,l=t.input,p=t.avail_in,g=i.hold,m=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;C=(L=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,A=65535&L,!((k=L>>>24)<=m);){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(C&&0==(240&C)){for(P=k,M=C,F=A;C=(L=i.lencode[F+((g&(1<<P+M)-1)>>P)])>>>16&255,A=65535&L,!(P+(k=L>>>24)<=m);){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}g>>>=P,m-=P,i.back+=P}if(g>>>=k,m-=k,i.back+=k,i.length=A,0===C){i.mode=26;break}if(32&C){i.back=-1,i.mode=12;break}if(64&C){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&C,i.mode=22;case 22:if(i.extra){for(O=i.extra;m<O;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,m-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;C=(L=i.distcode[g&(1<<i.distbits)-1])>>>16&255,A=65535&L,!((k=L>>>24)<=m);){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(0==(240&C)){for(P=k,M=C,F=A;C=(L=i.distcode[F+((g&(1<<P+M)-1)>>P)])>>>16&255,A=65535&L,!(P+(k=L>>>24)<=m);){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}g>>>=P,m-=P,i.back+=P}if(g>>>=k,m-=k,i.back+=k,64&C){t.msg="invalid distance code",i.mode=30;break}i.offset=A,i.extra=15&C,i.mode=24;case 24:if(i.extra){for(O=i.extra;m<O;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,m-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){
t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===d)break t;if(w=b-d,i.offset>w){if((w=i.offset-w)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}w>i.wnext?(w-=i.wnext,x=i.wsize-w):x=i.wnext-w,w>i.length&&(w=i.length),S=i.window}else S=c,x=u-i.offset,w=i.length;w>d&&(w=d),d-=w,i.length-=w;do{c[u++]=S[x++]}while(--w);0===i.length&&(i.mode=21);break;case 26:if(0===d)break t;c[u++]=i.length,d--,i.mode=21;break;case 27:if(i.wrap){for(;m<32;){if(0===p)break t;p--,g|=l[f++]<<m,m+=8}if(b-=d,t.total_out+=b,i.total+=b,b&&(t.adler=i.check=i.flags?a(i.check,c,b,u-b):n(i.check,c,b,u-b)),b=d,(i.flags?g:h(g))!==i.check){t.msg="incorrect data check",i.mode=30;break}g=0,m=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;m<32;){if(0===p)break t;p--,g+=l[f++]<<m,m+=8}if(g!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}g=0,m=0}i.mode=29;case 29:E=1;break t;case 30:E=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=u,t.avail_out=d,t.next_in=f,t.avail_in=p,i.hold=g,i.bits=m,(i.wsize||b!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&v(t,t.output,t.next_out,b-t.avail_out)?(i.mode=31,-4):(_-=t.avail_in,b-=t.avail_out,t.total_in+=_,t.total_out+=b,i.total+=b,i.wrap&&b&&(t.adler=i.check=i.flags?a(i.check,c,b,t.next_out-b):n(i.check,c,b,t.next_out-b)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===_&&0===b||4===e)&&0===E&&(E=-5),E)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?-2:(i.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var i,r=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?-2:11===i.mode&&n(1,e,r,0)!==i.check?-3:v(t,e,r,r)?(i.mode=31,-4):(i.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,i){"use strict";t.exports=function(t,e){var i,r,n,a,s,o,h,l,c,f,u,p,d,g,m,y,v,_,b,w,x,S,k,C,A;i=t.state,r=t.next_in,C=t.input,n=r+(t.avail_in-5),a=t.next_out,A=t.output,s=a-(e-t.avail_out),o=a+(t.avail_out-257),h=i.dmax,l=i.wsize,c=i.whave,f=i.wnext,u=i.window,p=i.hold,d=i.bits,g=i.lencode,m=i.distcode,y=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;t:do{d<15&&(p+=C[r++]<<d,d+=8,p+=C[r++]<<d,d+=8),_=g[p&y];e:for(;;){if(p>>>=b=_>>>24,d-=b,0===(b=_>>>16&255))A[a++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(p&(1<<b)-1)];continue e}if(32&b){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&_,(b&=15)&&(d<b&&(p+=C[r++]<<d,d+=8),w+=p&(1<<b)-1,p>>>=b,d-=b),d<15&&(p+=C[r++]<<d,d+=8,p+=C[r++]<<d,d+=8),_=m[p&v];i:for(;;){if(p>>>=b=_>>>24,d-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(p&(1<<b)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&_,d<(b&=15)&&(p+=C[r++]<<d,(d+=8)<b&&(p+=C[r++]<<d,d+=8)),(x+=p&(1<<b)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=b,d-=b,x>(b=a-s)){if((b=x-b)>c&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(S=0,k=u,0===f){if(S+=l-b,b<w){w-=b;do{A[a++]=u[S++]}while(--b);S=a-x,k=A}}else if(f<b){if(S+=l+f-b,(b-=f)<w){w-=b;do{A[a++]=u[S++]}while(--b);if(S=0,f<w){w-=b=f;do{A[a++]=u[S++]}while(--b);S=a-x,k=A}}}else if(S+=f-b,b<w){w-=b;do{A[a++]=u[S++]}while(--b);S=a-x,k=A}for(;w>2;)A[a++]=k[S++],A[a++]=k[S++],A[a++]=k[S++],w-=3;w&&(A[a++]=k[S++],w>1&&(A[a++]=k[S++]))}else{S=a-x;do{A[a++]=A[S++],A[a++]=A[S++],A[a++]=A[S++],w-=3}while(w>2);w&&(A[a++]=A[S++],w>1&&(A[a++]=A[S++]))}break}}break}}while(r<n&&a<o);r-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=a<o?o-a+257:257-(a-o),i.hold=p,i.bits=d}},function(t,e,i){"use strict"
;var r=i(188),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,i,h,l,c,f,u){var p,d,g,m,y,v,_,b,w,x=u.bits,S=0,k=0,C=0,A=0,P=0,M=0,F=0,T=0,E=0,D=0,O=null,L=0,I=new r.Buf16(16),R=new r.Buf16(16),N=null,G=0;for(S=0;S<=15;S++)I[S]=0;for(k=0;k<h;k++)I[e[i+k]]++;for(P=x,A=15;A>=1&&0===I[A];A--);if(P>A&&(P=A),0===A)return l[c++]=20971520,l[c++]=20971520,u.bits=1,0;for(C=1;C<A&&0===I[C];C++);for(P<C&&(P=C),T=1,S=1;S<=15;S++)if(T<<=1,(T-=I[S])<0)return-1;if(T>0&&(0===t||1!==A))return-1;for(R[1]=0,S=1;S<15;S++)R[S+1]=R[S]+I[S];for(k=0;k<h;k++)0!==e[i+k]&&(f[R[e[i+k]]++]=k);if(0===t?(O=N=f,v=19):1===t?(O=n,L-=257,N=a,G-=257,v=256):(O=s,N=o,v=-1),D=0,k=0,S=C,y=c,M=P,F=0,g=-1,m=(E=1<<P)-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){_=S-F,f[k]<v?(b=0,w=f[k]):f[k]>v?(b=N[G+f[k]],w=O[L+f[k]]):(b=96,w=0),p=1<<S-F,C=d=1<<M;do{l[y+(D>>F)+(d-=p)]=_<<24|b<<16|w|0}while(0!==d);for(p=1<<S-1;D&p;)p>>=1;if(0!==p?(D&=p-1,D+=p):D=0,k++,0==--I[S]){if(S===A)break;S=e[i+f[k]]}if(S>P&&(D&m)!==g){for(0===F&&(F=P),y+=C,T=1<<(M=S-F);M+F<A&&!((T-=I[M+F])<=0);)M++,T<<=1;if(E+=1<<M,1===t&&E>852||2===t&&E>592)return 1;l[g=D&m]=P<<24|M<<16|y-c|0}}return 0!==D&&(l[y+D]=S-F<<24|64<<16|0),u.bits=P,0}},function(t,e,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,i){"use strict";t.exports=i(392)},function(t,e,i){"use strict";var r=e;function n(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=i(212),r.BufferWriter=i(401),r.Reader=i(213),r.BufferReader=i(402),r.util=i(189),r.rpc=i(403),r.roots=i(405),r.configure=n,r.Writer._configure(r.BufferWriter),n()},function(t,e,i){"use strict";t.exports=function(t,e){var i=new Array(arguments.length-1),r=0,n=2,a=!0;for(;n<arguments.length;)i[r++]=arguments[n++];return new Promise((function(n,s){i[r]=function(t){if(a)if(a=!1,t)s(t);else{for(var e=new Array(arguments.length-1),i=0;i<e.length;)e[i++]=arguments[i];n.apply(null,e)}};try{t.apply(e||null,i)}catch(t){a&&(a=!1,s(t))}}))}},function(t,e,i){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var i=0;--e%4>1&&"="===t.charAt(e);)++i;return Math.ceil(3*t.length)/4-i};for(var n=new Array(64),a=new Array(123),s=0;s<64;)a[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,i){for(var r,a=null,s=[],o=0,h=0;e<i;){var l=t[e++];switch(h){case 0:s[o++]=n[l>>2],r=(3&l)<<4,h=1;break;case 1:s[o++]=n[r|l>>4],r=(15&l)<<2,h=2;break;case 2:s[o++]=n[r|l>>6],s[o++]=n[63&l],h=0}o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0)}return h&&(s[o++]=n[r],s[o++]=61,1===h&&(s[o++]=61)),a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};r.decode=function(t,e,i){for(var r,n=i,s=0,o=0;o<t.length;){var h=t.charCodeAt(o++);if(61===h&&s>1)break;if(void 0===(h=a[h]))throw Error("invalid encoding");switch(s){case 0:r=h,s=1;break;case 1:e[i++]=r<<2|(48&h)>>4,r=h,s=2;break;case 2:e[i++]=(15&r)<<4|(60&h)>>2,r=h,s=3;break;case 3:e[i++]=(3&r)<<6|h,s=0}}if(1===s)throw Error("invalid encoding");return i-n},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,i){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,i){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:i||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var i=this._listeners[t],r=0;r<i.length;)i[r].fn===e?i.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t]
;if(e){for(var i=[],r=1;r<arguments.length;)i.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,i)}return this}},function(t,e,i){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),i=new Uint8Array(e.buffer),r=128===i[3];function n(t,r,n){e[0]=t,r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}function a(t,r,n){e[0]=t,r[n]=i[3],r[n+1]=i[2],r[n+2]=i[1],r[n+3]=i[0]}function s(t,r){return i[0]=t[r],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],e[0]}function o(t,r){return i[3]=t[r],i[2]=t[r+1],i[1]=t[r+2],i[0]=t[r+3],e[0]}t.writeFloatLE=r?n:a,t.writeFloatBE=r?a:n,t.readFloatLE=r?s:o,t.readFloatBE=r?o:s}():function(){function e(t,e,i,r){var n=e<0?1:0;if(n&&(e=-e),0===e)t(1/e>0?0:2147483648,i,r);else if(isNaN(e))t(2143289344,i,r);else if(e>34028234663852886e22)t((n<<31|2139095040)>>>0,i,r);else if(e<11754943508222875e-54)t((n<<31|Math.round(e/1401298464324817e-60))>>>0,i,r);else{var a=Math.floor(Math.log(e)/Math.LN2);t((n<<31|a+127<<23|8388607&Math.round(e*Math.pow(2,-a)*8388608))>>>0,i,r)}}function i(t,e,i){var r=t(e,i),n=2*(r>>31)+1,a=r>>>23&255,s=8388607&r;return 255===a?s?NaN:n*(1/0):0===a?1401298464324817e-60*n*s:n*Math.pow(2,a-150)*(s+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,a),t.readFloatLE=i.bind(null,s),t.readFloatBE=i.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),i=new Uint8Array(e.buffer),r=128===i[7];function n(t,r,n){e[0]=t,r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3],r[n+4]=i[4],r[n+5]=i[5],r[n+6]=i[6],r[n+7]=i[7]}function a(t,r,n){e[0]=t,r[n]=i[7],r[n+1]=i[6],r[n+2]=i[5],r[n+3]=i[4],r[n+4]=i[3],r[n+5]=i[2],r[n+6]=i[1],r[n+7]=i[0]}function s(t,r){return i[0]=t[r],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],i[4]=t[r+4],i[5]=t[r+5],i[6]=t[r+6],i[7]=t[r+7],e[0]}function o(t,r){return i[7]=t[r],i[6]=t[r+1],i[5]=t[r+2],i[4]=t[r+3],i[3]=t[r+4],i[2]=t[r+5],i[1]=t[r+6],i[0]=t[r+7],e[0]}t.writeDoubleLE=r?n:a,t.writeDoubleBE=r?a:n,t.readDoubleLE=r?s:o,t.readDoubleBE=r?o:s}():function(){function e(t,e,i,r,n,a){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,n,a+e),t(1/r>0?0:2147483648,n,a+i);else if(isNaN(r))t(0,n,a+e),t(2146959360,n,a+i);else if(r>17976931348623157e292)t(0,n,a+e),t((s<<31|2146435072)>>>0,n,a+i);else{var o;if(r<22250738585072014e-324)t((o=r/5e-324)>>>0,n,a+e),t((s<<31|o/4294967296)>>>0,n,a+i);else{var h=Math.floor(Math.log(r)/Math.LN2);1024===h&&(h=1023),t(4503599627370496*(o=r*Math.pow(2,-h))>>>0,n,a+e),t((s<<31|h+1023<<20|1048576*o&1048575)>>>0,n,a+i)}}}function i(t,e,i,r,n){var a=t(r,n+e),s=t(r,n+i),o=2*(s>>31)+1,h=s>>>20&2047,l=4294967296*(1048575&s)+a;return 2047===h?l?NaN:o*(1/0):0===h?5e-324*o*l:o*Math.pow(2,h-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,a,4,0),t.readDoubleLE=i.bind(null,s,0,4),t.readDoubleBE=i.bind(null,o,4,0)}(),t}function n(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}function a(t,e,i){e[i]=t>>>24,e[i+1]=t>>>16&255,e[i+2]=t>>>8&255,e[i+3]=255&t}function s(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,i){"use strict";var r=e;r.length=function(t){for(var e=0,i=0,r=0;r<t.length;++r)(i=t.charCodeAt(r))<128?e+=1:i<2048?e+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,i){if(i-e<1)return"";for(var r,n=null,a=[],s=0;e<i;)(r=t[e++])<128?a[s++]=r:r>191&&r<224?a[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,a[s++]=55296+(r>>10),a[s++]=56320+(1023&r)):a[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0);return n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),
n.join("")):String.fromCharCode.apply(String,a.slice(0,s))},r.write=function(t,e,i){for(var r,n,a=i,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296==(64512&r)&&56320==(64512&(n=t.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&n),++s,e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128);return i-a}},function(t,e,i){"use strict";t.exports=function(t,e,i){var r=i||8192,n=r>>>1,a=null,s=r;return function(i){if(i<1||i>n)return t(i);s+i>r&&(a=t(r),s=0);var o=e.call(a,s,s+=i);return 7&s&&(s=1+(7|s)),o}}},function(t,e,i){"use strict";t.exports=n;var r=i(189);function n(t,e){this.lo=t>>>0,this.hi=e>>>0}var a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(t){if(0===t)return a;var e=t<0;e&&(t=-t);var i=t>>>0,r=(t-i)/4294967296>>>0;return e&&(r=~r>>>0,i=~i>>>0,++i>4294967295&&(i=0,++r>4294967295&&(r=0))),new n(i,r)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(r.isString(t)){if(!r.Long)return n.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):a},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,i=~this.hi>>>0;return e||(i=i+1>>>0),-(e+4294967296*i)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var o=String.prototype.charCodeAt;n.fromHash=function(t){return t===s?a:new n((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:i<128?9:10}},function(t,e,i){"use strict";t.exports=s;var r=i(212);(s.prototype=Object.create(r.prototype)).constructor=s;var n=i(189),a=n.Buffer;function s(){r.call(this)}s.alloc=function(t){return(s.alloc=n._Buffer_allocUnsafe)(t)};var o=a&&a.prototype instanceof Uint8Array&&"set"===a.prototype.set.name?function(t,e,i){e.set(t,i)}:function(t,e,i){if(t.copy)t.copy(e,i,0,t.length);else for(var r=0;r<t.length;)e[i++]=t[r++]};function h(t,e,i){t.length<40?n.utf8.write(t,e,i):e.utf8Write(t,i)}s.prototype.bytes=function(t){n.isString(t)&&(t=n._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(o,e,t),this},s.prototype.string=function(t){var e=a.byteLength(t);return this.uint32(e),e&&this._push(h,e,t),this}},function(t,e,i){"use strict";t.exports=a;var r=i(213);(a.prototype=Object.create(r.prototype)).constructor=a;var n=i(189);function a(t){r.call(this,t)}n.Buffer&&(a.prototype._slice=n.Buffer.prototype.slice),a.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,i){"use strict";e.Service=i(404)},function(t,e,i){"use strict";t.exports=n;var r=i(189);function n(t,e,i){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(i)}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function t(e,i,n,a,s){if(!a)throw TypeError("request must be specified");var o=this;if(!s)return r.asPromise(t,o,e,i,n,a);if(o.rpcImpl)try{
return o.rpcImpl(e,i[o.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(t,i){if(t)return o.emit("error",t,e),s(t);if(null!==i){if(!(i instanceof n))try{i=n[o.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return o.emit("error",t,e),s(t)}return o.emit("data",i,e),s(null,i)}o.end(!0)}))}catch(t){return o.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,i){"use strict";t.exports={}},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(410),n=i(415),a=i(416),s=i(417),o=i(418),h=i(419),l=i(420),c=i(218),f=i(219),u=i(220),p=i(421),d=i(422),g=i(423),m=i(424),y=i(221),v=i(425),_=i(426),b=i(427),w=i(428),x=i(429),S=i(430),k=i(431),C=i(432),A=i(433),P=i(434),M=i(435),F=i(436),T=i(437),E=i(438),D=i(439),O=i(440),L=i(441),I=i(442),R=i(443),N=i(444),G=i(445),z=i(446);e.Konva=r.Konva.Util._assign(r.Konva,{Arc:n.Arc,Arrow:a.Arrow,Circle:s.Circle,Ellipse:o.Ellipse,Image:h.Image,Label:l.Label,Tag:l.Tag,Line:c.Line,Path:f.Path,Rect:u.Rect,RegularPolygon:p.RegularPolygon,Ring:d.Ring,Sprite:g.Sprite,Star:m.Star,Text:y.Text,TextPath:v.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:x.Brighten,Contrast:S.Contrast,Emboss:k.Emboss,Enhance:C.Enhance,Grayscale:A.Grayscale,HSL:P.HSL,HSV:M.HSV,Invert:F.Invert,Kaleidoscope:T.Kaleidoscope,Mask:E.Mask,Noise:D.Noise,Pixelate:O.Pixelate,Posterize:L.Posterize,RGB:I.RGB,RGBA:R.RGBA,Sepia:N.Sepia,Solarize:G.Solarize,Threshold:z.Threshold}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=i(183),a=i(185),s=i(191),o=i(411),h=i(412),l=i(413),c=i(199),f=i(194),u=i(186),p=i(200),d=i(414),g=i(215),m=i(193);e.Konva=n.Util._assign(r.Konva,{Collection:n.Collection,Util:n.Util,Node:a.Node,ids:a.ids,names:a.names,Container:s.Container,Stage:o.Stage,stages:o.stages,Layer:h.Layer,FastLayer:l.FastLayer,Group:c.Group,DD:f.DD,Shape:u.Shape,shapes:u.shapes,Animation:p.Animation,Tween:d.Tween,Easings:d.Easings,Context:g.Context,Canvas:m.Canvas})},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(183),o=i(180),h=i(191),l=i(181),c=i(193),f=i(194),u=i(181),p=i(216),d=["mouseenter","mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu","pointerdown","pointermove","pointerup","pointercancel","lostpointercapture"],g=d.length;function m(t,e){t.content.addEventListener(e,(function(i){t["_"+e](i)}),!1)}function y(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&s.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var v=function(t){function i(i){var r=t.call(this,y(i))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){y(r.attrs)})),r._checkVisibility(),r}return a(i,t),i.prototype._validateAdd=function(t){var e="Layer"===t.getType(),i="FastLayer"===t.getType();e||i||s.Util.throw("You may only add layers to the stage.")},i.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t
},i.prototype.setContainer=function(t){if("string"===r(t)){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},i.prototype.shouldDrawHit=function(){return!0},i.prototype.clear=function(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this},i.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),h.Container.prototype.clone.call(this,t)},i.prototype.destroy=function(){t.prototype.destroy.call(this);var i=this.content;i&&s.Util._isInDocument(i)&&this.container().removeChild(i);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},i.prototype.getPointerPosition=function(){var t=this._pointerPositions[0];return t||s.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),{x:t.x,y:t.y}},i.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},i.prototype.getPointersPositions=function(){return this._pointerPositions},i.prototype.getStage=function(){return this},i.prototype.getContent=function(){return this.content},i.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,i=t.y||0,r=new c.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),n=r.getContext()._context,a=this.children;return(e||i)&&n.translate(-1*e,-1*i),a.each((function(r){if(r.isVisible()){var a=r._toKonvaCanvas(t);n.drawImage(a._canvas,e,i,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}})),r},i.prototype.getIntersection=function(t,e){var i,r,n=this.children;for(i=n.length-1;i>=0;i--)if(r=n[i].getIntersection(t,e))return r;return null},i.prototype._resizeDOM=function(){if(this.content){var t,e,i=this.width(),r=this.height(),n=this.getChildren(),a=n.length;for(this.content.style.width=i+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(i,r),this.bufferHitCanvas.setSize(i,r),t=0;t<a;t++)(e=n[t]).setSize({width:i,height:r}),e.draw()}},i.prototype.add=function(e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&s.Util.warn("The stage has "+r+" layers. Recommended maximin number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),l.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},i.prototype.getParent=function(){return null},i.prototype.getLayer=function(){return null},i.prototype.hasPointerCapture=function(t){return p.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){p.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){p.releaseCapture(t,this)},i.prototype.getLayers=function(){return this.getChildren()},i.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var t=0;t<g;t++)m(this,d[t])},i.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire("mouseenter",{evt:t,target:this,currentTarget:this})},i.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire("mouseover",{evt:t,target:this,currentTarget:this})},i.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,i=!f.DD.isDragging||l.Konva.hitOnDragEnabled;e&&i?(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null):i&&(this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this._fire("mouseout",{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],
this._fire("contentMouseout",{evt:t})},i.prototype._mousemove=function(t){if(l.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,i=s.Util._getFirstPointerId(t),r=!f.DD.isDragging||l.Konva.hitOnDragEnabled;if(r){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var n=!this.targetShape||this.targetShape!==e;r&&n?(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i},e),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i},e)),e._fireAndBubble("mouseover",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mouseenter",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mousemove",{evt:t,pointerId:i}),this.targetShape=e):e._fireAndBubble("mousemove",{evt:t,pointerId:i})}else this.targetShape&&r&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i}),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i}),this._fire("mouseover",{evt:t,target:this,currentTarget:this,pointerId:i}),this.targetShape=null),this._fire("mousemove",{evt:t,target:this,currentTarget:this,pointerId:i});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},i.prototype._mousedown=function(t){if(l.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition());l.Konva.listenClickTap=!0,i&&i.isListening()?(this.clickStartShape=i,i._fireAndBubble("mousedown",{evt:t,pointerId:e})):this._fire("mousedown",{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},i.prototype._mouseup=function(t){if(l.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,n=this.clickEndShape,a=!1;l.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):f.DD.justDragged?f.DD&&(f.DD.justDragged=!1):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow),i&&i.isListening()?(this.clickEndShape=i,i._fireAndBubble("mouseup",{evt:t,pointerId:e}),l.Konva.listenClickTap&&r&&r._id===i._id&&(i._fireAndBubble("click",{evt:t,pointerId:e}),a&&n&&n===i&&i._fireAndBubble("dblclick",{evt:t,pointerId:e}))):(this._fire("mouseup",{evt:t,target:this,currentTarget:this,pointerId:e}),l.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire("dblclick",{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),l.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},i.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},i.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((function(r){var n=e.getIntersection(r);l.Konva.listenClickTap=!0,n&&n.isListening()&&(l.Konva.captureTouchEventsEnabled&&n.setPointerCapture(r.id),e.tapStartShape=n,n._fireAndBubble("touchstart",{evt:t,pointerId:r.id},e),i=!0,n.isListening()&&n.preventDefault()&&t.cancelable&&t.preventDefault())})),i||this._fire("touchstart",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},i.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!f.DD.isDragging||l.Konva.hitOnDragEnabled){var i=!1,r={};this._changedPointerPositions.forEach((function(n){var a=p.getCapturedShape(n.id)||e.getIntersection(n);a&&a.isListening()&&(r[a._id]||(r[a._id]=!0,a._fireAndBubble("touchmove",{evt:t,pointerId:n.id}),i=!0,a.isListening()&&a.preventDefault()&&t.cancelable&&t.preventDefault()))})),
i||this._fire("touchmove",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}f.DD.isDragging&&f.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},i.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var i=this.clickEndShape,r=!1;l.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow);var n=!1,a={};this._changedPointerPositions.forEach((function(s){var o=p.getCapturedShape(s.id)||e.getIntersection(s);o&&o.releaseCapture(s.id),o&&o.isListening()&&(a[o._id]||(a[o._id]=!0,e.clickEndShape=o,o._fireAndBubble("touchend",{evt:t,pointerId:s.id}),n=!0,l.Konva.listenClickTap&&e.tapStartShape&&o._id===e.tapStartShape._id&&(o._fireAndBubble("tap",{evt:t,pointerId:s.id}),r&&i&&i===o&&o._fireAndBubble("dbltap",{evt:t,pointerId:s.id})),o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire("touchend",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva.listenClickTap&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r&&this._fire("dbltap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),l.Konva.listenClickTap=!1},i.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},i.prototype._pointerdown=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerdown",p.createEvent(t))}},i.prototype._pointermove=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointermove",p.createEvent(t))}},i.prototype._pointerup=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",p.createEvent(t)),p.releaseCapture(t.pointerId)}},i.prototype._pointercancel=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=p.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",p.createEvent(t)),p.releaseCapture(t.pointerId)}},i.prototype._lostpointercapture=function(t){p.releaseCapture(t.pointerId)},i.prototype.setPointersPositions=function(t){var e=this,i=this._getContentPosition(),r=null,n=null;if(void 0!==(t=t||window.event).touches){if(this._pointerPositions=[],this._changedPointerPositions=[],s.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})})),s.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})})),t.touches.length>0){var a=t.touches[0];r=a.clientX-i.left,n=a.clientY-i.top}}else r=t.clientX-i.left,n=t.clientY-i.top,this.pointerPos={x:r,y:n},this._pointerPositions=[{x:r,y:n,id:s.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:n,id:s.Util._getFirstPointerId(t)}]},i.prototype._setPointerPosition=function(t){s.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},i.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},
i.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas,this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1}),l.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},i.prototype.cache=function(){return s.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},i.prototype.clearCache=function(){return this},i.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},i}(h.Container);e.Stage=v,v.prototype.nodeType="Stage",u._registerNode(v),o.Factory.addGetterSetter(v,"container")},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(191),o=i(180),h=i(217),l=i(193),c=i(186),f=i(182),u=i(181),p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],d=p.length,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new l.HitCanvas({pixelRatio:1}),e}return n(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var i,r,n,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var s=1,o=!1;;){for(r=0;r<d;r++){if(n=p[r],(a=(i=this._getIntersection({x:t.x+n.x*s,y:t.y+n.y*s})).shape)&&e)return a.findAncestor(e,!0);if(a)return a;if(o=!!i.antialiased,!i.antialiased)break}if(!o)return null;s+=1}},e.prototype._getIntersection=function(t){var e,i,r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,s=n[3];return 255===s?(e=a.Util._rgbToHex(n[0],n[1],n[2]),(i=c.shapes["#"+e])?{shape:i}:{antialiased:!0}):s>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),s.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var i=this.getLayer(),r=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,r,e),this},e.prototype.clear=function(t){return h.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var i=e.width,r=e.height;return t.prototype.setSize.call(this,{width:i,height:r}),this.hitCanvas.setSize(i,r),this},e}(h.BaseLayer);e.Layer=g,g.prototype.nodeType="Layer",u._registerNode(g),o.Factory.addGetterSetter(g,"hitGraphEnabled",!0,f.getBooleanValidator()),a.Collection.mapMethods(g)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),
t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(191),o=i(217),h=i(181),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&a.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),i=t||e&&e.getCanvas();return this.clearBeforeDraw()&&i.getContext().clear(),s.Container.prototype.drawScene.call(this,i),this},e.prototype.draw=function(){return this.drawScene(),this},e}(o.BaseLayer);e.FastLayer=l,l.prototype.nodeType="FastLayer",h._registerNode(l),a.Collection.mapMethods(l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(183),n=i(200),a=i(185),s=i(181),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=0,l=["fill","stroke","shadowColor"],c=function(){function t(t,e,i,r,n,a,s){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=n-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),f=function(){function t(i){var a,l,f=this,u=i.node,p=u._id,d=i.easing||e.Easings.Linear,g=!!i.yoyo;a=void 0===i.duration?.3:0===i.duration?.001:i.duration,this.node=u,this._id=h++;var m=u.getLayer()||(u instanceof s.Konva.Stage?u.getLayers():null);for(l in m||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){f.tween.onEnterFrame()}),m),this.tween=new c(l,(function(t){f._tweenFunc(t)}),d,0,1,1e3*a,g),this._addListeners(),t.attrs[p]||(t.attrs[p]={}),t.attrs[p][this._id]||(t.attrs[p][this._id]={}),t.tweens[p]||(t.tweens[p]={}),i)void 0===o[l]&&this._addAttr(l,i[l]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset}return t.prototype._addAttr=function(e,i){var n,a,s,o,h,c,f,u,p=this.node,d=p._id;if((s=t.tweens[d][e])&&delete t.attrs[d][s][e],n=p.getAttr(e),r.Util._isArray(i))if(a=[],h=Math.max(i.length,n.length),"points"===e&&i.length!==n.length&&(i.length>n.length?(f=n,n=r.Util._prepareArrayForTween(n,i,p.closed())):(c=i,i=r.Util._prepareArrayForTween(i,n,p.closed()))),0===e.indexOf("fill"))for(o=0;o<h;o++)if(o%2==0)a.push(i[o]-n[o]);else{var g=r.Util.colorToRGBA(n[o]);u=r.Util.colorToRGBA(i[o]),n[o]=g,a.push({r:u.r-g.r,g:u.g-g.g,b:u.b-g.b,a:u.a-g.a})
}else for(o=0;o<h;o++)a.push(i[o]-n[o]);else-1!==l.indexOf(e)?(n=r.Util.colorToRGBA(n),a={r:(u=r.Util.colorToRGBA(i)).r-n.r,g:u.g-n.g,b:u.b-n.b,a:u.a-n.a}):a=i-n;t.attrs[d][this._id][e]={start:n,diff:a,end:i,trueEnd:c,trueStart:f},t.tweens[d][e]=this._id},t.prototype._tweenFunc=function(e){var i,n,a,s,o,h,c,f,u=this.node,p=t.attrs[u._id][this._id];for(i in p){if(a=(n=p[i]).start,s=n.diff,f=n.end,r.Util._isArray(a))if(o=[],c=Math.max(a.length,f.length),0===i.indexOf("fill"))for(h=0;h<c;h++)h%2==0?o.push((a[h]||0)+s[h]*e):o.push("rgba("+Math.round(a[h].r+s[h].r*e)+","+Math.round(a[h].g+s[h].g*e)+","+Math.round(a[h].b+s[h].b*e)+","+(a[h].a+s[h].a*e)+")");else for(h=0;h<c;h++)o.push((a[h]||0)+s[h]*e);else o=-1!==l.indexOf(i)?"rgba("+Math.round(a.r+s.r*e)+","+Math.round(a.g+s.g*e)+","+Math.round(a.b+s.b*e)+","+(a.a+s.a*e)+")":a+s*e;u.setAttr(i,o)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueEnd&&i.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueStart&&i.points(r.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,i=this.node._id,r=this._id,n=t.tweens[i];for(e in this.pause(),n)delete t.tweens[i][e];delete t.attrs[i][r]},t.attrs={},t.tweens={},t}();e.Tween=f,a.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new f(t).play()},e.Easings={BackEaseIn:function(t,e,i,r){var n=1.70158;return i*(t/=r)*t*((n+1)*t-n)+e},BackEaseOut:function(t,e,i,r){var n=1.70158;return i*((t=t/r-1)*t*((n+1)*t+n)+1)+e},BackEaseInOut:function(t,e,i,r){var n=1.70158;return(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ElasticEaseIn:function(t,e,i,r,n,a){var s=0;return 0===t?e:1==(t/=r)?e+i:(a||(a=.3*r),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)+e)},ElasticEaseOut:function(t,e,i,r,n,a){var s=0;return 0===t?e:1==(t/=r)?e+i:(a||(a=.3*r),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/a)+i+e)},ElasticEaseInOut:function(t,e,i,r,n,a){var s=0;return 0===t?e:2==(t/=r/2)?e+i:(a||(a=r*(.3*1.5)),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*.5+i+e)},BounceEaseOut:function(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,i,r,n){return r-e.Easings.BounceEaseOut(n-t,0,r,n)+i},BounceEaseInOut:function(t,i,r,n){return t<n/2?.5*e.Easings.BounceEaseIn(2*t,0,r,n)+i:.5*e.Easings.BounceEaseOut(2*t-n,0,r,n)+.5*r+i},EaseIn:function(t,e,i,r){return i*(t/=r)*t+e},EaseOut:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},EaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,r){return i*t/r+e}}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){
for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(181),l=i(182),c=i(181),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=h.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Arc=f,f.prototype._centroid=!0,f.prototype.className="Arc",f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(f),s.Factory.addGetterSetter(f,"innerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"outerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"clockwise",!1,l.getBooleanValidator()),a.Collection.mapMethods(f)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(218),h=i(182),l=i(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var i=2*Math.PI,r=this.points(),n=r,a=0!==this.tension()&&r.length>4;a&&(n=this.getTensionPoints());var s,o,h=r.length;a?(s=r[h-2]-(n[n.length-2]+n[n.length-4])/2,o=r[h-1]-(n[n.length-1]+n[n.length-3])/2):(s=r[h-2]-r[h-4],o=r[h-1]-r[h-3]);var l=(Math.atan2(o,s)+i)%i,c=this.pointerLength(),f=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[h-2],r[h-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-c,f/2),e.lineTo(-c,-f/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),a?(s=(n[0]+n[2])/2-r[0],o=(n[1]+n[3])/2-r[1]):(s=r[2]-r[0],o=r[3]-r[1]),e.rotate((Math.atan2(-o,-s)+i)%i),e.moveTo(0,0),e.lineTo(-c,f/2),e.lineTo(-c,-f/2),e.closePath(),e.restore());var u=this.dashEnabled();u&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),u&&(this.attrs.dashEnabled=!0)},e}(o.Line);e.Arrow=c,c.prototype.className="Arrow",l._registerNode(c),s.Factory.addGetterSetter(c,"pointerLength",10,h.getNumberValidator()),s.Factory.addGetterSetter(c,"pointerWidth",10,h.getNumberValidator()),s.Factory.addGetterSetter(c,"pointerAtBeginning",!1),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(o.Shape);e.Circle=c,c.prototype._centroid=!0,c.prototype.className="Circle",c.prototype._attrsAffectingSize=["radius"],l._registerNode(c),
s.Factory.addGetterSetter(c,"radius",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(o.Shape);e.Ellipse=c,c.prototype.className="Ellipse",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(c),s.Factory.addComponentsGetterSetter(c,"radius",["x","y"]),s.Factory.addGetterSetter(c,"radiusX",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"radiusY",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,i,r,n=this.width(),a=this.height(),s=this.image();s&&(e=this.cropWidth(),i=this.cropHeight(),r=e&&i?[s,this.cropX(),this.cropY(),e,i,0,0,n,a]:[s,0,0,n,a]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,n,a),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,r)},e.prototype._hitFunc=function(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t=this.image();return this.attrs.width||(t?t.width:0)},e.prototype.getHeight=function(){var t=this.image();return this.attrs.height||(t?t.height:0)},e.fromURL=function(t,i){var r=a.Util.createImageElement();r.onload=function(){var t=new e({image:r});i(t)},r.crossOrigin="Anonymous",r.src=t},e}(o.Shape);e.Image=c,c.prototype.className="Image",l._registerNode(c),s.Factory.addGetterSetter(c,"image"),s.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(c,"cropX",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropY",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropWidth",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropHeight",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(199),l=i(182),c=i(181),f=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],u=f.length,p=function(t){function e(e){var i=t.call(this,e)||this;return i.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),i}return n(e,t),
e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,i=this,r=function(){i._sync()};for(e=0;e<u;e++)t.on(f[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,i,r,n,a,s,o=this.getText(),h=this.getTag();if(o&&h){switch(t=o.width(),e=o.height(),i=h.pointerDirection(),r=h.pointerWidth(),s=h.pointerHeight(),n=0,a=0,i){case"up":n=t/2,a=-1*s;break;case"right":n=t+r,a=e/2;break;case"down":n=t/2,a=e+s;break;case"left":n=-1*r,a=e/2}h.setAttrs({x:-1*n,y:-1*a,width:t,height:e}),o.setAttrs({x:-1*n,y:-1*a})}},e}(h.Group);e.Label=p,p.prototype.className="Label",c._registerNode(p),a.Collection.mapMethods(p);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),i=this.height(),r=this.pointerDirection(),n=this.pointerWidth(),a=this.pointerHeight(),s=Math.min(this.cornerRadius(),e/2,i/2);t.beginPath(),s?t.moveTo(s,0):t.moveTo(0,0),"up"===r&&(t.lineTo((e-n)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+n)/2,0)),s?(t.lineTo(e-s,0),t.arc(e-s,s,s,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===r&&(t.lineTo(e,(i-a)/2),t.lineTo(e+n,i/2),t.lineTo(e,(i+a)/2)),s?(t.lineTo(e,i-s),t.arc(e-s,i-s,s,0,Math.PI/2,!1)):t.lineTo(e,i),"down"===r&&(t.lineTo((e+n)/2,i),t.lineTo(e/2,i+a),t.lineTo((e-n)/2,i)),s?(t.lineTo(s,i),t.arc(s,i-s,s,Math.PI/2,Math.PI,!1)):t.lineTo(0,i),"left"===r&&(t.lineTo(0,(i+a)/2),t.lineTo(-1*n,i/2),t.lineTo(0,(i-a)/2)),s&&(t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,i=this.pointerWidth(),r=this.pointerHeight(),n=this.pointerDirection(),a=this.width(),s=this.height();return"up"===n?(e-=r,s+=r):"down"===n?s+=r:"left"===n?(t-=1.5*i,a+=i):"right"===n&&(a+=1.5*i),{x:t,y:e,width:a,height:s}},e}(o.Shape);e.Tag=d,d.prototype.className="Tag",c._registerNode(d),s.Factory.addGetterSetter(d,"pointerDirection","none"),s.Factory.addGetterSetter(d,"pointerWidth",0,l.getNumberValidator()),s.Factory.addGetterSetter(d,"pointerHeight",0,l.getNumberValidator()),s.Factory.addGetterSetter(d,"cornerRadius",0,l.getNumberValidator()),a.Collection.mapMethods(d)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,r,n=this.sides(),a=this.radius();for(t.beginPath(),t.moveTo(0,0-a),e=1;e<n;e++)i=a*Math.sin(2*e*Math.PI/n),r=-1*a*Math.cos(2*e*Math.PI/n),t.lineTo(i,r);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.RegularPolygon=c,c.prototype.className="RegularPolygon",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],l._registerNode(c),s.Factory.addGetterSetter(c,"radius",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"sides",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0
});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=2*Math.PI,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,c,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),c,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Ring=f,f.prototype.className="Ring",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(f),s.Factory.addGetterSetter(f,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(f,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(f)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(200),l=i(182),c=i(181),f=function(t){function e(e){var i=t.call(this,e)||this;return i._updated=!0,i.anim=new h.Animation((function(){var t=i._updated;return i._updated=!1,t})),i.on("animationChange.konva",(function(){this.frameIndex(0)})),i.on("frameIndexChange.konva",(function(){this._updated=!0})),i.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),i}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],a=this.frameOffsets(),s=n[r+0],o=n[r+1],h=n[r+2],l=n[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,l),t.closePath(),t.fillStrokeShape(this)),c)if(a){var f=a[e],u=2*i;t.drawImage(c,s,o,h,l,f[u+0],f[u+1],h,l)}else t.drawImage(c,s,o,h,l,0,0,h,l)},e.prototype._hitFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],a=this.frameOffsets(),s=n[r+2],o=n[r+3];if(t.beginPath(),a){var h=a[e],l=2*i;t.rect(h[l+0],h[l+1],s,o)}else t.rect(0,0,s,o);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(o.Shape);e.Sprite=f,f.prototype.className="Sprite",c._registerNode(f),s.Factory.addGetterSetter(f,"animation"),s.Factory.addGetterSetter(f,"animations"),s.Factory.addGetterSetter(f,"frameOffsets"),s.Factory.addGetterSetter(f,"image"),s.Factory.addGetterSetter(f,"frameIndex",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"frameRate",17,l.getNumberValidator()),s.Factory.backCompat(f,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(f)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(182),l=i(181),c=function(t){function e(){
return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var n=1;n<2*r;n++){var a=n%2==0?i:e,s=a*Math.sin(n*Math.PI/r),o=-1*a*Math.cos(n*Math.PI/r);t.lineTo(s,o)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Star=c,c.prototype.className="Star",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(c),s.Factory.addGetterSetter(c,"numPoints",5,h.getNumberValidator()),s.Factory.addGetterSetter(c,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(219),l=i(221),c=i(182),f=i(181);function u(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var d=function(t){function e(e){var i=t.call(this,e)||this;return i.dummyCanvas=a.Util.createCanvasElement(),i.dataArray=[],i.dataArray=h.Path.parsePathData(i.attrs.data),i.on("dataChange.konva",(function(){this.dataArray=h.Path.parsePathData(this.attrs.data),this._setTextData()})),i.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",i._setTextData),e&&e.getKerning&&(a.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),i.kerningFunc(e.getKerning)),i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),r=this.fontSize(),n=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<n.length;a++){t.save();var s=n[a].p0;t.translate(s.x,s.y),t.rotate(n[a].rotation),this.partialText=n[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var r=0;r<e.length;r++){var n=e[r].p1;t.lineTo(n.x,n.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var i=e.measureText(t);return e.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),r=this.align(),n=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var s=0,o=0;o<t.dataArray.length;o++)t.dataArray[o].pathLength>0&&(s+=t.dataArray[o].pathLength);var l=0;"center"===r&&(l=Math.max(0,s/2-a/2)),"right"===r&&(l=Math.max(0,s-a))
;for(var c,f,u,p=this.text().split(""),d=this.text().split(" ").length-1,g=-1,m=0,y=function(){m=0;for(var e=t.dataArray,i=g+1;i<e.length;i++){if(e[i].pathLength>0)return g=i,e[i];"M"===e[i].command&&(c={x:e[i].points[0],y:e[i].points[1]})}return{}},v=function(e){var n=t._getTextSize(e).width+i;" "===e&&"justify"===r&&(n+=(s-a)/d);var o=0,l=0;for(f=void 0;Math.abs(n-o)/n>.01&&l<25;){l++;for(var p=o;void 0===u;)(u=y())&&p+u.pathLength<n&&(p+=u.pathLength,u=void 0);if(u==={}||void 0===c)return;var g=!1;switch(u.command){case"L":h.Path.getLineLength(c.x,c.y,u.points[0],u.points[1])>n?f=h.Path.getPointOnLine(n,c.x,c.y,u.points[0],u.points[1],c.x,c.y):u=void 0;break;case"A":var v=u.points[4],_=u.points[5],b=u.points[4]+_;0===m?m=v+1e-8:n>o?m+=Math.PI/180*_/Math.abs(_):m-=Math.PI/360*_/Math.abs(_),(_<0&&m<b||_>=0&&m>b)&&(m=b,g=!0),f=h.Path.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],m,u.points[6]);break;case"C":0===m?m=n>u.pathLength?1e-8:n/u.pathLength:n>o?m+=(n-o)/u.pathLength:m-=(o-n)/u.pathLength,m>1&&(m=1,g=!0),f=h.Path.getPointOnCubicBezier(m,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":0===m?m=n/u.pathLength:n>o?m+=(n-o)/u.pathLength:m-=(o-n)/u.pathLength,m>1&&(m=1,g=!0),f=h.Path.getPointOnQuadraticBezier(m,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}void 0!==f&&(o=h.Path.getLineLength(c.x,c.y,f.x,f.y)),g&&(g=!1,u=void 0)}},_=t._getTextSize("C").width+i,b=0;b<l/_&&(v("C"),void 0!==c&&void 0!==f);b++)c=f;for(var w=0;w<p.length&&(v(p[w]),void 0!==c&&void 0!==f);w++){var x=h.Path.getLineLength(c.x,c.y,f.x,f.y),S=0;if(n)try{S=n(p[w-1],p[w])*this.fontSize()}catch(t){S=0}c.x+=S,f.x+=S,this.textWidth+=S;var k=h.Path.getPointOnLine(S+x/2,c.x,c.y,f.x,f.y),C=Math.atan2(f.y-c.y,f.x-c.x);this.glyphInfo.push({transposeX:k.x,transposeY:k.y,text:p[w],rotation:C,p0:c,p1:f}),c=f}},e.prototype.getSelfRect=function(){var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,i,r=t[0],n=t[0],a=t[0],s=t[0],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],r=Math.min(r,e),n=Math.max(n,e),a=Math.min(a,i),s=Math.max(s,i);var h=this.fontSize();return{x:Math.round(r)-h/2,y:Math.round(a)-h/2,width:Math.round(n-r)+h,height:Math.round(s-a)+h}},e}(o.Shape);e.TextPath=d,d.prototype._fillFunc=u,d.prototype._strokeFunc=p,d.prototype._fillFuncHit=u,d.prototype._strokeFuncHit=p,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],f._registerNode(d),s.Factory.addGetterSetter(d,"data"),s.Factory.addGetterSetter(d,"fontFamily","Arial"),s.Factory.addGetterSetter(d,"fontSize",12,c.getNumberValidator()),s.Factory.addGetterSetter(d,"fontStyle","normal"),s.Factory.addGetterSetter(d,"align","left"),s.Factory.addGetterSetter(d,"letterSpacing",0,c.getNumberValidator()),s.Factory.addGetterSetter(d,"textBaseline","middle"),s.Factory.addGetterSetter(d,"fontVariant","normal"),s.Factory.addGetterSetter(d,"text",""),s.Factory.addGetterSetter(d,"textDecoration",null),s.Factory.addGetterSetter(d,"kerningFunc",null),a.Collection.mapMethods(d)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(185),h=i(186),l=i(220),c=i(199),f=i(181),u=i(182),p=i(181),d=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"
})).join(" "),g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};var y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],v=function(t){function e(e){var i=t.call(this,e)||this;return i._transforming=!1,i._createElements(),i._handleMouseMove=i._handleMouseMove.bind(i),i._handleMouseUp=i._handleMouseUp.bind(i),i.update=i.update.bind(i),i.on(d,i.update),i.getNode()&&i.update(),i}return n(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var i=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),r=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(i,r),t.on(g,r),t.on("xChange.tr-konva yChange.tr-konva",(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&a.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=f.Konva.getAngle(t.rotation()),r=e.x*t.scaleX()-t.offsetX()*t.scaleX(),n=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+r*Math.cos(i)+n*Math.sin(-i),y:t.y()+n*Math.cos(i)+r*Math.sin(i),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),y.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,i=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0}),r=this;i.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),i.on("dragstart",(function(t){t.cancelBubble=!0})),i.on("dragmove",(function(t){t.cancelBubble=!0})),i.on("dragend",(function(t){t.cancelBubble=!0})),i.on("mouseenter",(function(){var r=f.Konva.getAngle(e.rotation()),n=e.getNode().getAbsoluteScale(),s=n.y*n.x<0,o=function(t,e,i){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(m[t]||0),i&&(e*=-1);var r=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(r,337.5,360)||a.Util._inRange(r,0,22.5)?"ns-resize":a.Util._inRange(r,22.5,67.5)?"nesw-resize":a.Util._inRange(r,67.5,112.5)?"ew-resize":a.Util._inRange(r,112.5,157.5)?"nwse-resize":a.Util._inRange(r,157.5,202.5)?"ns-resize":a.Util._inRange(r,202.5,247.5)?"nesw-resize":a.Util._inRange(r,247.5,292.5)?"ew-resize":a.Util._inRange(r,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,r,s);i.getStage().content.style.cursor=o,e._cursorChange=!0})),i.on("mouseout",(function(){
i.getStage()&&i.getParent()&&(i.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(i)},e.prototype._createBack=function(){var t=new h.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),i=e.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this.movingResizer=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,r=e.height,n=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/n),this.cos=Math.abs(i/n),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t}),this.getNode()._fire("transformstart",{evt:t})},e.prototype._handleMouseMove=function(t){var e,i,r,n=this.findOne("."+this.movingResizer),s=n.getStage().getContent().getBoundingClientRect(),o=s.left,h=s.top,l={x:(void 0!==t.clientX?t.clientX:t.touches[0].clientX)-o,y:(void 0!==t.clientX?t.clientY:t.touches[0].clientY)-h};n.setAbsolutePosition(l);var c=this.keepRatio()||t.shiftKey;if("top-left"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-n.x(),2)+Math.pow(this.findOne(".bottom-right").y()-n.y(),2));var u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1;e=r*this.cos*u,i=r*this.sin*u,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-i)}}else if("top-center"===this.movingResizer)this.findOne(".top-left").y(n.y());else if("top-right"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-left").x()-n.x(),2)+Math.pow(this.findOne(".bottom-left").y()-n.y(),2));u=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1;e=r*this.cos*u,i=r*this.sin*u,this.findOne(".top-right").x(e),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-i)}var p=n.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if("middle-left"===this.movingResizer)this.findOne(".top-left").x(n.x());else if("middle-right"===this.movingResizer)this.findOne(".bottom-right").x(n.x());else if("bottom-left"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".top-right").x()-n.x(),2)+Math.pow(this.findOne(".top-right").y()-n.y(),2));u=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1;e=r*this.cos*u,i=r*this.sin*u,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e),this.findOne(".bottom-left").y(i)}p=n.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if("bottom-center"===this.movingResizer)this.findOne(".bottom-right").y(n.y());else if("bottom-right"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x(),2)+Math.pow(this.findOne(".bottom-right").y(),2));u=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1;e=r*this.cos*u,i=r*this.sin*u,this.findOne(".bottom-right").x(e),this.findOne(".bottom-right").y(i)}}else if("rotater"===this.movingResizer){var d=this.padding(),g=this._getNodeRect();e=n.x()-g.width/2,i=-n.y()+g.height/2;var m=Math.atan2(-i,e)+Math.PI/2;g.height<0&&(m-=Math.PI);for(var y=f.Konva.getAngle(this.rotation()),v=a.Util._radToDeg(y)+a.Util._radToDeg(m),_=f.Konva.getAngle(this.getNode().rotation()),b=a.Util._degToRad(v),w=this.rotationSnaps(),x=0;x<w.length;x++){var S=f.Konva.getAngle(w[x]);Math.abs(S-a.Util._degToRad(v))%(2*Math.PI)<.1&&(v=a.Util._radToDeg(S),b=a.Util._degToRad(v))}var k=d,C=d;this._fitNodeInto({rotation:f.Konva.angleDeg?v:a.Util._degToRad(v),x:g.x+(g.width/2+d)*(Math.cos(_)-Math.cos(b))+(g.height/2+d)*(Math.sin(-_)-Math.sin(-b))-(k*Math.cos(y)+C*Math.sin(-y)),
y:g.y+(g.height/2+d)*(Math.cos(_)-Math.cos(b))+(g.width/2+d)*(Math.sin(_)-Math.sin(b))-(C*Math.cos(y)+k*Math.sin(y)),width:g.width+2*d,height:g.height+2*d},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this.movingResizer));if("rotater"!==this.movingResizer){var A=this.findOne(".top-left").getAbsolutePosition(this.getParent());if(this.centeredScaling()||t.altKey){var P=this.findOne(".top-left"),M=this.findOne(".bottom-right"),F=P.x(),T=P.y(),E=this.getWidth()-M.x(),D=this.getHeight()-M.y();M.move({x:-F,y:-T}),P.move({x:E,y:D}),A=P.getAbsolutePosition(this.getParent())}e=A.x,i=A.y;var O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),L=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:i+this.offsetY(),width:O,height:L},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:t});var e=this.getNode();e&&e.fire("transformend",{evt:t})}},e.prototype._fitNodeInto=function(t,e){var i=this.boundBoxFunc();if(i){var r=this._getNodeRect();t=i.call(this,r,t)}var n=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var a=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=this.padding(),o=(t.width-2*s)/a.width,h=(t.height-2*s)/a.height,l=f.Konva.getAngle(n.rotation()),c=a.x*o-s-n.offsetX()*o,u=a.y*h-s-n.offsetY()*h;this.getNode().setAttrs({scaleX:o,scaleY:h,x:t.x-(c*Math.cos(l)+u*Math.sin(-l)),y:t.y-(u*Math.cos(l)+c*Math.sin(l))}),this._fire("transform",{evt:e}),this.getNode()._fire("transform",{evt:e}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),i=this.getNode(),r={x:1,y:1};i&&i.getParent()&&(r=i.getParent().getAbsoluteScale());var n={x:1/r.x,y:1/r.y},s=e.width,o=e.height,h=this.enabledAnchors(),l=this.resizeEnabled(),c=this.padding(),f=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-c,y:-c,scale:n,visible:l&&h.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:s/2,y:-c,scale:n,visible:l&&h.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:s+c,y:-c,scale:n,visible:l&&h.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-c,y:o/2,scale:n,visible:l&&h.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:s+c,y:o/2,scale:n,visible:l&&h.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-c,y:o+c,scale:n,visible:l&&h.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:s/2,y:o+c,scale:n,visible:l&&h.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:s+c,y:o+c,scale:n,visible:l&&h.indexOf("bottom-right")>=0});var u=-this.rotateAnchorOffset()*Math.abs(n.y);this.findOne(".rotater").setAttrs({x:s/2,y:u*a.Util._sign(o),scale:n,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:s*r.x,height:o*r.y,scale:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this.movingResizer);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},
e.prototype.toObject=function(){return o.Node.prototype.toObject.call(this)},e}(c.Group);e.Transformer=v,v.prototype.className="Transformer",p._registerNode(v),s.Factory.addGetterSetter(v,"enabledAnchors",y,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===y.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+y.join(", "))})),t||[]})),s.Factory.addGetterSetter(v,"resizeEnabled",!0),s.Factory.addGetterSetter(v,"anchorSize",10,u.getNumberValidator()),s.Factory.addGetterSetter(v,"rotateEnabled",!0),s.Factory.addGetterSetter(v,"rotationSnaps",[]),s.Factory.addGetterSetter(v,"rotateAnchorOffset",50,u.getNumberValidator()),s.Factory.addGetterSetter(v,"borderEnabled",!0),s.Factory.addGetterSetter(v,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(v,"anchorStrokeWidth",1,u.getNumberValidator()),s.Factory.addGetterSetter(v,"anchorFill","white"),s.Factory.addGetterSetter(v,"anchorCornerRadius",0,u.getNumberValidator()),s.Factory.addGetterSetter(v,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(v,"borderStrokeWidth",1,u.getNumberValidator()),s.Factory.addGetterSetter(v,"borderDash"),s.Factory.addGetterSetter(v,"keepRatio",!0),s.Factory.addGetterSetter(v,"centeredScaling",!1),s.Factory.addGetterSetter(v,"ignoreStroke",!1),s.Factory.addGetterSetter(v,"padding",0,u.getNumberValidator()),s.Factory.addGetterSetter(v,"node"),s.Factory.addGetterSetter(v,"boundBoxFunc"),s.Factory.backCompat(v,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(v)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(183),s=i(180),o=i(186),h=i(181),l=i(182),c=i(181),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,h.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.Wedge=f,f.prototype.className="Wedge",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["radius"],c._registerNode(f),s.Factory.addGetterSetter(f,"radius",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(f,"clockwise",!1),s.Factory.backCompat(f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}
var o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var i,r,n,a,l,c,f,u,p,d,g,m,y,v,_,b,w,x,S,k,C,A,P,M,F=t.data,T=t.width,E=t.height,D=e+e+1,O=T-1,L=E-1,I=e+1,R=I*(I+1)/2,N=new s,G=null,z=N,B=null,j=null,U=o[e],V=h[e];for(n=1;n<D;n++)z=z.next=new s,n===I&&(G=z);for(z.next=N,f=c=0,r=0;r<E;r++){for(b=w=x=S=u=p=d=g=0,m=I*(k=F[c]),y=I*(C=F[c+1]),v=I*(A=F[c+2]),_=I*(P=F[c+3]),u+=R*k,p+=R*C,d+=R*A,g+=R*P,z=N,n=0;n<I;n++)z.r=k,z.g=C,z.b=A,z.a=P,z=z.next;for(n=1;n<I;n++)a=c+((O<n?O:n)<<2),u+=(z.r=k=F[a])*(M=I-n),p+=(z.g=C=F[a+1])*M,d+=(z.b=A=F[a+2])*M,g+=(z.a=P=F[a+3])*M,b+=k,w+=C,x+=A,S+=P,z=z.next;for(B=N,j=G,i=0;i<T;i++)F[c+3]=P=g*U>>V,0!==P?(P=255/P,F[c]=(u*U>>V)*P,F[c+1]=(p*U>>V)*P,F[c+2]=(d*U>>V)*P):F[c]=F[c+1]=F[c+2]=0,u-=m,p-=y,d-=v,g-=_,m-=B.r,y-=B.g,v-=B.b,_-=B.a,a=f+((a=i+e+1)<O?a:O)<<2,u+=b+=B.r=F[a],p+=w+=B.g=F[a+1],d+=x+=B.b=F[a+2],g+=S+=B.a=F[a+3],B=B.next,m+=k=j.r,y+=C=j.g,v+=A=j.b,_+=P=j.a,b-=k,w-=C,x-=A,S-=P,j=j.next,c+=4;f+=T}for(i=0;i<T;i++){for(w=x=S=b=p=d=g=u=0,m=I*(k=F[c=i<<2]),y=I*(C=F[c+1]),v=I*(A=F[c+2]),_=I*(P=F[c+3]),u+=R*k,p+=R*C,d+=R*A,g+=R*P,z=N,n=0;n<I;n++)z.r=k,z.g=C,z.b=A,z.a=P,z=z.next;for(l=T,n=1;n<=e;n++)c=l+i<<2,u+=(z.r=k=F[c])*(M=I-n),p+=(z.g=C=F[c+1])*M,d+=(z.b=A=F[c+2])*M,g+=(z.a=P=F[c+3])*M,b+=k,w+=C,x+=A,S+=P,z=z.next,n<L&&(l+=T);for(c=i,B=N,j=G,r=0;r<E;r++)F[(a=c<<2)+3]=P=g*U>>V,P>0?(P=255/P,F[a]=(u*U>>V)*P,F[a+1]=(p*U>>V)*P,F[a+2]=(d*U>>V)*P):F[a]=F[a+1]=F[a+2]=0,u-=m,p-=y,d-=v,g-=_,m-=B.r,y-=B.g,v-=B.b,_-=B.a,a=i+((a=r+I)<L?a:L)*T<<2,u+=b+=B.r=F[a],p+=w+=B.g=F[a+1],d+=x+=B.b=F[a+2],g+=S+=B.a=F[a+3],B=B.next,m+=k=j.r,y+=C=j.g,v+=A=j.b,_+=P=j.a,b-=k,w-=C,x-=A,S-=P,j=j.next,c+=T}}(t,e)},r.Factory.addGetterSetter(n.Node,"blurRadius",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.Brighten=function(t){var e,i=255*this.brightness(),r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]+=i,r[e+1]+=i,r[e+2]+=i},r.Factory.addGetterSetter(n.Node,"brightness",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.Contrast=function(t){
var e,i=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,a=150,s=150,o=150;for(e=0;e<n;e+=4)a=r[e],s=r[e+1],o=r[e+2],a/=255,a-=.5,a*=i,a+=.5,s/=255,s-=.5,s*=i,s+=.5,o/=255,o-=.5,o*=i,o+=.5,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,o=(o*=255)<0?0:o>255?255:o,r[e]=a,r[e+1]=s,r[e+2]=o},r.Factory.addGetterSetter(n.Node,"contrast",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(183),s=i(182);e.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),r=this.embossDirection(),n=this.embossBlend(),s=0,o=0,h=t.data,l=t.width,c=t.height,f=4*l,u=c;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:a.Util.error("Unknown emboss direction: "+r)}do{var p=(u-1)*f,d=s;u+d<1&&(d=0),u+d>c&&(d=0);var g=(u-1+d)*l*4,m=l;do{var y=p+4*(m-1),v=o;m+v<1&&(v=0),m+v>l&&(v=0);var _=g+4*(m-1+v),b=h[y]-h[_],w=h[y+1]-h[_+1],x=h[y+2]-h[_+2],S=b,k=S>0?S:-S;if((w>0?w:-w)>k&&(S=w),(x>0?x:-x)>k&&(S=x),S*=e,n){var C=h[y]+S,A=h[y+1]+S,P=h[y+2]+S;h[y]=C>255?255:C<0?0:C,h[y+1]=A>255?255:A<0?0:A,h[y+2]=P>255?255:P<0?0:P}else{var M=i-S;M<0?M=0:M>255&&(M=255),h[y]=h[y+1]=h[y+2]=M}}while(--m)}while(--u)},r.Factory.addGetterSetter(n.Node,"embossStrength",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);function s(t,e,i,r,n){var a=i-e,s=n-r;return 0===a?r+s/2:0===s?r:s*((t-e)/a)+r}e.Enhance=function(t){var e,i,r,n,a=t.data,o=a.length,h=a[0],l=h,c=a[1],f=c,u=a[2],p=u,d=this.enhance();if(0!==d){for(n=0;n<o;n+=4)(e=a[n+0])<h?h=e:e>l&&(l=e),(i=a[n+1])<c?c=i:i>f&&(f=i),(r=a[n+2])<u?u=r:r>p&&(p=r);var g,m,y,v,_,b,w,x,S;for(l===h&&(l=255,h=0),f===c&&(f=255,c=0),p===u&&(p=255,u=0),d>0?(m=l+d*(255-l),y=h-d*(h-0),_=f+d*(255-f),b=c-d*(c-0),x=p+d*(255-p),S=u-d*(u-0)):(m=l+d*(l-(g=.5*(l+h))),y=h+d*(h-g),_=f+d*(f-(v=.5*(f+c))),b=c+d*(c-v),x=p+d*(p-(w=.5*(p+u))),S=u+d*(u-w)),n=0;n<o;n+=4)a[n+0]=s(a[n+0],h,l,y,m),a[n+1]=s(a[n+1],c,f,b,_),a[n+2]=s(a[n+2],u,p,S,x)}},r.Factory.addGetterSetter(n.Node,"enhance",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,i,r=t.data,n=r.length;for(e=0;e<n;e+=4)i=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=i,r[e+1]=i,r[e+2]=i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);r.Factory.addGetterSetter(n.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"luminance",0,a.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){var e,i,r,n,a,s=t.data,o=s.length,h=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=127*this.luminance(),f=1*h*Math.cos(l*Math.PI/180),u=1*h*Math.sin(l*Math.PI/180),p=.299+.701*f+.167*u,d=.587-.587*f+.33*u,g=.114-.114*f-.497*u,m=.299-.299*f-.328*u,y=.587+.413*f+.035*u,v=.114-.114*f+.293*u,_=.299-.3*f+1.25*u,b=.587-.586*f-1.05*u,w=.114+.886*f-.2*u;for(e=0;e<o;e+=4)i=s[e+0],r=s[e+1],n=s[e+2],a=s[e+3],s[e+0]=p*i+d*r+g*n+c,s[e+1]=m*i+y*r+v*n+c,s[e+2]=_*i+b*r+w*n+c,s[e+3]=a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.HSV=function(t){
var e,i,r,n,a,s=t.data,o=s.length,h=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,f=h*l*Math.cos(c*Math.PI/180),u=h*l*Math.sin(c*Math.PI/180),p=.299*h+.701*f+.167*u,d=.587*h-.587*f+.33*u,g=.114*h-.114*f-.497*u,m=.299*h-.299*f-.328*u,y=.587*h+.413*f+.035*u,v=.114*h-.114*f+.293*u,_=.299*h-.3*f+1.25*u,b=.587*h-.586*f-1.05*u,w=.114*h+.886*f-.2*u;for(e=0;e<o;e+=4)i=s[e+0],r=s[e+1],n=s[e+2],a=s[e+3],s[e+0]=p*i+d*r+g*n,s[e+1]=m*i+y*r+v*n,s[e+2]=_*i+b*r+w*n,s[e+3]=a},r.Factory.addGetterSetter(n.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"value",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(183),s=i(182);e.Kaleidoscope=function(t){var e,i,r,n,s,o,h,l,c,f=t.width,u=t.height,p=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),g=Math.floor(f*(d%360)/360);if(!(p<1)){var m=a.Util.createCanvasElement();m.width=f,m.height=u;var y=m.getContext("2d").getImageData(0,0,f,u);!function(t,e,i){var r,n,a,s,o=t.data,h=e.data,l=t.width,c=t.height,f=i.polarCenterX||l/2,u=i.polarCenterY||c/2,p=0,d=0,g=0,m=0,y=Math.sqrt(f*f+u*u);n=l-f,a=c-u,y=(s=Math.sqrt(n*n+a*a))>y?s:y;var v,_,b,w,x=c,S=l,k=360/S*Math.PI/180;for(_=0;_<S;_+=1)for(b=Math.sin(_*k),w=Math.cos(_*k),v=0;v<x;v+=1)n=Math.floor(f+y*v/x*w),p=o[(r=4*((a=Math.floor(u+y*v/x*b))*l+n))+0],d=o[r+1],g=o[r+2],m=o[r+3],h[(r=4*(_+v*l))+0]=p,h[r+1]=d,h[r+2]=g,h[r+3]=m}(t,y,{polarCenterX:f/2,polarCenterY:u/2});for(var v=f/Math.pow(2,p);v<=8;)v*=2,p-=1;var _=v=Math.ceil(v),b=0,w=_,x=1;for(g+v>f&&(b=_,w=0,x=-1),i=0;i<u;i+=1)for(e=b;e!==w;e+=x)l=4*(f*i+Math.round(e+g)%f),n=y.data[l+0],s=y.data[l+1],o=y.data[l+2],h=y.data[l+3],c=4*(f*i+e),y.data[c+0]=n,y.data[c+1]=s,y.data[c+2]=o,y.data[c+3]=h;for(i=0;i<u;i+=1)for(_=Math.floor(v),r=0;r<p;r+=1){for(e=0;e<_+1;e+=1)l=4*(f*i+e),n=y.data[l+0],s=y.data[l+1],o=y.data[l+2],h=y.data[l+3],c=4*(f*i+2*_-e-1),y.data[c+0]=n,y.data[c+1]=s,y.data[c+2]=o,y.data[c+3]=h;_*=2}!function(t,e,i){var r,n,a,s,o,h,l=t.data,c=e.data,f=t.width,u=t.height,p=i.polarCenterX||f/2,d=i.polarCenterY||u/2,g=0,m=0,y=0,v=0,_=Math.sqrt(p*p+d*d);n=f-p,a=u-d,_=(h=Math.sqrt(n*n+a*a))>_?h:_;var b,w,x,S=u,k=f,C=i.polarRotation||0;for(n=0;n<f;n+=1)for(a=0;a<u;a+=1)s=n-p,o=a-d,b=Math.sqrt(s*s+o*o)*S/_,w=(w=(180*Math.atan2(o,s)/Math.PI+360+C)%360)*k/360,x=Math.floor(w),g=l[(r=4*(Math.floor(b)*f+x))+0],m=l[r+1],y=l[r+2],v=l[r+3],c[(r=4*(a*f+n))+0]=g,c[r+1]=m,c[r+2]=y,c[r+3]=v}(y,t,{polarRotation:0})}},r.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);function s(t,e,i){var r=4*(i*t.width+e),n=[];return n.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),n}function o(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var i=s(t,0,0),r=s(t,t.width-1,0),n=s(t,0,t.height-1),a=s(t,t.width-1,t.height-1),h=e||10;if(o(i,r)<h&&o(r,a)<h&&o(a,n)<h&&o(n,i)<h){for(var l=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,i,a,n]),c=[],f=0;f<t.width*t.height;f++){var u=o(l,[t.data[4*f],t.data[4*f+1],t.data[4*f+2]]);c[f]=u<h?0:255}return c}}(t,this.threshold());return e&&function(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}(t,e=function(t,e,i){
for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,f=0;f<n;f++)for(var u=0;u<n;u++){var p=o+f-a,d=h+u-a;if(p>=0&&p<i&&d>=0&&d<e){var g=r[f*n+u];c+=t[p*e+d]*g}}s[l]=c}return s}(e=function(t,e,i){for(var r=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,f=0;f<n;f++)for(var u=0;u<n;u++){var p=o+f-a,d=h+u-a;if(p>=0&&p<i&&d>=0&&d<e){var g=r[f*n+u];c+=t[p*e+d]*g}}s[l]=c>=1020?255:0}return s}(e=function(t,e,i){for(var r=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,f=0;f<n;f++)for(var u=0;u<n;u++){var p=o+f-a,d=h+u-a;if(p>=0&&p<i&&d>=0&&d<e){var g=r[f*n+u];c+=t[p*e+d]*g}}s[l]=2040===c?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(n.Node,"threshold",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.Noise=function(t){var e,i=255*this.noise(),r=t.data,n=r.length,a=i/2;for(e=0;e<n;e+=4)r[e+0]+=a-2*a*Math.random(),r[e+1]+=a-2*a*Math.random(),r[e+2]+=a-2*a*Math.random()},r.Factory.addGetterSetter(n.Node,"noise",.2,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(183),a=i(185),s=i(182);e.Pixelate=function(t){var e,i,r,a,s,o,h,l,c,f,u,p,d,g,m=Math.ceil(this.pixelSize()),y=t.width,v=t.height,_=Math.ceil(y/m),b=Math.ceil(v/m),w=t.data;if(m<=0)n.Util.error("pixelSize value can not be <= 0");else for(p=0;p<_;p+=1)for(d=0;d<b;d+=1){for(a=0,s=0,o=0,h=0,c=(l=p*m)+m,u=(f=d*m)+m,g=0,e=l;e<c;e+=1)if(!(e>=y))for(i=f;i<u;i+=1)i>=v||(a+=w[(r=4*(y*i+e))+0],s+=w[r+1],o+=w[r+2],h+=w[r+3],g+=1);for(a/=g,s/=g,o/=g,h/=g,e=l;e<c;e+=1)if(!(e>=y))for(i=f;i<u;i+=1)i>=v||(w[(r=4*(y*i+e))+0]=a,w[r+1]=s,w[r+2]=o,w[r+3]=h)}},r.Factory.addGetterSetter(a.Node,"pixelSize",8,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,r=t.data,n=r.length,a=255/i;for(e=0;e<n;e+=1)r[e]=Math.floor(r[e]/a)*a},r.Factory.addGetterSetter(n.Node,"levels",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.RGB=function(t){var e,i,r=t.data,n=r.length,a=this.red(),s=this.green(),o=this.blue();for(e=0;e<n;e+=4)i=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=i*a,r[e+1]=i*s,r[e+2]=i*o,r[e+3]=r[e+3]},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.RGBA=function(t){var e,i,r=t.data,n=r.length,a=this.red(),s=this.green(),o=this.blue(),h=this.alpha();for(e=0;e<n;e+=4)i=1-h,r[e]=a*h+r[e]*i,r[e+1]=s*h+r[e+1]*i,r[e+2]=o*h+r[e+2]*i},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,i,r,n,a=t.data,s=a.length;for(e=0;e<s;e+=4)i=a[e+0],r=a[e+1],n=a[e+2],a[e+0]=Math.min(255,.393*i+.769*r+.189*n),a[e+1]=Math.min(255,.349*i+.686*r+.168*n),
a[e+2]=Math.min(255,.272*i+.534*r+.131*n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,i=t.width,r=4*i,n=t.height;do{var a=(n-1)*r,s=i;do{var o=a+4*(s-1),h=e[o],l=e[o+1],c=e[o+2];h>127&&(h=255-h),l>127&&(l=255-l),c>127&&(c=255-c),e[o]=h,e[o+1]=l,e[o+2]=c}while(--s)}while(--n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=i(185),a=i(182);e.Threshold=function(t){var e,i=255*this.threshold(),r=t.data,n=r.length;for(e=0;e<n;e+=1)r[e]=r[e]<i?0:255},r.Factory.addGetterSetter(n.Node,"threshold",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){var r,n;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof navigator&&(n=window||{},void 0===(r=function(){return function(t){"use strict";var e,i="",r=!0,n=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Math.round,Math.pow),s=Math.sqrt,o=(Math.abs,Math.floor),h=(Math.max,Math.min),l={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)l[e[t]]=Math[e[t]]})(),l.random=Math.random,l.abs=function(t){if("object"===a(t)&&t.length){var e,i=M(t.length),r=t.length;for(e=0;e<r;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var c=150,f=Math.PI/180;function u(t){t&&Math.round}function p(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function d(t,e){this.type=t,this.direction=e<0?-1:1}function g(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function m(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function y(t,e){this.type=t,this.target=e}u(!1);var v,_=(v=0,function(){return"__lottie_element_"+ ++v});function b(t,e,i){var r,n,a,s,o,h,l,c;switch(h=i*(1-e),l=i*(1-(o=6*t-(s=Math.floor(6*t)))*e),c=i*(1-(1-o)*e),s%6){case 0:r=i,n=c,a=h;break;case 1:r=l,n=i,a=h;break;case 2:r=h,n=i,a=c;break;case 3:r=h,n=l,a=i;break;case 4:r=c,n=h,a=i;break;case 5:r=i,n=h,a=l}return[r,n,a]}function w(t,e,i){var r,n=Math.max(t,e,i),a=Math.min(t,e,i),s=n-a,o=0===n?0:s/n,h=n/255;switch(n){case a:r=0;break;case t:r=e-i+s*(e<i?6:0),r/=6*s;break;case e:r=i-t+2*s,r/=6*s;break;case i:r=t-e+4*s,r/=6*s}return[r,o,h]}function x(t,e){var i=w(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),b(i[0],i[1],i[2])}function S(t,e){var i=w(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),b(i[0],i[1],i[2])}function k(t,e){var i=w(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),b(i[0],i[1],i[2])}var C=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+i[t]+i[e]+i[r]}}();function A(){}A.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,r=0;r<i;r++)this._cbs[t][r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,r=this._cbs[t].length;i<r;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,r-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var P="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var i,r=0,n=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<e;r+=1)n.push(i);return n};function M(t){return Array.apply(null,{length:t
})}function F(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createElement(t)}function E(){}E.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var D,O=(D={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return D[t]||""}),L=function(){var t=Math.cos,e=Math.sin,i=Math.tan,r=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function s(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1)}function o(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1)}function h(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function c(t,e){return this.shear(i(t),i(e))}function f(r,n){var a=t(n),s=e(n);return this._t(a,s,0,0,-s,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(r),1,0,0,0,0,1,0,0,0,0,1)._t(a,-s,0,0,s,a,0,0,0,0,1,0,0,0,0,1)}function u(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function p(t,e,i,r,n,a,s,o,h,l,c,f,u,p,d,g){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=r,this.props[4]=n,this.props[5]=a,this.props[6]=s,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=c,this.props[11]=f,this.props[12]=u,this.props[13]=p,this.props[14]=d,this.props[15]=g,this}function d(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function g(t,e,i,r,n,a,s,o,h,l,c,f,u,p,d,g){var m=this.props;if(1===t&&0===e&&0===i&&0===r&&0===n&&1===a&&0===s&&0===o&&0===h&&0===l&&1===c&&0===f)return m[12]=m[12]*t+m[15]*u,m[13]=m[13]*a+m[15]*p,m[14]=m[14]*c+m[15]*d,m[15]=m[15]*g,this._identityCalculated=!1,this;var y=m[0],v=m[1],_=m[2],b=m[3],w=m[4],x=m[5],S=m[6],k=m[7],C=m[8],A=m[9],P=m[10],M=m[11],F=m[12],T=m[13],E=m[14],D=m[15];return m[0]=y*t+v*n+_*h+b*u,m[1]=y*e+v*a+_*l+b*p,m[2]=y*i+v*s+_*c+b*d,m[3]=y*r+v*o+_*f+b*g,m[4]=w*t+x*n+S*h+k*u,m[5]=w*e+x*a+S*l+k*p,m[6]=w*i+x*s+S*c+k*d,m[7]=w*r+x*o+S*f+k*g,m[8]=C*t+A*n+P*h+M*u,m[9]=C*e+A*a+P*l+M*p,m[10]=C*i+A*s+P*c+M*d,m[11]=C*r+A*o+P*f+M*g,m[12]=F*t+T*n+E*h+D*u,m[13]=F*e+T*a+E*l+D*p,m[14]=F*i+T*s+E*c+D*d,m[15]=F*r+T*o+E*f+D*g,this._identityCalculated=!1,this}function m(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function w(t,e,i){
return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function x(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function S(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function k(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,a=this.props[0]/e,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*i+t[1]*n+s,t[0]*r+t[1]*a+o,0]}function C(t){var e,i=t.length,r=[];for(e=0;e<i;e+=1)r[e]=k(t[e]);return r}function A(t,e,i){var r=P("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=i[0],r[5]=i[1];else{var n=this.props[0],a=this.props[1],s=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];r[0]=t[0]*n+t[1]*s+h,r[1]=t[0]*a+t[1]*o+l,r[2]=e[0]*n+e[1]*s+h,r[3]=e[0]*a+e[1]*o+l,r[4]=i[0]*n+i[1]*s+h,r[5]=i[0]*a+i[1]*o+l}return r}function M(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function F(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function T(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=r(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function E(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function D(){var t=this.props;return"matrix("+E(t[0])+","+E(t[1])+","+E(t[4])+","+E(t[5])+","+E(t[12])+","+E(t[13])+")"}return function(){this.reset=n,this.rotate=a,this.rotateX=s,this.rotateY=o,this.rotateZ=h,this.skew=c,this.skewFromAxis=f,this.shear=l,this.scale=u,this.setTransform=p,this.translate=d,this.transform=g,this.applyToPoint=b,this.applyToX=w,this.applyToY=x,this.applyToZ=S,this.applyToPointArray=M,this.applyToTriplePoints=A,this.applyToPointStringified=F,this.toCSS=T,this.to2dCSS=D,this.clone=v,this.cloneFromProps=_,this.equals=y,this.inversePoints=C,this.inversePoint=k,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=P("float32",16),this.reset()}}();!function(t,e){var i=this,r=e.pow(256,6),n=e.pow(2,52),s=2*n;function o(t){var e,i=t.length,r=this,n=0,a=r.i=r.j=0,s=r.S=[];for(i||(t=[i++]);n<256;)s[n]=n++;for(n=0;n<256;n++)s[n]=s[a=255&a+t[n%i]+(e=s[n])],s[a]=e;r.g=function(t){for(var e,i=0,n=r.i,a=r.j,s=r.S;t--;)e=s[n=255&n+1],i=256*i+s[255&(s[n]=s[a=255&a+e])+(s[a]=e)];return r.i=n,r.j=a,i}}function h(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){for(var i,r=t+"",n=0;n<r.length;)e[255&n]=255&(i^=19*e[255&n])+r.charCodeAt(n++);return c(e)}function c(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(f,u,p){var d=[],g=l(function t(e,i){var r,n=[],s=a(e);if(i&&"object"==s)for(r in e)try{n.push(t(e[r],i-1))}catch(t){}return n.length?n:"string"==s?e:e+"\0"}((u=!0===u?{entropy:!0}:u||{}).entropy?[f,c(t)]:null===f?function(){try{var e=new Uint8Array(256);return(i.crypto||i.msCrypto).getRandomValues(e),c(e)}catch(e){var r=i.navigator,n=r&&r.plugins;return[+new Date,i,n,i.screen,c(t)]}}():f,3),d),m=new o(d),y=function(){for(var t=m.g(6),e=r,i=0;t<n;)t=256*(t+i),e*=256,i=m.g(1);for(;t>=s;)t/=2,e/=2,i>>>=1;return(t+i)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,l(c(m.S),t),(u.pass||p||function(t,i,r,n){return n&&(n.S&&h(n,m),t.state=function(){return h(m,{})}),r?(e.random=t,i):t})(y,g,"global"in u?u.global:this==e,u.state)},l(e.random(),t)}([],l);var I=function(){var t={getBezierEasing:function(t,i,r,n,a){var s=a||("bez_"+t+"_"+i+"_"+r+"_"+n).replace(/\./g,"p");if(e[s])return e[s];var o=new h([t,i,r,n]);return e[s]=o,o}},e={},i="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function a(t){return 3*t}function s(t,e,i){return((r(e,i)*t+n(e,i))*t+a(e))*t}function o(t,e,i){
return 3*r(e,i)*t*t+2*n(e,i)*t+a(e)}function h(t){this._p=t,this._mSampleValues=i?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(t){var e=this._p[0],i=this._p[1],r=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===i&&r===n?t:0===t?0:1===t?1:s(this._getTForX(t),i,n)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&i===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<11;++i)this._mSampleValues[i]=s(.1*i,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],r=this._mSampleValues,n=0,a=1;10!==a&&r[a]<=t;++a)n+=.1;var h=n+(t-r[--a])/(r[a+1]-r[a])*.1,l=o(h,e,i);return l>=.001?function(t,e,i,r){for(var n=0;n<4;++n){var a=o(e,i,r);if(0===a)return e;e-=(s(e,i,r)-t)/a}return e}(t,h,e,i):0===l?h:function(t,e,i,r,n){var a,o,h=0;do{(a=s(o=e+(i-e)/2,r,n)-t)>0?i=o:e=o}while(Math.abs(a)>1e-7&&++h<10);return o}(t,n,n+.1,e,i)}},t}();function R(t,e){var i,r,n=t.length;for(i=0;i<n;i+=1)for(var a in r=t[i].prototype)r.hasOwnProperty(a)&&(e.prototype[a]=r[a])}function N(t){function e(){}return e.prototype=t,e}!function(){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),a=setTimeout((function(){t(r+n)}),n);return e=r+n,a}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var G=function(){function t(t,e,i,r,n,a){var s=t*r+e*n+i*a-n*r-a*t-i*e;return s>-.001&&s<.001}Math;var e=function(t,e,i,r){var a,o,h,l,f,u,p=c,d=0,g=[],m=[],y=yt.newElement();for(h=i.length,a=0;a<p;a+=1){for(f=a/(p-1),u=0,o=0;o<h;o+=1)l=n(1-f,3)*t[o]+3*n(1-f,2)*f*i[o]+3*(1-f)*n(f,2)*r[o]+n(f,3)*e[o],g[o]=l,null!==m[o]&&(u+=n(g[o]-m[o],2)),m[o]=g[o];u&&(d+=u=s(u)),y.percents[a]=f,y.lengths[a]=d}return y.addedLength=d,y};function i(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var a,h=(a={},function(e,o,h,l){var f=(e[0]+"_"+e[1]+"_"+o[0]+"_"+o[1]+"_"+h[0]+"_"+h[1]+"_"+l[0]+"_"+l[1]).replace(/\./g,"p");if(!a[f]){var u,p,d,g,m,y,v,_=c,b=0,w=null;2===e.length&&(e[0]!=o[0]||e[1]!=o[1])&&t(e[0],e[1],o[0],o[1],e[0]+h[0],e[1]+h[1])&&t(e[0],e[1],o[0],o[1],o[0]+l[0],o[1]+l[1])&&(_=2);var x=new i(_);for(d=h.length,u=0;u<_;u+=1){for(v=M(d),m=u/(_-1),y=0,p=0;p<d;p+=1)g=n(1-m,3)*e[p]+3*n(1-m,2)*m*(e[p]+h[p])+3*(1-m)*n(m,2)*(o[p]+l[p])+n(m,3)*o[p],v[p]=g,null!==w&&(y+=n(v[p]-w[p],2));b+=y=s(y),x.points[u]=new r(y,v),w=v}x.segmentLength=b,a[f]=x}return a[f]});function l(t,e){var i=e.percents,r=e.lengths,n=i.length,a=o((n-1)*t),s=t*e.addedLength,h=0;if(a===n-1||0===a||s===r[a])return i[a];for(var l=r[a]>s?-1:1,c=!0;c;)if(r[a]<=s&&r[a+1]>s?(h=(s-r[a])/(r[a+1]-r[a]),c=!1):a+=l,a<0||a>=n-1){if(a===n-1)return i[a];c=!1}return i[a]+(i[a+1]-i[a])*h}var f=P("float32",8);return{getSegmentsLength:function(t){var i,r=mt.newElement(),n=t.c,a=t.v,s=t.o,o=t.i,h=t._length,l=r.lengths,c=0;for(i=0;i<h-1;i+=1)l[i]=e(a[i],a[i+1],s[i],o[i+1]),c+=l[i].addedLength;return n&&h&&(l[i]=e(a[i],a[0],s[i],o[0]),c+=l[i].addedLength),r.totalLength=c,r},getNewSegment:function(t,e,i,r,n,a,s){var o,h=l(n=n<0?0:n>1?1:n,s),c=l(a=a>1?1:a,s),u=t.length,p=1-h,d=1-c,g=p*p*p,m=h*p*p*3,y=h*h*p*3,v=h*h*h,_=p*p*d,b=h*p*d+p*h*d+p*p*c,w=h*h*d+p*h*c+h*p*c,x=h*h*c,S=p*d*d,k=h*d*d+p*c*d+p*d*c,C=h*c*d+p*c*c+h*d*c,A=h*c*c,P=d*d*d,M=c*d*d+d*c*d+d*d*c,F=c*c*d+d*c*c+c*d*c,T=c*c*c;for(o=0;o<u;o+=1)f[4*o]=Math.round(1e3*(g*t[o]+m*i[o]+y*r[o]+v*e[o]))/1e3,f[4*o+1]=Math.round(1e3*(_*t[o]+b*i[o]+w*r[o]+x*e[o]))/1e3,f[4*o+2]=Math.round(1e3*(S*t[o]+k*i[o]+C*r[o]+A*e[o]))/1e3,f[4*o+3]=Math.round(1e3*(P*t[o]+M*i[o]+F*r[o]+T*e[o]))/1e3;return f},getPointInSegment:function(t,e,i,r,n,a){var s=l(n,a),o=1-s
;return[Math.round(1e3*(o*o*o*t[0]+(s*o*o+o*s*o+o*o*s)*i[0]+(s*s*o+o*s*s+s*o*s)*r[0]+s*s*s*e[0]))/1e3,Math.round(1e3*(o*o*o*t[1]+(s*o*o+o*s*o+o*o*s)*i[1]+(s*s*o+o*s*s+s*o*s)*r[1]+s*s*s*e[1]))/1e3]},buildBezierData:h,pointOnLine2D:t,pointOnLine3D:function(e,i,r,n,a,s,o,h,l){if(0===r&&0===s&&0===l)return t(e,i,n,a,o,h);var c,f=Math.sqrt(Math.pow(n-e,2)+Math.pow(a-i,2)+Math.pow(s-r,2)),u=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-i,2)+Math.pow(l-r,2)),p=Math.sqrt(Math.pow(o-n,2)+Math.pow(h-a,2)+Math.pow(l-s,2));return(c=f>u?f>p?f-u-p:p-u-f:p>u?p-u-f:u-f-p)>-1e-4&&c<1e-4}}}(),z=function(){function t(t,e){for(var i=0,r=e.length;i<r;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}function e(t){var r,n,a;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty)if(t[r].ks.k.i)i(t[r].ks.k);else for(a=t[r].ks.k.length,n=0;n<a;n+=1)t[r].ks.k[n].s&&i(t[r].ks.k[n].s[0]),t[r].ks.k[n].e&&i(t[r].ks.k[n].e[0]);else"gr"==t[r].ty&&e(t[r].it)}function i(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}var n,a=function(){var t=[4,4,14];function e(t){var e,i,r,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(i=t[e],r=void 0,r=i.t.d,i.t.d={k:[{s:r,t:0}]})}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,a=i.assets.length;for(n=0;n<a;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),s=(n=[4,7,99],function(t){if(t.chars&&!r(n,t.v)){var e,a,s,o,h,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(s=(h=t.chars[e].data.shapes[0].it).length,a=0;a<s;a+=1)(o=h[a].ks.k).__converted||(i(h[a].ks.k),o.__converted=!0)}}),o=function(){var t=[4,1,9];function e(t){var i,r,n,a=t.length;for(i=0;i<a;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(n=t[i].c.k.length,r=0;r<n;r+=1)t[i].c.k[r].s&&(t[i].c.k[r].s[0]/=255,t[i].c.k[r].s[1]/=255,t[i].c.k[r].s[2]/=255,t[i].c.k[r].s[3]/=255),t[i].c.k[r].e&&(t[i].c.k[r].e[0]/=255,t[i].c.k[r].e[1]/=255,t[i].c.k[r].e[2]/=255,t[i].c.k[r].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,r=t.length;for(i=0;i<r;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var i,r,n;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(n=t[i].ks.k.length,r=0;r<n;r+=1)t[i].ks.k[r].s&&(t[i].ks.k[r].s[0].c=t[i].closed),t[i].ks.k[r].e&&(t[i].ks.k[r].e[0].c=t[i].closed);else"gr"==t[i].ty&&e(t[i].it)}function i(t){var i,r,n,a,s,o,h=t.length;for(r=0;r<h;r+=1){if((i=t[r]).hasMask){var l=i.masksProperties;for(a=l.length,n=0;n<a;n+=1)if(l[n].pt.k.i)l[n].pt.k.c=l[n].cl;else for(o=l[n].pt.k.length,s=0;s<o;s+=1)l[n].pt.k[s].s&&(l[n].pt.k[s].s[0].c=l[n].cl),l[n].pt.k[s].e&&(l[n].pt.k[s].e[0].c=l[n].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}();var l={completeData:function(r,n){r.__complete||(o(r),a(r),s(r),h(r),function r(n,a,s){var o,h,l,c,f,u,p,d=n.length;for(h=0;h<d;h+=1)if("ks"in(o=n[h])&&!o.completed){if(o.completed=!0,o.tt&&(n[h-1].td=o.tt),o.hasMask){var g=o.masksProperties;for(c=g.length,l=0;l<c;l+=1)if(g[l].pt.k.i)i(g[l].pt.k);else for(u=g[l].pt.k.length,f=0;f<u;f+=1)g[l].pt.k[f].s&&i(g[l].pt.k[f].s[0]),g[l].pt.k[f].e&&i(g[l].pt.k[f].e[0])}0===o.ty?(o.layers=t(o.refId,a),r(o.layers,a,s)):4===o.ty?e(o.shapes):5==o.ty&&(0!==(p=o).t.a.length||"m"in p.t.p||(p.singleShape=!0))}}(r.layers,r.assets,n),r.__complete=!0)}};return l}(),B=function(){var t={w:0,size:0,shapes:[]},e=[];function i(t,e){var i=T("span");i.style.fontFamily=e;var r=T("span");r.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",
i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var n=r.offsetWidth;return r.style.fontFamily=t+", "+e,{node:r,w:n,parent:i}}function r(t,e){var i=F("text");return i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",e.fStyle),i.setAttribute("font-weight",e.fWeight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),T("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return n.getCombinedCharacterCodes=function(){return e},n.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,i,r,n=t.length,a=this.chars.length;for(e=0;e<n;e+=1){for(i=0,r=!1;i<a;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(r=!0),i+=1;r||(this.chars.push(t[e]),a+=1)}}},n.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var n,a=t.list,s=a.length,o=s;for(n=0;n<s;n+=1){var h,l,c=!0;if(a[n].loaded=!1,a[n].monoCase=i(a[n].fFamily,"monospace"),a[n].sansCase=i(a[n].fFamily,"sans-serif"),a[n].fPath){if("p"===a[n].fOrigin||3===a[n].origin){if((h=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[n].fFamily+'"], style[f-origin="3"][f-family="'+a[n].fFamily+'"]')).length>0&&(c=!1),c){var f=T("style");f.setAttribute("f-forigin",a[n].fOrigin),f.setAttribute("f-origin",a[n].origin),f.setAttribute("f-family",a[n].fFamily),f.type="text/css",f.innerHTML="@font-face {font-family: "+a[n].fFamily+"; font-style: normal; src: url('"+a[n].fPath+"');}",e.appendChild(f)}}else if("g"===a[n].fOrigin||1===a[n].origin){for(h=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<h.length;l++)-1!==h[l].href.indexOf(a[n].fPath)&&(c=!1);if(c){var u=T("link");u.setAttribute("f-forigin",a[n].fOrigin),u.setAttribute("f-origin",a[n].origin),u.type="text/css",u.rel="stylesheet",u.href=a[n].fPath,document.body.appendChild(u)}}else if("t"===a[n].fOrigin||2===a[n].origin){for(h=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<h.length;l++)a[n].fPath===h[l].src&&(c=!1);if(c){var p=T("link");p.setAttribute("f-forigin",a[n].fOrigin),p.setAttribute("f-origin",a[n].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",a[n].fPath),e.appendChild(p)}}}else a[n].loaded=!0,o-=1;a[n].helper=r(e,a[n]),a[n].cache={},this.fonts.push(a[n])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},n.prototype.getCharData=function(e,i,r){for(var n=0,a=this.chars.length;n<a;){if(this.chars[n].ch===e&&this.chars[n].style===i&&this.chars[n].fFamily===r)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,i,r),t},n.prototype.getFontByName=function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},n.prototype.measureText=function(t,e,i){var r=this.getFontByName(e),n=t.charCodeAt(0);if(!r.cache[n+1]){var a=r.helper;if(" "===t){a.textContent="|"+t+"|";var s=a.getComputedTextLength();a.textContent="||";var o=a.getComputedTextLength();r.cache[n+1]=(s-o)/100}else a.textContent=t,r.cache[n+1]=a.getComputedTextLength()/100}return r.cache[n+1]*i},n.prototype.checkLoadedFonts=function(){var t,e,i,r=this.fonts.length,n=r;for(t=0;t<r;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,
e.offsetWidth!==i?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},n.prototype.loaded=function(){return this.isLoaded},n}(),j=function(){var t=Math.abs;function e(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=P("float32",this.pv.length));for(var a,s,o,h,l,c,u,p,d=e.lastIndex,g=d,m=this.keyframes.length-1,y=!0;y;){if(a=this.keyframes[g],s=this.keyframes[g+1],g===m-1&&t>=s.t-n){a.h&&(a=s),d=0;break}if(s.t-n>t){d=g;break}g<m-1?g+=1:(d=0,y=!1)}var v,_,b,w,x,S,k,C,A,M,F,T,E,D,O,L,R,N,z=s.t-n,B=a.t-n;if(a.to){a.bezierData||(a.bezierData=G.buildBezierData(a.s,s.s||a.e,a.to,a.ti));var j=a.bezierData;if(t>=z||t<B){var U=t>=z?j.points.length-1:0;for(h=j.points[U].point.length,o=0;o<h;o+=1)r[o]=j.points[U].point[o]}else{a.__fnct?p=a.__fnct:(p=I.getBezierEasing(a.o.x,a.o.y,a.i.x,a.i.y,a.n).get,a.__fnct=p),l=p((t-B)/(z-B));var V,W=j.segmentLength*l,H=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastAddedLength:0;for(u=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastPoint:0,y=!0,c=j.points.length;y;){if(H+=j.points[u].partialLength,0===W||0===l||u===j.points.length-1){for(h=j.points[u].point.length,o=0;o<h;o+=1)r[o]=j.points[u].point[o];break}if(W>=H&&W<H+j.points[u+1].partialLength){for(V=(W-H)/j.points[u+1].partialLength,h=j.points[u].point.length,o=0;o<h;o+=1)r[o]=j.points[u].point[o]+(j.points[u+1].point[o]-j.points[u].point[o])*V;break}u<c-1?u+=1:y=!1}e._lastPoint=u,e._lastAddedLength=H-j.points[u].partialLength,e._lastKeyframeIndex=g}}else{var Y,X,q,K,Z;if(m=a.s.length,v=s.s||a.e,this.sh&&1!==a.h)t>=z?(r[0]=v[0],r[1]=v[1],r[2]=v[2]):t<=B?(r[0]=a.s[0],r[1]=a.s[1],r[2]=a.s[2]):function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=Math.atan2(2*r*a-2*i*n,1-2*r*r-2*n*n),o=Math.asin(2*i*r+2*n*a),h=Math.atan2(2*i*a-2*r*n,1-2*i*i-2*n*n);t[0]=s/f,t[1]=o/f,t[2]=h/f}(r,(_=i(a.s),b=i(v),w=(t-B)/(z-B),M=[],F=_[0],T=_[1],E=_[2],D=_[3],O=b[0],L=b[1],R=b[2],N=b[3],(S=F*O+T*L+E*R+D*N)<0&&(S=-S,O=-O,L=-L,R=-R,N=-N),1-S>1e-6?(x=Math.acos(S),k=Math.sin(x),C=Math.sin((1-w)*x)/k,A=Math.sin(w*x)/k):(C=1-w,A=w),M[0]=C*F+A*O,M[1]=C*T+A*L,M[2]=C*E+A*R,M[3]=C*D+A*N,M));else for(g=0;g<m;g+=1)1!==a.h&&(t>=z?l=1:t<B?l=0:(a.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[g]?p=a.__fnct[g]:(Y=void 0===a.o.x[g]?a.o.x[0]:a.o.x[g],X=void 0===a.o.y[g]?a.o.y[0]:a.o.y[g],q=void 0===a.i.x[g]?a.i.x[0]:a.i.x[g],K=void 0===a.i.y[g]?a.i.y[0]:a.i.y[g],p=I.getBezierEasing(Y,X,q,K).get,a.__fnct[g]=p)):a.__fnct?p=a.__fnct:(Y=a.o.x,X=a.o.y,q=a.i.x,K=a.i.y,p=I.getBezierEasing(Y,X,q,K).get,a.__fnct=p),l=p((t-B)/(z-B)))),v=s.s||a.e,Z=1===a.h?a.s[g]:a.s[g]+(v[g]-a.s[g])*l,1===m?r=Z:r[g]=Z}return e.lastIndex=d,r}function i(t){var e=t[0]*f,i=t[1]*f,r=t[2]*f,n=Math.cos(e/2),a=Math.cos(i/2),s=Math.cos(r/2),o=Math.sin(e/2),h=Math.sin(i/2),l=Math.sin(r/2);return[o*h*s+n*a*l,o*a*s+n*h*l,n*h*s-o*a*l,n*a*s-o*h*l]}function r(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||-999999!==this._caching.lastFrame&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function n(e){var i;if("unidimensional"===this.propType)i=e*this.mult,t(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)i=e[r]*this.mult,t(this.v[r]-i)>1e-5&&(this.v[r]=i,this._mdf=!0),r+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,
this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function o(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=n,this.addEffect=s}function h(t,e,i,r){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,h=e.k.length;for(this.v=P("float32",h),this.pv=P("float32",h),P("float32",h),this.vel=P("float32",h),o=0;o<h;o+=1)this.v[o]=e.k[o]*this.mult,this.pv[o]=e.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=n,this.addEffect=s}function l(t,i,o,h){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:-999999,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=o||1,this.elem=t,this.container=h,this.comp=t.comp,this.v=-999999,this.pv=-999999,this._isFirstFrame=!0,this.getValue=a,this.setVValue=n,this.interpolateValue=e,this.effectsSequence=[r.bind(this)],this.addEffect=s}function c(t,i,o,h){this.propType="multidimensional";var l,c,f,u,p,d=i.k.length;for(l=0;l<d-1;l+=1)i.k[l].to&&i.k[l].s&&i.k[l].e&&(c=i.k[l].s,f=i.k[l].e,u=i.k[l].to,p=i.k[l].ti,(2===c.length&&(c[0]!==f[0]||c[1]!==f[1])&&G.pointOnLine2D(c[0],c[1],f[0],f[1],c[0]+u[0],c[1]+u[1])&&G.pointOnLine2D(c[0],c[1],f[0],f[1],f[0]+p[0],f[1]+p[1])||3===c.length&&(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2])&&G.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],c[0]+u[0],c[1]+u[1],c[2]+u[2])&&G.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],f[0]+p[0],f[1]+p[1],f[2]+p[2]))&&(i.k[l].to=null,i.k[l].ti=null),c[0]===f[0]&&c[1]===f[1]&&0===u[0]&&0===u[1]&&0===p[0]&&0===p[1]&&(2===c.length||c[2]===f[2]&&0===u[2]&&0===p[2])&&(i.k[l].to=null,i.k[l].ti=null));this.effectsSequence=[r.bind(this)],this.keyframes=i.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=o||1,this.elem=t,this.container=h,this.comp=t.comp,this.getValue=a,this.setVValue=n,this.interpolateValue=e,this.frameId=-1;var g=i.k[0].s.length;for(this.v=P("float32",g),this.pv=P("float32",g),l=0;l<g;l+=1)this.v[l]=-999999,this.pv[l]=-999999;this._caching={lastFrame:-999999,lastIndex:0,value:P("float32",g)},this.addEffect=s}return{getProp:function(t,e,i,r,n){var a;if(e.k.length)if("number"==typeof e.k[0])a=new h(t,e,r,n);else switch(i){case 0:a=new l(t,e,r,n);break;case 1:a=new c(t,e,r,n)}else a=new o(t,e,r,n);return a.effectsSequence.length&&n.addDynamicProperty(a),a}}}(),U=function(){function t(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new L,this.pre=new L,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=j.getProp(t,e.p.x,0,0,this),this.py=j.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=j.getProp(t,e.p.z,0,0,this))):this.p=j.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=j.getProp(t,e.rx,0,f,this),this.ry=j.getProp(t,e.ry,0,f,this),this.rz=j.getProp(t,e.rz,0,f,this),e.or.k[0].ti){var r,n=e.or.k.length;for(r=0;r<n;r+=1)e.or.k[r].to=e.or.k[r].ti=null}this.or=j.getProp(t,e.or,1,f,this),this.or.sh=!0}else this.r=j.getProp(t,e.r||{k:0},0,f,this);e.sk&&(this.sk=j.getProp(t,e.sk,0,f,this),this.sa=j.getProp(t,e.sa,0,f,this)),this.a=j.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=j.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=j.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),
this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,i,r=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/r,0)):(e=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],i=[];var n=this.px,a=this.py;n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(e[0]=n.getValueAtTime((n.keyframes[0].t+.01)/r,0),e[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),i[0]=n.getValueAtTime(n.keyframes[0].t/r,0),i[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(e[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/r,0),e[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),i[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/r,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(e=[n.pv,a.pv],i[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/r,n.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}this.v.rotate(-Math.atan2(e[1]-i[1],e[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},R([E],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=E.prototype.addDynamicProperty,{getTransformProperty:function(e,i,r){return new t(e,i,r)}}}();function V(){this.c=!1,this._length=0,this._maxLength=8,
this.v=M(this._maxLength),this.o=M(this._maxLength),this.i=M(this._maxLength)}V.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pt.newElement(),this.o[i]=pt.newElement(),this.i[i]=pt.newElement(),i+=1},V.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},V.prototype.doubleArrayLength=function(){this.v=this.v.concat(M(this._maxLength)),this.i=this.i.concat(M(this._maxLength)),this.o=this.o.concat(M(this._maxLength)),this._maxLength*=2},V.prototype.setXYAt=function(t,e,i,r,n){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[r]||a[r]&&!n)&&(a[r]=pt.newElement()),a[r][0]=t,a[r][1]=e},V.prototype.setTripleAt=function(t,e,i,r,n,a,s,o){this.setXYAt(t,e,"v",s,o),this.setXYAt(i,r,"o",s,o),this.setXYAt(n,a,"i",s,o)},V.prototype.reverse=function(){var t=new V;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),n=1);var a,s=this._length-1,o=this._length;for(a=n;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],r[s][0],r[s][1],i[s][0],i[s][1],a,!1),s-=1;return t};var W,H,Y=function(){function t(t,e,i){var r,n,a,s,o,h,l,c,f,u=i.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)r=p[0].s[0],a=!0,u=0;else if(t>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],a=!0;else{for(var d,g,m=u,y=p.length-1,v=!0;v&&(d=p[m],!((g=p[m+1]).t-this.offsetTime>t));)m<y-1?m+=1:v=!1;if(u=m,!(a=1===d.h)){if(t>=g.t-this.offsetTime)c=1;else if(t<d.t-this.offsetTime)c=0;else{var _;d.__fnct?_=d.__fnct:(_=I.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=_),c=_((t-(d.t-this.offsetTime))/(g.t-this.offsetTime-(d.t-this.offsetTime)))}n=g.s?g.s[0]:d.e[0]}r=d.s[0]}for(h=e._length,l=r.i[0].length,i.lastIndex=u,s=0;s<h;s+=1)for(o=0;o<l;o+=1)f=a?r.i[s][o]:r.i[s][o]+(n.i[s][o]-r.i[s][o])*c,e.i[s][o]=f,f=a?r.o[s][o]:r.o[s][o]+(n.o[s][o]-r.o[s][o])*c,e.o[s][o]=f,f=a?r.v[s][o]:r.v[s][o]+(n.v[s][o]-r.v[s][o])*c,e.v[s][o]=f}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return-999999!==r&&(r<e&&t<e||r>i&&t>i)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function i(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,r=t._length;for(i=0;i<r;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0})(this.v,t)||(this.v=dt.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function n(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?e.pt.k:e.ks.k;this.v=dt.clone(n),this.pv=dt.clone(this.v),this.localShapeCollection=gt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function o(t,r,n){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===n?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=dt.newElement(),
this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=dt.clone(this.v),this.localShapeCollection=gt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=i,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=n,a.prototype.setVValue=r,a.prototype.addEffect=s,o.prototype.getValue=n,o.prototype.interpolateShape=t,o.prototype.setVValue=r,o.prototype.addEffect=s;var l=function(){function t(t,e){this.v=dt.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=gt.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=j.getProp(t,e.p,1,0,this),this.s=j.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=e-r,a.v[1][0]=n?t+i:t-i,a.v[1][1]=e,a.v[2][0]=t,a.v[2][1]=e+r,a.v[3][0]=n?t-i:t+i,a.v[3][1]=e,a.i[0][0]=n?t-.5519*i:t+.5519*i,a.i[0][1]=e-r,a.i[1][0]=n?t+i:t-i,a.i[1][1]=e-.5519*r,a.i[2][0]=n?t+.5519*i:t-.5519*i,a.i[2][1]=e+r,a.i[3][0]=n?t-i:t+i,a.i[3][1]=e+.5519*r,a.o[0][0]=n?t+.5519*i:t-.5519*i,a.o[0][1]=e-r,a.o[1][0]=n?t+i:t-i,a.o[1][1]=e+.5519*r,a.o[2][0]=n?t-.5519*i:t+.5519*i,a.o[2][1]=e+r,a.o[3][0]=n?t-i:t+i,a.o[3][1]=e-.5519*r}},R([E],t),t}(),c=function(){function t(t,e){this.v=dt.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=j.getProp(t,e.ir,0,0,this),this.is=j.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=j.getProp(t,e.pt,0,0,this),this.p=j.getProp(t,e.p,1,0,this),this.r=j.getProp(t,e.r,0,f,this),this.or=j.getProp(t,e.or,0,0,this),this.os=j.getProp(t,e.os,0,.01,this),this.localShapeCollection=gt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,r,n=2*Math.floor(this.pt.v),a=2*Math.PI/n,s=!0,o=this.or.v,h=this.ir.v,l=this.os.v,c=this.is.v,f=2*Math.PI*o/(2*n),u=2*Math.PI*h/(2*n),p=-Math.PI/2;p+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){i=s?l:c,r=s?f:u;var g=(e=s?o:h)*Math.cos(p),m=e*Math.sin(p),y=0===g&&0===m?0:m/Math.sqrt(g*g+m*m),v=0===g&&0===m?0:-g/Math.sqrt(g*g+m*m);g+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(g,m,g-y*r*i*d,m-v*r*i*d,g+y*r*i*d,m+v*r*i*d,t,!0),s=!s,p+=a*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,r=this.or.v,n=this.os.v,a=2*Math.PI*r/(4*e),s=-Math.PI/2,o=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=r*Math.cos(s),l=r*Math.sin(s),c=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),f=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-c*a*n*o,l-f*a*n*o,h+c*a*n*o,l+f*a*n*o,t,!0),s+=i*o}this.paths.length=0,this.paths[0]=this.v}},R([E],t),t}(),u=function(){function t(t,e){this.v=dt.newElement(),this.v.c=!0,this.localShapeCollection=gt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=j.getProp(t,e.p,1,0,this),this.s=j.getProp(t,e.s,1,0,this),this.r=j.getProp(t,e.r,0,0,this),
this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=h(i,r,this.r.v),a=n*(1-.5519);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+n,t+i,e-r+a,0,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-a,t+i,e+r-n,1,!0),0!==n?(this.v.setTripleAt(t+i-n,e+r,t+i-n,e+r,t+i-a,e+r,2,!0),this.v.setTripleAt(t-i+n,e+r,t-i+a,e+r,t-i+n,e+r,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-n,t-i,e+r-a,4,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+a,t-i,e-r+n,5,!0),this.v.setTripleAt(t-i+n,e-r,t-i+n,e-r,t-i+a,e-r,6,!0),this.v.setTripleAt(t+i-n,e-r,t+i-a,e-r,t+i-n,e-r,7,!0)):(this.v.setTripleAt(t-i,e+r,t-i+a,e+r,t-i,e+r,2),this.v.setTripleAt(t-i,e-r,t-i,e-r+a,t-i,e-r,3))):(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+a,t+i,e-r+n,0,!0),0!==n?(this.v.setTripleAt(t+i-n,e-r,t+i-n,e-r,t+i-a,e-r,1,!0),this.v.setTripleAt(t-i+n,e-r,t-i+a,e-r,t-i+n,e-r,2,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+n,t-i,e-r+a,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-a,t-i,e+r-n,4,!0),this.v.setTripleAt(t-i+n,e+r,t-i+n,e+r,t-i+a,e+r,5,!0),this.v.setTripleAt(t+i-n,e+r,t+i-a,e+r,t+i-n,e+r,6,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-n,t+i,e+r-a,7,!0)):(this.v.setTripleAt(t-i,e-r,t-i+a,e-r,t-i,e-r,1,!0),this.v.setTripleAt(t-i,e+r,t-i,e+r-a,t-i,e+r,2,!0),this.v.setTripleAt(t+i,e+r,t+i-a,e+r,t+i,e+r,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},R([E],t),t}(),p={getShapeProp:function(t,e,i){var r;return 3===i||4===i?r=(3===i?e.pt:e.ks).k.length?new o(t,e,i):new a(t,e,i):5===i?r=new u(t,e):6===i?r=new l(t,e):7===i&&(r=new c(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return o}};return p}(),X=(H={},(W={}).registerModifier=function(t,e){H[t]||(H[t]=e)},W.getModifier=function(t,e,i){return new H[t](e,i)},W);function q(){}function K(){}function Z(){}function J(){}function Q(){this._length=0,this._maxLength=4,this.shapes=M(this._maxLength)}function $(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=M(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=P("float32",e.length?e.length-1:0),this.dashoffset=P("float32",1),this.initDynamicPropertyContainer(r);var n,a,s=e.length||0;for(n=0;n<s;n+=1)a=j.getProp(t,e[n].v,0,0,this),this.k=a.k||this.k,this.dataProps[n]={n:e[n].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function tt(t,e,i){this.data=e,this.c=P("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=P("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=j.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}q.prototype.initModifierProperties=function(){},q.prototype.addShapeToModifier=function(){},q.prototype.addShape=function(t){if(!this.closed){var e={shape:t.sh,data:t,localShapeCollection:gt.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},q.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=-999999,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},q.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},R([E],q),R([q],K),K.prototype.initModifierProperties=function(t,e){this.s=j.getProp(t,e.s,0,.01,this),this.e=j.getProp(t,e.e,0,.01,this),this.o=j.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},K.prototype.addShapeToModifier=function(t){t.pathsData=[]},K.prototype.calculateShapeEdges=function(t,e,i,r,n){var a=[]
;e<=1?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var s,o,h=[],l=a.length;for(s=0;s<l;s+=1){var c,f;(o=a[s]).e*n<r||o.s*n>r+i||(c=o.s*n<=r?0:(o.s*n-r)/i,f=o.e*n>=r+i?1:(o.e*n-r)/i,h.push([c,f]))}return h.length||h.push([0,0]),h},K.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)mt.release(t[e]);return t.length=0,t},K.prototype.processShapes=function(t){var e,i,r;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+n)>(i=(this.e.v>1?1:this.e.v<0?0:this.e.v)+n)){var a=e;e=i,i=a}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var s,o,h,l,c,f,u=this.shapes.length,p=0;if(i===e)for(s=0;s<u;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection;else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(s=0;s<u;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var d,g,m=[];for(s=0;s<u;s+=1)if((d=this.shapes[s]).shape._mdf||this._mdf||t||2===this.m){if(h=(r=d.shape.paths)._length,f=0,!d.shape._mdf&&d.pathsData.length)f=d.totalShapeLength;else{for(l=this.releasePathsData(d.pathsData),o=0;o<h;o+=1)c=G.getSegmentsLength(r.shapes[o]),l.push(c),f+=c.totalLength;d.totalShapeLength=f,d.pathsData=l}p+=f,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var y,v=e,_=i,b=0;for(s=u-1;s>=0;s-=1)if((d=this.shapes[s]).shape._mdf){for((g=d.localShapeCollection).releaseShapes(),2===this.m&&u>1?(y=this.calculateShapeEdges(e,i,d.totalShapeLength,b,p),b+=d.totalShapeLength):y=[[v,_]],h=y.length,o=0;o<h;o+=1){v=y[o][0],_=y[o][1],m.length=0,_<=1?m.push({s:d.totalShapeLength*v,e:d.totalShapeLength*_}):v>=1?m.push({s:d.totalShapeLength*(v-1),e:d.totalShapeLength*(_-1)}):(m.push({s:d.totalShapeLength*v,e:d.totalShapeLength}),m.push({s:0,e:d.totalShapeLength*(_-1)}));var w=this.addShapes(d,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(d.shape.paths.shapes[d.shape.paths._length-1].c){var x=w.pop();this.addPaths(w,g),w=this.addShapes(d,m[1],x)}else this.addPaths(w,g),w=this.addShapes(d,m[1]);this.addPaths(w,g)}}d.shape.paths=g}}},K.prototype.addPaths=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e.addShape(t[i])},K.prototype.addSegment=function(t,e,i,r,n,a,s){n.setXYAt(e[0],e[1],"o",a),n.setXYAt(i[0],i[1],"i",a+1),s&&n.setXYAt(t[0],t[1],"v",a),n.setXYAt(r[0],r[1],"v",a+1)},K.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},K.prototype.addShapes=function(t,e,i){var r,n,a,s,o,h,l,c,f=t.pathsData,u=t.shape.paths.shapes,p=t.shape.paths._length,d=0,g=[],m=!0;for(i?(o=i._length,c=i._length):(i=dt.newElement(),o=0,c=0),g.push(i),r=0;r<p;r+=1){for(h=f[r].lengths,i.c=u[r].c,a=u[r].c?h.length:h.length+1,n=1;n<a;n+=1)if(d+(s=h[n-1]).addedLength<e.s)d+=s.addedLength,i.c=!1;else{if(d>e.e){i.c=!1;break}e.s<=d&&e.e>=d+s.addedLength?(this.addSegment(u[r].v[n-1],u[r].o[n-1],u[r].i[n],u[r].v[n],i,o,m),m=!1):(l=G.getNewSegment(u[r].v[n-1],u[r].v[n],u[r].o[n-1],u[r].i[n],(e.s-d)/s.addedLength,(e.e-d)/s.addedLength,h[n-1]),this.addSegmentFromArray(l,i,o,m),m=!1,i.c=!1),d+=s.addedLength,o+=1}if(u[r].c&&h.length){if(s=h[n-1],d<=e.e){var y=h[n-1].addedLength;e.s<=d&&e.e>=d+y?(this.addSegment(u[r].v[n-1],u[r].o[n-1],u[r].i[0],u[r].v[0],i,o,m),m=!1):(l=G.getNewSegment(u[r].v[n-1],u[r].v[0],u[r].o[n-1],u[r].i[0],(e.s-d)/y,(e.e-d)/y,h[n-1]),this.addSegmentFromArray(l,i,o,m),m=!1,i.c=!1)}else i.c=!1;d+=s.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[c][0],i.v[c][1],"i",c),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),d>e.e)break;r<p-1&&(i=dt.newElement(),m=!0,g.push(i),o=0)}return g},X.registerModifier("tm",K),R([q],Z),Z.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=j.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},Z.prototype.processPath=function(t,e){var i=dt.newElement();i.c=t.c
;var r,n,a,s,o,h,l,c,f,u,p,d,g,m=t._length,y=0;for(r=0;r<m;r+=1)n=t.v[r],s=t.o[r],a=t.i[r],n[0]===s[0]&&n[1]===s[1]&&n[0]===a[0]&&n[1]===a[1]?0!==r&&r!==m-1||t.c?(o=0===r?t.v[m-1]:t.v[r-1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=d=n[0]+(o[0]-n[0])*l,f=g=n[1]-(n[1]-o[1])*l,u=c-.5519*(c-n[0]),p=f-.5519*(f-n[1]),i.setTripleAt(c,f,u,p,d,g,y),y+=1,o=r===m-1?t.v[0]:t.v[r+1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=u=n[0]+(o[0]-n[0])*l,f=p=n[1]+(o[1]-n[1])*l,d=c-.5519*(c-n[0]),g=f-.5519*(f-n[1]),i.setTripleAt(c,f,u,p,d,g,y),y+=1):(i.setTripleAt(n[0],n[1],s[0],s[1],a[0],a[1],y),y+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return i},Z.prototype.processShapes=function(t){var e,i,r,n,a,s,o=this.shapes.length,h=this.rd.v;if(0!==h)for(i=0;i<o;i+=1){if((a=this.shapes[i]).shape.paths,s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,n=a.shape.paths._length,r=0;r<n;r+=1)s.addShape(this.processPath(e[r],h));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},X.registerModifier("rd",Z),R([q],J),J.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=j.getProp(t,e.c,0,null,this),this.o=j.getProp(t,e.o,0,null,this),this.tr=U.getTransformProperty(t,e.tr,this),this.so=j.getProp(t,e.tr.so,0,.01,this),this.eo=j.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new L,this.rMatrix=new L,this.sMatrix=new L,this.tMatrix=new L,this.matrix=new L},J.prototype.applyTransforms=function(t,e,i,r,n,a){var s=a?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-n),h=r.s.v[1]+(1-r.s.v[1])*(1-n);t.translate(r.p.v[0]*s*n,r.p.v[1]*s*n,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*s*n),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(a?1/o:o,a?1/h:h),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},J.prototype.init=function(t,e,i,r){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},J.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},J.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},J.prototype.changeGroupRender=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},J.prototype.processShapes=function(t){var e,i,r,n,a;if(this._mdf||t){var s,o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes()}for(a=0,r=0;r<=this._groups.length-1;r+=1)s=a<o,this._groups[r]._render=s,this.changeGroupRender(this._groups[r].it,s),a+=1;this._currentCopies=o;var l=this.o.v,c=l%1,f=l>0?Math.floor(l):Math.ceil(l),u=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var g,m,y=0;if(l>0){for(;y<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y+=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),y+=c)}else if(l<0){for(;y>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y-=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),y-=c)}
for(r=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,a=this._currentCopies;a;){if(m=(i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==y){for((0!==r&&1===n||r!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),g=0;g<m;g+=1)i[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<m;g+=1)i[g]=this.matrix.props[g];y+=1,a-=1,r+=n}}else for(a=this._currentCopies,r=0,n=1;a;)i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,r+=n},J.prototype.addShape=function(){},X.registerModifier("rp",J),Q.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(M(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},Q.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)dt.release(this.shapes[t]);this._length=0},$.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},R([E],$),tt.prototype.comparePoints=function(t,e){for(var i=0,r=this.o.length/2;i<r;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},tt.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},tt.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,r,n=4*this.data.p;for(e=0;e<n;e+=1)i=e%4==0?100:255,r=Math.round(this.prop.v[e]*i),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)i=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},R([E],tt);var et=function(t,e,i,r){if(0===e)return"";var n,a=t.o,s=t.i,o=t.v,h=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<e;n+=1)h+=" C"+r.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+r.applyToPointStringified(s[n][0],s[n][1])+" "+r.applyToPointStringified(o[n][0],o[n][1]);return i&&e&&(h+=" C"+r.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),h+="z"),h},it=function(){var t=function(){var t=T("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(e){var i=function(t,e,i){var r="";if(t.e)r=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),r=e+n}else r=i,r+=t.u?t.u:"",r+=t.p;return r}(e,this.assetsPath,this.path),r=T("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded.bind(this),!1),r.addEventListener("error",function(){n.img=t,this._imageLoaded()}.bind(this),!1),r.src=i;var n={img:r,assetData:e};return n}function r(t,e){this.imagesLoadedCb=e;var i,r=t.length
;for(i=0;i<r;i+=1)t[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[i])))}function n(t){this.path=t||""}function a(t){this.assetsPath=t||""}function s(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function o(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=r,this.setAssetsPath=a,this.setPath=n,this.loaded=h,this.destroy=o,this.getImage=s,this._createImageData=i,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),rt=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),nt=function(){var t={createFilter:function(t){var e=F("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=F("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),at=function(){function t(t){return t.response&&"object"===a(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,i,r){var n,a=new XMLHttpRequest;a.open("GET",e,!0);try{a.responseType="json"}catch(t){}a.send(),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)n=t(a),i(n);else try{n=t(a),i(n)}catch(t){r&&r(t)}}}}}();function st(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=M(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function ot(t,e,i){var r={propType:!1},n=j.getProp,a=e.a;this.a={r:a.r?n(t,a.r,0,f,i):r,rx:a.rx?n(t,a.rx,0,f,i):r,ry:a.ry?n(t,a.ry,0,f,i):r,sk:a.sk?n(t,a.sk,0,f,i):r,sa:a.sa?n(t,a.sa,0,f,i):r,s:a.s?n(t,a.s,1,.01,i):r,a:a.a?n(t,a.a,1,0,i):r,o:a.o?n(t,a.o,0,.01,i):r,p:a.p?n(t,a.p,1,0,i):r,sw:a.sw?n(t,a.sw,0,0,i):r,sc:a.sc?n(t,a.sc,1,0,i):r,fc:a.fc?n(t,a.fc,1,0,i):r,fh:a.fh?n(t,a.fh,0,0,i):r,fs:a.fs?n(t,a.fs,0,.01,i):r,fb:a.fb?n(t,a.fb,0,.01,i):r,t:a.t?n(t,a.t,0,0,i):r},this.s=ct.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function ht(t,e,i,r,n,a){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=n,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}function lt(t,e){this._frameId=-999999,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}st.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,r=j.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new ot(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},st.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,
this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,n,a,s,o,h,l,c,f,u,p,d,g,m,y,v,_,b,w=this._moreOptions.alignment.v,C=this._animatorsData,A=this._textData,P=this.mHelper,M=this._renderType,F=this.renderedLetters.length,T=(this.data,t.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var E,D=b.v;for(this._pathData.r&&(D=D.reverse()),s={tLength:0,segments:[]},a=D._length-1,y=0,n=0;n<a;n+=1)E=G.buildBezierData(D.v[n],D.v[n+1],[D.o[n][0]-D.v[n][0],D.o[n][1]-D.v[n][1]],[D.i[n+1][0]-D.v[n+1][0],D.i[n+1][1]-D.v[n+1][1]]),s.tLength+=E.segmentLength,s.segments.push(E),y+=E.segmentLength;n=a,b.v.c&&(E=G.buildBezierData(D.v[n],D.v[0],[D.o[n][0]-D.v[n][0],D.o[n][1]-D.v[n][1]],[D.i[0][0]-D.v[0][0],D.i[0][1]-D.v[0][1]]),s.tLength+=E.segmentLength,s.segments.push(E),y+=E.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,o=this._pathData.f.v,u=0,f=1,l=0,c=!0,g=s.segments,o<0&&b.v.c)for(s.tLength<Math.abs(o)&&(o=-Math.abs(o)%s.tLength),f=(d=g[u=g.length-1].points).length-1;o<0;)o+=d[f].partialLength,(f-=1)<0&&(f=(d=g[u-=1].points).length-1);p=(d=g[u].points)[f-1],m=(h=d[f]).partialLength}a=T.length,i=0,r=0;var O,L,I,R,N=1.2*t.finalSize*.714,z=!0;I=C.length;var B,j,U,V,W,H,Y,X,q,K,Z,J,Q,$=-1,tt=o,et=u,it=f,rt=-1,nt="",at=this.defaultPropsArray;if(2===t.j||1===t.j){var st=0,ot=0,lt=2===t.j?-.5:-1,ct=0,ft=!0;for(n=0;n<a;n+=1)if(T[n].n){for(st&&(st+=ot);ct<n;)T[ct].animatorJustifyOffset=st,ct+=1;st=0,ft=!0}else{for(L=0;L<I;L+=1)(O=C[L].a).t.propType&&(ft&&2===t.j&&(ot+=O.t.v*lt),(B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars)).length?st+=O.t.v*B[0]*lt:st+=O.t.v*B*lt);ft=!1}for(st&&(st+=ot);ct<n;)T[ct].animatorJustifyOffset=st,ct+=1}for(n=0;n<a;n+=1){if(P.reset(),W=1,T[n].n)i=0,r+=t.yOffset,r+=z?1:0,o=tt,z=!1,this._hasMaskedPath&&(f=it,p=(d=g[u=et].points)[f-1],m=(h=d[f]).partialLength,l=0),Q=K=J=nt="",at=this.defaultPropsArray;else{if(this._hasMaskedPath){if(rt!==T[n].line){switch(t.j){case 1:o+=y-t.lineWidths[T[n].line];break;case 2:o+=(y-t.lineWidths[T[n].line])/2}rt=T[n].line}$!==T[n].ind&&(T[$]&&(o+=T[$].extra),o+=T[n].an/2,$=T[n].ind),o+=w[0]*T[n].an/200;var ut=0;for(L=0;L<I;L+=1)(O=C[L].a).p.propType&&((B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars)).length?ut+=O.p.v[0]*B[0]:ut+=O.p.v[0]*B),O.a.propType&&((B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars)).length?ut+=O.a.v[0]*B[0]:ut+=O.a.v[0]*B);for(c=!0;c;)l+m>=o+ut||!d?(v=(o+ut-l)/h.partialLength,U=p.point[0]+(h.point[0]-p.point[0])*v,V=p.point[1]+(h.point[1]-p.point[1])*v,P.translate(-w[0]*T[n].an/200,-w[1]*N/100),c=!1):d&&(l+=h.partialLength,(f+=1)>=d.length&&(f=0,g[u+=1]?d=g[u].points:b.v.c?(f=0,d=g[u=0].points):(l-=h.partialLength,d=null)),d&&(p=h,m=(h=d[f]).partialLength));j=T[n].an/2-T[n].add,P.translate(-j,0,0)}else j=T[n].an/2-T[n].add,P.translate(-j,0,0),P.translate(-w[0]*T[n].an/200,-w[1]*N/100,0);for(T[n].l,L=0;L<I;L+=1)(O=C[L].a).t.propType&&(B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?B.length?o+=O.t.v*B[0]:o+=O.t.v*B:B.length?i+=O.t.v*B[0]:i+=O.t.v*B));for(T[n].l,t.strokeWidthAnim&&(Y=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(X=[t.fc[0],t.fc[1],t.fc[2]]),L=0;L<I;L+=1)(O=C[L].a).a.propType&&((B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars)).length?P.translate(-O.a.v[0]*B[0],-O.a.v[1]*B[1],O.a.v[2]*B[2]):P.translate(-O.a.v[0]*B,-O.a.v[1]*B,O.a.v[2]*B));for(L=0;L<I;L+=1)(O=C[L].a).s.propType&&((B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars)).length?P.scale(1+(O.s.v[0]-1)*B[0],1+(O.s.v[1]-1)*B[1],1):P.scale(1+(O.s.v[0]-1)*B,1+(O.s.v[1]-1)*B,1));for(L=0;L<I;L+=1){if(O=C[L].a,B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars),O.sk.propType&&(B.length?P.skewFromAxis(-O.sk.v*B[0],O.sa.v*B[1]):P.skewFromAxis(-O.sk.v*B,O.sa.v*B)),O.r.propType&&(B.length?P.rotateZ(-O.r.v*B[2]):P.rotateZ(-O.r.v*B)),O.ry.propType&&(B.length?P.rotateY(O.ry.v*B[1]):P.rotateY(O.ry.v*B)),
O.rx.propType&&(B.length?P.rotateX(O.rx.v*B[0]):P.rotateX(O.rx.v*B)),O.o.propType&&(B.length?W+=(O.o.v*B[0]-W)*B[0]:W+=(O.o.v*B-W)*B),t.strokeWidthAnim&&O.sw.propType&&(B.length?Y+=O.sw.v*B[0]:Y+=O.sw.v*B),t.strokeColorAnim&&O.sc.propType)for(q=0;q<3;q+=1)B.length?H[q]=H[q]+(O.sc.v[q]-H[q])*B[0]:H[q]=H[q]+(O.sc.v[q]-H[q])*B;if(t.fillColorAnim&&t.fc){if(O.fc.propType)for(q=0;q<3;q+=1)B.length?X[q]=X[q]+(O.fc.v[q]-X[q])*B[0]:X[q]=X[q]+(O.fc.v[q]-X[q])*B;O.fh.propType&&(X=B.length?k(X,O.fh.v*B[0]):k(X,O.fh.v*B)),O.fs.propType&&(X=B.length?x(X,O.fs.v*B[0]):x(X,O.fs.v*B)),O.fb.propType&&(X=B.length?S(X,O.fb.v*B[0]):S(X,O.fb.v*B))}}for(L=0;L<I;L+=1)(O=C[L].a).p.propType&&(B=C[L].s.getMult(T[n].anIndexes[L],A.a[L].s.totalChars),this._hasMaskedPath?B.length?P.translate(0,O.p.v[1]*B[0],-O.p.v[2]*B[1]):P.translate(0,O.p.v[1]*B,-O.p.v[2]*B):B.length?P.translate(O.p.v[0]*B[0],O.p.v[1]*B[1],-O.p.v[2]*B[2]):P.translate(O.p.v[0]*B,O.p.v[1]*B,-O.p.v[2]*B));if(t.strokeWidthAnim&&(K=Y<0?0:Y),t.strokeColorAnim&&(Z="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(J="rgb("+Math.round(255*X[0])+","+Math.round(255*X[1])+","+Math.round(255*X[2])+")"),this._hasMaskedPath){if(P.translate(0,-t.ls),P.translate(0,w[1]*N/100+r,0),A.p.p){_=(h.point[1]-p.point[1])/(h.point[0]-p.point[0]);var pt=180*Math.atan(_)/Math.PI;h.point[0]<p.point[0]&&(pt+=180),P.rotate(-pt*Math.PI/180)}P.translate(U,V,0),o-=w[0]*T[n].an/200,T[n+1]&&$!==T[n+1].ind&&(o+=T[n].an/2,o+=t.tr/1e3*t.finalSize)}else{switch(P.translate(i,r,0),t.ps&&P.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:P.translate(T[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[n].line]),0,0);break;case 2:P.translate(T[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[n].line])/2,0,0)}P.translate(0,-t.ls),P.translate(j,0,0),P.translate(w[0]*T[n].an/200,w[1]*N/100,0),i+=T[n].l+t.tr/1e3*t.finalSize}"html"===M?nt=P.toCSS():"svg"===M?nt=P.to2dCSS():at=[P.props[0],P.props[1],P.props[2],P.props[3],P.props[4],P.props[5],P.props[6],P.props[7],P.props[8],P.props[9],P.props[10],P.props[11],P.props[12],P.props[13],P.props[14],P.props[15]],Q=W}F<=n?(R=new ht(Q,K,Z,J,nt,at),this.renderedLetters.push(R),F+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[n],this.lettersChangedFlag=R.update(Q,K,Z,J,nt,at)||this.lettersChangedFlag)}}},st.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},st.prototype.mHelper=new L,st.prototype.defaultPropsArray=[],R([E],st),ht.prototype.update=function(t,e,i,r,n,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,s=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,s=!0),s},lt.prototype.defaultBoxWidth=[0,0],lt.prototype.copyData=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},lt.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},lt.prototype.searchProperty=function(){return this.searchKeyframes()},lt.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},lt.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},lt.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1
;var r,n=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(r=0;r<n;r+=1)a=i!==this.keysIndex?this.effectsSequence[r](a,a.t):this.effectsSequence[r](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},lt.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,r=t.length;i<=r-1&&(t[i].s,!(i===r-1||t[i+1].t>e));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},lt.prototype.buildFinalText=function(t){for(var e,i=B.getCombinedCharacterCodes(),r=[],n=0,a=t.length;n<a;)e=t.charCodeAt(n),-1!==i.indexOf(e)?r[r.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(r.push(t.substr(n,2)),++n):r.push(t.charAt(n)),n+=1;return r},lt.prototype.completeTextData=function(t){t.__complete=!0;var e,i,r,n,a,s,o,h=this.elem.globalData.fontManager,l=this.data,c=[],f=0,u=l.m.g,p=0,d=0,g=0,m=[],y=0,v=0,_=h.getFontByName(t.f),b=0,w=_.fStyle?_.fStyle.split(" "):[],x="normal",S="normal";for(i=w.length,e=0;e<i;e+=1)switch(w[e].toLowerCase()){case"italic":S="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";break;case"light":case"thin":x="200"}t.fWeight=_.fWeight||x,t.fStyle=S,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var k,C=t.tr/1e3*t.finalSize;if(t.sz)for(var A,P,M=!0,F=t.sz[0],T=t.sz[1];M;){A=0,y=0,i=(P=this.buildFinalText(t.t)).length,C=t.tr/1e3*t.finalSize;var E=-1;for(e=0;e<i;e+=1)k=P[e].charCodeAt(0),r=!1," "===P[e]?E=e:13!==k&&3!==k||(y=0,r=!0,A+=t.finalLineHeight||1.2*t.finalSize),h.chars?(o=h.getCharData(P[e],_.fStyle,_.fFamily),b=r?0:o.w*t.finalSize/100):b=h.measureText(P[e],t.f,t.finalSize),y+b>F&&" "!==P[e]?(-1===E?i+=1:e=E,A+=t.finalLineHeight||1.2*t.finalSize,P.splice(e,E===e?1:0,"\r"),E=-1,y=0):(y+=b,y+=C);A+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&T<A?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=P,i=t.finalText.length,M=!1)}y=-C,b=0;var D,O=0;for(e=0;e<i;e+=1)if(r=!1,k=(D=t.finalText[e]).charCodeAt(0)," "===D?n="":13===k||3===k?(O=0,m.push(y),v=y>v?y:v,y=-2*C,n="",r=!0,g+=1):n=t.finalText[e],h.chars?(o=h.getCharData(D,_.fStyle,h.getFontByName(t.f).fFamily),b=r?0:o.w*t.finalSize/100):b=h.measureText(n,t.f,t.finalSize)," "===D?O+=b+C:(y+=b+C+O,O=0),c.push({l:b,an:b,add:p,n:r,anIndexes:[],val:n,line:g,animatorJustifyOffset:0}),2==u){if(p+=b,""===n||""===n||e===i-1){for(""!==n&&""!==n||(p-=b);d<=e;)c[d].an=p,c[d].ind=f,c[d].extra=b,d+=1;f+=1,p=0}}else if(3==u){if(p+=b,""===n||e===i-1){for(""===n&&(p-=b);d<=e;)c[d].an=p,c[d].ind=f,c[d].extra=b,d+=1;p=0,f+=1}}else c[f].ind=f,c[f].extra=0,f+=1;if(t.l=c,v=y>v?y:v,m.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=m;var L,I,R=l.a;s=R.length;var N,G,z=[];for(a=0;a<s;a+=1){for((L=R[a]).a.sc&&(t.strokeColorAnim=!0),L.a.sw&&(t.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(t.fillColorAnim=!0),G=0,N=L.s.b,e=0;e<i;e+=1)(I=c[e]).anIndexes[a]=G,(1==N&&""!==I.val||2==N&&""!==I.val&&""!==I.val||3==N&&(I.n||""==I.val||e==i-1)||4==N&&(I.n||e==i-1))&&(1===L.s.rn&&z.push(G),G+=1);l.a[a].s.totalChars=G;var B,j=-1;if(1===L.s.rn)for(e=0;e<i;e+=1)j!=(I=c[e]).anIndexes[a]&&(j=I.anIndexes[a],B=z.splice(Math.floor(Math.random()*z.length),1)[0]),I.anIndexes[a]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},lt.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},lt.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},lt.prototype.canResizeFont=function(t){
this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},lt.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var ct=function(){var t=Math.max,e=Math.min,i=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=j.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?j.getProp(t,e.e,0,0,this):{v:100},this.o=j.getProp(t,e.o||{k:0},0,0,this),this.xe=j.getProp(t,e.xe||{k:0},0,0,this),this.ne=j.getProp(t,e.ne||{k:0},0,0,this),this.a=j.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=I.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,a=0,s=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)a=n(a=o===s?r>=o?1:0:t(0,e(.5/(o-s)+(r-s)/(o-s),1)));else if(3==h)a=n(a=o===s?r>=o?0:1:1-t(0,e(.5/(o-s)+(r-s)/(o-s),1)));else if(4==h)o===s?a=0:(a=t(0,e(.5/(o-s)+(r-s)/(o-s),1)))<.5?a*=2:a=1-2*(a-.5),a=n(a);else if(5==h){if(o===s)a=0;else{var l=o-s,c=-l/2+(r=e(t(0,r+.5-s),o-s)),f=l/2;a=Math.sqrt(1-c*c/(f*f))}a=n(a)}else 6==h?(o===s?a=0:(r=e(t(0,r+.5-s),o-s),a=(1+Math.cos(Math.PI+2*Math.PI*r/(o-s)))/2),a=n(a)):(r>=i(s)&&(a=r-s<0?1-(s-r):t(0,e(o-r,1))),a=n(a));return a*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,r=this.s.v/e+i,n=this.e.v/e+i;if(r>n){var a=r;r=n,n=a}this.finalS=r,this.finalE=n}},R([E],r),{getTextSelectorProp:function(t,e,i){return new r(t,e,i)}}}(),ft=function(t,e,i,r){var n=0,a=t,s=M(a);function o(){return n?s[n-=1]:e()}return{newElement:o,release:function(t){n===a&&(s=ut.double(s),a*=2),i&&i(t),s[n]=t,n+=1}}},ut={double:function(t){return t.concat(M(t.length))}},pt=ft(8,(function(){return P("float32",2)})),dt=function(){var t=ft(4,(function(){return new V}),(function(t){var e,i=t._length;for(e=0;e<i;e+=1)pt.release(t.v[e]),pt.release(t.i[e]),pt.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}));return t.clone=function(e){var i,r=t.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,i=0;i<n;i+=1)r.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],i);return r},t}(),gt=function(){var t={newShapeCollection:function(){return e?r[e-=1]:new Q},release:function(t){var n,a=t._length;for(n=0;n<a;n+=1)dt.release(t.shapes[n]);t._length=0,e===i&&(r=ut.double(r),i*=2),r[e]=t,e+=1}},e=0,i=4,r=M(i);return t}(),mt=ft(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)yt.release(t.lengths[e]);t.lengths.length=0})),yt=ft(8,(function(){return{addedLength:0,percents:P("float32",c),lengths:P("float32",c)}}));function vt(){}function _t(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=F("svg");var i="";if(e&&e.title){var r=F("title"),n=_();r.setAttribute("id",n),r.textContent=e.title,this.svgElement.appendChild(r),i+=n}if(e&&e.description){var a=F("desc"),s=_();a.setAttribute("id",s),a.textContent=e.description,this.svgElement.appendChild(a),i+=" "+s}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=F("defs");this.svgElement.appendChild(o);var h=F("g");this.svgElement.appendChild(h),this.layerElement=h,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],
this.destroyed=!1,this.rendererType="svg"}function bt(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,a=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=M(s),this.solidPath="";var o,h,l,c,f,u,p,d=this.masksProperties,g=0,m=[],y=_(),v="clipPath",b="clip-path";for(n=0;n<s;n++)if(("a"!==d[n].mode&&"n"!==d[n].mode||d[n].inv||100!==d[n].o.k||d[n].o.x)&&(v="mask",b="mask"),"s"!=d[n].mode&&"i"!=d[n].mode||0!==g?c=null:((c=F("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=F("path"),"n"!=d[n].mode){var w;if(g+=1,o.setAttribute("fill","s"===d[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==d[n].x.k?(v="mask",b="mask",p=j.getProp(this.element,d[n].x,0,null,this.element),w=_(),(f=F("filter")).setAttribute("id",w),(u=F("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),f.appendChild(u),a.appendChild(f),o.setAttribute("stroke","s"===d[n].mode?"#000000":"#ffffff")):(u=null,p=null),this.storedData[n]={elem:o,x:p,expan:u,lastPath:"",lastOperator:"",filterId:w,lastRadius:0},"i"==d[n].mode){l=m.length;var x=F("g");for(h=0;h<l;h+=1)x.appendChild(m[h]);var S=F("mask");S.setAttribute("mask-type","alpha"),S.setAttribute("id",y+"_"+g),S.appendChild(o),a.appendChild(S),x.setAttribute("mask","url("+i+"#"+y+"_"+g+")"),m.length=0,m.push(x)}else m.push(o);d[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:j.getProp(this.element,d[n].o,0,.01,this.element),prop:Y.getShapeProp(this.element,d[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(d[n],this.viewData[n].prop.v,this.viewData[n])}else this.viewData[n]={op:j.getProp(this.element,d[n].o,0,.01,this.element),prop:Y.getShapeProp(this.element,d[n],3),elem:o,lastPath:""},a.appendChild(o);for(this.maskElement=F(v),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);g>0&&(this.maskElement.setAttribute("id",y),this.element.maskedElement.setAttribute(b,"url("+i+"#"+y+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function wt(){}function xt(){}function St(){}function kt(){}function Ct(){}function At(t,e){this.elem=t,this.pos=e}function Pt(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=F("path"),this.msElem=null}function Mt(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,n=t.length;r<n;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function Ft(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function Tt(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=j.getProp(t,e.o,0,.01,this),this.w=j.getProp(t,e.w,0,null,this),this.d=new $(t,e.d||{},"svg",this),this.c=j.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function Et(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=j.getProp(t,e.o,0,.01,this),this.c=j.getProp(t,e.c,1,255,this),this.style=i}function Dt(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function Ot(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=j.getProp(t,e.w,0,null,this),this.d=new $(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function Lt(){this.it=[],this.prevViewData=[],this.gr=F("g")}vt.prototype.checkLayers=function(t){var e,i,r=this.layers.length;for(this.completeLayers=!0,
e=r-1;e>=0;e--)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},vt.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},vt.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},vt.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},vt.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,r=t.length,n=this.layers.length;for(e=0;e<r;e+=1)for(i=0;i<n;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},vt.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},vt.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},vt.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,n=this.layers,a=0,s=n.length;a<s;)n[a].ind==e&&(r[a]&&!0!==r[a]?(i.push(r[a]),r[a].setAsParent(),void 0!==n[a].parent?this.buildElementParenting(t,n[a].parent,i):t.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(t))),a+=1},vt.prototype.addPendingElement=function(t){this.pendingElements.push(t)},vt.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},vt.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new B,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},R([vt],_t),_t.prototype.createNull=function(t){return new Nt(t,this.globalData,this)},_t.prototype.createShape=function(t){return new Yt(t,this.globalData,this)},_t.prototype.createText=function(t){return new Ht(t,this.globalData,this)},_t.prototype.createImage=function(t){return new Ut(t,this.globalData,this)},_t.prototype.createComp=function(t){return new Wt(t,this.globalData,this)},_t.prototype.createSolid=function(t){return new Vt(t,this.globalData,this)},_t.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=F("clipPath"),n=F("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var a=_();r.setAttribute("id",a),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+i+"#"+a+")"),e.appendChild(r),this.layers=t.layers,this.elements=M(t.layers.length)},_t.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0
;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},_t.prototype.updateContainerSize=function(){},_t.prototype.buildItem=function(t){var i=this.elements;if(!i[t]&&99!=this.layers[t].ty){i[t]=!0;var r=this.createItem(this.layers[t]);i[t]=r,e&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(i[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},_t.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},_t.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},_t.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var r,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(i,r):this.layerElement.appendChild(i)}},_t.prototype.hide=function(){this.layerElement.style.display="none"},_t.prototype.show=function(){this.layerElement.style.display="block"},bt.prototype.getMaskProperty=function(t){return this.viewData[t].prop},bt.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-r.props[12]),this.viewData[e].invRect.setAttribute("y",-r.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var a=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+i+"#"+this.storedData[e].filterId+")")),a.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},bt.prototype.getMaskelement=function(){return this.maskElement},bt.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},bt.prototype.drawPath=function(t,e,i){var r,n,a=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,r=1;r<n;r+=1)a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&n>1&&(a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==a){var s="";i.elem&&(e.c&&(s=t.inv?this.solidPath+a:a),i.elem.setAttribute("d",s)),i.lastPath=a}},bt.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},wt.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){
void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},xt.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,r=this.dynamicProperties.length;for(i=0;i<r;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},St.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?U.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new L},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;var n,a,s=e.length;for(n=0;n<s;n+=1)a=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},mHelper:new L},kt.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},R([kt,N({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Ct),Pt.prototype.reset=function(){this.d="",
this._mdf=!1},Mt.prototype.setAsAnimated=function(){this._isAnimated=!0},R([E],Tt),R([E],Et),Dt.prototype.initGradientData=function(t,e,i){this.o=j.getProp(t,e.o,0,.01,this),this.s=j.getProp(t,e.s,1,null,this),this.e=j.getProp(t,e.e,1,null,this),this.h=j.getProp(t,e.h||{k:0},0,.01,this),this.a=j.getProp(t,e.a||{k:0},0,f,this),this.g=new tt(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},Dt.prototype.setGradientData=function(t,e){var r=_(),n=F(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var a,s,o,h=[];for(o=4*e.g.p,s=0;s<o;s+=4)a=F("stop"),n.appendChild(a),h.push(a);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+i+"#"+r+")"),this.gf=n,this.cst=h},Dt.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,a,s=F("mask"),o=F("path");s.appendChild(o);var h=_(),l=_();s.setAttribute("id",l);var c=F(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",h),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),a=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var f=this.stops;for(n=4*t.g.p;n<a;n+=2)(r=F("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),f.push(r);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+i+"#"+h+")"),this.of=c,this.ms=s,this.ost=f,this.maskId=l,e.msElem=o}},R([E],Dt),R([Dt,E],Ot);var It=function(){var t=new L,e=new L;function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(i,r,n){var a,s,o,h,l,c,f,u,p,d,g,m=r.styles.length,y=r.lvl;for(c=0;c<m;c+=1){if(h=r.sh._mdf||n,r.styles[c].lvl<y){for(u=e.reset(),d=y-r.styles[c].lvl,g=r.transformers.length-1;!h&&d>0;)h=r.transformers[g].mProps._mdf||h,d--,g--;if(h)for(d=y-r.styles[c].lvl,g=r.transformers.length-1;d>0;)p=r.transformers[g].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),d--,g--}else u=t;if(s=(f=r.sh.paths)._length,h){for(o="",a=0;a<s;a+=1)(l=f.shapes[a])&&l._length&&(o+=et(l,l._length,l.c,u));r.caches[c]=o}else o=r.caches[c];r.styles[c].d+=!0===i.hd?"":o,r.styles[c]._mdf=h||r.styles[c]._mdf}}function n(t,e,i){var r=e.style;(e.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+o(e.c.v[0])+","+o(e.c.v[1])+","+o(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function a(t,e,i){s(t,e,i),h(0,e,i)}function s(t,e,i){var r,n,a,s,o,h=e.gf,l=e.g._hasOpacity,c=e.s.v,f=e.e.v;if(e.o._mdf||i){var u="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(u,e.o.v)}if(e.s._mdf||i){var p=1===t.t?"x1":"cx",d="x1"===p?"y1":"cy";h.setAttribute(p,c[0]),h.setAttribute(d,c[1]),l&&!e.g._collapsable&&(e.of.setAttribute(p,c[0]),e.of.setAttribute(d,c[1]))}if(e.g._cmdf||i){r=e.cst;var g=e.g.c;for(a=r.length,n=0;n<a;n+=1)(s=r[n]).setAttribute("offset",g[4*n]+"%"),s.setAttribute("stop-color","rgb("+g[4*n+1]+","+g[4*n+2]+","+g[4*n+3]+")")}if(l&&(e.g._omdf||i)){var m=e.g.o;for(a=(r=e.g._collapsable?e.cst:e.ost).length,n=0;n<a;n+=1)s=r[n],e.g._collapsable||s.setAttribute("offset",m[2*n]+"%"),s.setAttribute("stop-opacity",m[2*n+1])}if(1===t.t)(e.e._mdf||i)&&(h.setAttribute("x2",f[0]),h.setAttribute("y2",f[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",f[0]),e.of.setAttribute("y2",f[1])));else if((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(c[0]-f[0],2)+Math.pow(c[1]-f[1],2)),h.setAttribute("r",o),l&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||i){o||(o=Math.sqrt(Math.pow(c[0]-f[0],2)+Math.pow(c[1]-f[1],2)));var y=Math.atan2(f[1]-c[1],f[0]-c[0]),v=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(y+e.a.v)*v+c[0],b=Math.sin(y+e.a.v)*v+c[1];h.setAttribute("fx",_),h.setAttribute("fy",b),l&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",b))}}function h(t,e,i){
var r=e.style,n=e.d;n&&(n._mdf||i)&&n.dashStr&&(r.pElem.setAttribute("stroke-dasharray",n.dashStr),r.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+o(e.c.v[0])+","+o(e.c.v[1])+","+o(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return n;case"gf":return s;case"gs":return a;case"st":return h;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i}}}}();function Rt(){}function Nt(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function Gt(){}function zt(){}function Bt(){}function jt(){}function Ut(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Vt(t,e,i){this.initElement(t,e,i)}function Wt(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?M(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?j.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function Ht(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function Yt(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function Xt(t,e){this.filterManager=e;var i=F("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=F("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r,n=F("feMerge");t.appendChild(n),(r=F("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(r),(r=F("feMergeNode")).setAttribute("in","f2"),n.appendChild(r)}}function qt(t,e){this.filterManager=e;var i=F("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function Kt(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=F("feGaussianBlur");t.appendChild(i),this.feGaussianBlur=i}function Zt(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function Jt(t,e){this.filterManager=e;var i=F("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i);var r=F("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var n=F("feFuncR");n.setAttribute("type","table"),r.appendChild(n),this.feFuncR=n;var a=F("feFuncG");a.setAttribute("type","table"),r.appendChild(a),this.feFuncG=a;var s=F("feFuncB");s.setAttribute("type","table"),r.appendChild(s),this.feFuncB=s}function Qt(t,e){this.filterManager=e;var i=this.filterManager.effectElements,r=F("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),
(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=F("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function $t(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var i=F("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var r=F("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var n=F("feFlood");n.setAttribute("flood-color","#00ff00"),n.setAttribute("flood-opacity","1"),n.setAttribute("result","drop_shadow_3"),this.feFlood=n,t.appendChild(n);var a=F("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var s,o=F("feMerge");t.appendChild(o),s=F("feMergeNode"),o.appendChild(s),(s=F("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=o,this.originalNodeAdded=!1,o.appendChild(s)}Rt.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=O(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=_(),this.data.sr||(this.data.sr=1),this.effectsManager=new ae(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},Nt.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},Nt.prototype.renderFrame=function(){},Nt.prototype.getBaseElement=function(){return null},Nt.prototype.destroy=function(){},Nt.prototype.sourceRectAtTime=function(){},Nt.prototype.hide=function(){},R([Rt,St,wt,xt],Nt),Gt.prototype={initRendererElement:function(){this.layerElement=F("g")},createContainerElements:function(){this.matteElement=F("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var a=F("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),a.appendChild(this.layerElement),n=a,this.globalData.defs.appendChild(a),
rt.maskType||1!=this.data.td||(a.setAttribute("mask-type","luminance"),t=_(),e=nt.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(nt.createAlphaToLuminanceFilter()),(r=F("g")).appendChild(this.layerElement),n=r,a.appendChild(r),r.setAttribute("filter","url("+i+"#"+t+")"))}else if(2==this.data.td){var s=F("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=F("g");s.appendChild(o),t=_(),e=nt.createFilter(t);var h=F("feComponentTransfer");h.setAttribute("in","SourceGraphic"),e.appendChild(h);var l=F("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),h.appendChild(l),this.globalData.defs.appendChild(e);var c=F("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),o.setAttribute("filter","url("+i+"#"+t+")"),o.appendChild(c),o.appendChild(this.layerElement),n=o,rt.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(nt.createAlphaToLuminanceFilter()),r=F("g"),o.appendChild(c),r.appendChild(this.layerElement),n=r,o.appendChild(r)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var f=F("clipPath"),u=F("path");u.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p=_();if(f.setAttribute("id",p),f.appendChild(u),this.globalData.defs.appendChild(f),this.checkMasks()){var d=F("g");d.setAttribute("clip-path","url("+i+"#"+p+")"),d.appendChild(this.layerElement),this.transformedElement=d,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+i+"#"+p+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new bt(this.data,this,this.globalData),this.renderableEffectsManager=new ie(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+i+"#"+t+")")}},zt.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,r=e.length;i<r;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,r=i.length;r;)if(i[r-=1].elem===t)return void(i[r].pos=e);i.push(new At(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},Bt.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new lt(this,t.t,this.dynamicProperties),this.textAnimator=new st(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),
this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Bt.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Bt.prototype.createPathShape=function(t,e){var i,r,n=e.length,a="";for(i=0;i<n;i+=1)r=e[i].ks.k,a+=et(r,r.i.length,!0,t);return a},Bt.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},Bt.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},Bt.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},Bt.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(r,n,0)},Bt.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},Bt.prototype.emptyProp=new ht,Bt.prototype.destroy=function(){},R([Rt,St,wt,xt,Ct],jt),jt.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},jt.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},jt.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},jt.prototype.setElements=function(t){this.elements=t},jt.prototype.getElements=function(){return this.elements},jt.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},jt.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},R([Rt,St,Gt,wt,xt,Ct],Ut),Ut.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=F("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},Ut.prototype.sourceRectAtTime=function(){return this.sourceRect},R([Ut],Vt),Vt.prototype.createContent=function(){var t=F("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},R([_t,jt,Gt],Wt),R([Rt,St,Gt,wt,xt,Ct,Bt],Ht),Ht.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=F("text"))},Ht.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],n="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(n),n=""):n+=t[e],e+=1;return r.push(n),r},Ht.prototype.buildNewText=function(){var t,e,i=this.textProperty.currentData;this.renderedLetters=M(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),
this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var n=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("arial-label",i.t);var s,o=i.l||[],h=!!this.globalData.fontManager.chars;e=o.length;var l,c=this.mHelper,f="",u=this.data.singleShape,p=0,d=0,g=!0,m=i.tr/1e3*i.finalSize;if(!u||h||i.sz){var y,v,_=this.textSpans.length;for(t=0;t<e;t+=1)h&&u&&0!==t||(s=_>t?this.textSpans[t]:F(h?"path":"text"),_<=t&&(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=s,this.layerElement.appendChild(s)),s.style.display="inherit"),c.reset(),c.scale(i.finalSize/100,i.finalSize/100),u&&(o[t].n&&(p=-m,d+=i.yOffset,d+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(i,c,o[t].line,p,d),p+=o[t].l||0,p+=m),h?(l=(y=(v=this.globalData.fontManager.getCharData(i.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&v.data||{}).shapes?y.shapes[0].it:[],u?f+=this.createPathShape(c,l):s.setAttribute("d",this.createPathShape(c,l))):(u&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=o[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));u&&s&&s.setAttribute("d",f)}else{var b=this.textContainer,w="start";switch(i.j){case 1:w="end";break;case 2:w="middle"}b.setAttribute("text-anchor",w),b.setAttribute("letter-spacing",m);var x=this.buildTextContents(i.finalText);for(e=x.length,d=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(s=this.textSpans[t]||F("tspan")).textContent=x[t],s.setAttribute("x",0),s.setAttribute("y",d),s.style.display="inherit",b.appendChild(s),this.textSpans[t]=s,d+=i.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},Ht.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},Ht.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,r,n=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(i=n[t],r=this.textSpans[t],i._mdf.m&&r.setAttribute("transform",i.m),i._mdf.o&&r.setAttribute("opacity",i.o),i._mdf.sw&&r.setAttribute("stroke-width",i.sw),i._mdf.sc&&r.setAttribute("stroke",i.sc),i._mdf.fc&&r.setAttribute("fill",i.fc))}},R([Rt,St,Gt,zt,wt,xt,Ct],Yt),Yt.prototype.initSecondaryElement=function(){},Yt.prototype.identityMatrix=new L,Yt.prototype.buildExpressionInterface=function(){},Yt.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Yt.prototype.filterUniqueShapes=function(){var t,e,i,r,n=this.shapes.length,a=this.stylesList.length,s=[],o=!1;for(i=0;i<a;i+=1){for(r=this.stylesList[i],o=!1,s.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(s.push(e),o=e._isAnimated||o);s.length>1&&o&&this.setShapesAsAnimated(s)}},Yt.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},Yt.prototype.createStyleElement=function(t,e){var r,n=new Pt(t,e),a=n.pElem;return"st"===t.ty?r=new Tt(this,t,n):"fl"===t.ty?r=new Et(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?Dt:Ot)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),
a.setAttribute("mask","url("+i+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(a.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),a.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),a.setAttribute("fill-opacity","0"),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&a.setAttribute("fill-rule","evenodd"),t.ln&&a.setAttribute("id",t.ln),t.cl&&a.setAttribute("class",t.cl),t.bm&&(a.style["mix-blend-mode"]=O(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},Yt.prototype.createGroupElement=function(t){var e=new Lt;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=O(t.bm)),e},Yt.prototype.createTransformElement=function(t,e){var i=U.getTransformProperty(this,t,this),r=new Ft(i,i.o,e);return this.addToAnimatedContents(t,r),r},Yt.prototype.createShapeElement=function(t,e,i){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var n=new Mt(e,i,Y.getShapeProp(this,t,r,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},Yt.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:It.createRenderFunction(t),element:e,data:t})},Yt.prototype.setElementStyles=function(t){var e,i=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},Yt.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},Yt.prototype.searchShapes=function(t,e,i,r,n,a,s){var o,h,l,c,f,u,p=[].concat(a),d=t.length-1,g=[],m=[];for(o=d;o>=0;o-=1){if((u=this.searchProcessedElement(t[o]))?e[o]=i[u-1]:t[o]._render=s,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)u?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],n),t[o]._render&&r.appendChild(e[o].style.pElem),g.push(e[o].style);else if("gr"==t[o].ty){if(u)for(l=e[o].it.length,h=0;h<l;h+=1)e[o].prevViewData[h]=e[o].it[h];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,n+1,p,s),t[o]._render&&r.appendChild(e[o].gr)}else"tr"==t[o].ty?(u||(e[o]=this.createTransformElement(t[o],r)),c=e[o].transform,p.push(c)):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?(u||(e[o]=this.createShapeElement(t[o],p,n)),this.setElementStyles(e[o])):"tm"==t[o].ty||"rd"==t[o].ty||"ms"==t[o].ty?(u?(f=e[o]).closed=!1:((f=X.getModifier(t[o].ty)).init(this,t[o]),e[o]=f,this.shapeModifiers.push(f)),m.push(f)):"rp"==t[o].ty&&(u?(f=e[o]).closed=!0:(f=X.getModifier(t[o].ty),e[o]=f,f.init(this,t,o,e),this.shapeModifiers.push(f),s=!1),m.push(f));this.addProcessedElement(t[o],o+1)}for(d=g.length,o=0;o<d;o+=1)g[o].closed=!0;for(d=m.length,o=0;o<d;o+=1)m[o].closed=!0},Yt.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},Yt.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},Yt.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},Xt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100
;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},qt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},Kt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=3==i?0:e,n=2==i?0:e;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+n);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}},Zt.prototype.initialize=function(){var t,e,r,n,a=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(e=F("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<n;r+=1)t=F("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=F("mask"),o=_();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var h=F("g");for(h.setAttribute("mask","url("+i+"#"+o+")");a[0];)h.appendChild(a[0]);this.elem.layerElement.appendChild(h),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(a=this.elem.layerElement.children||this.elem.layerElement.childNodes;a.length;)this.elem.layerElement.removeChild(a[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},Zt.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i,r,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(i=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&r.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=r.getTotalLength();a="0 0 0 "+l*s+" ";var c,f=l*(h-s),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,p=Math.floor(f/u);for(c=0;c<p;c+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*l+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+o(255*d[0])+","+o(255*d[1])+","+o(255*d[2])+")")}},Jt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,n=r[0]+" "+i[0]+" "+e[0],a=r[1]+" "+i[1]+" "+e[1],s=r[2]+" "+i[2]+" "+e[2]
;this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",s)}},Qt.prototype.createFeFunc=function(t,e){var i=F(t);return i.setAttribute("type","table"),e.appendChild(i),i},Qt.prototype.getTableValue=function(t,e,i,r,n){for(var a,s,o=0,h=Math.min(t,e),l=Math.max(t,e),c=Array.call(null,{length:256}),f=0,u=n-r,p=e-t;o<=256;)s=(a=o/256)<=h?p<0?n:r:a>=l?p<0?r:n:r+u*Math.pow((a-t)/p,1/i),c[f++]=s,o+=256/255;return c.join(" ")},Qt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},$t.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",C(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*f,n=i*Math.cos(r),a=i*Math.sin(r);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",a)}}};var te=[];function ee(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=F("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function ie(t){var e,r,n=t.data.ef?t.data.ef.length:0,a=_(),s=nt.createFilter(a),o=0;for(this.filters=[],e=0;e<n;e+=1)r=null,20===t.data.ef[e].ty?(o+=1,r=new Xt(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,r=new qt(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new Zt(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,r=new Jt(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,r=new Qt(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,r=new $t(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?r=new ee(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,r=new Kt(s,t.effectsManager.effectElements[e])),r&&this.filters.push(r);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+i+"#"+a+")")),this.filters.length&&t.addRenderableComponent(this)}ee.prototype.findSymbol=function(t){for(var e=0,i=te.length;e<i;){if(te[e]===t)return te[e];e+=1}return null},ee.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r,n=i.children,a=0,s=n.length;a<s&&n[a]!==t.layerElement;)a+=1;a<=s-2&&(r=n[a+1]);var o=F("use");o.setAttribute("href","#"+e),r?i.insertBefore(o,r):i.appendChild(o)}},
ee.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=_(),r=F("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),te.push(e);var n=t.globalData.defs;n.appendChild(r);var a=F("symbol");a.setAttribute("id",i),this.replaceInParent(e,i),a.appendChild(e.layerElement),n.appendChild(a);var s=F("use");s.setAttribute("href","#"+i),r.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},ee.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,r=e.length;i<r;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},ee.prototype.renderFrame=function(){this.initialized||this.initialize()},ie.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)};var re=function(){var e={},i=[],r=0,n=0,a=0,s=!0,o=!1;function h(t){for(var e=0,r=t.target;e<n;)i[e].animation===r&&(i.splice(e,1),e-=1,n-=1,r.isPaused||f()),e+=1}function l(t,e){if(!t)return null;for(var r=0;r<n;){if(i[r].elem==t&&null!==i[r].elem)return i[r].animation;r+=1}var a=new ne;return u(a,t),a.setData(t,e),a}function c(){a+=1,g()}function f(){a-=1}function u(t,e){t.addEventListener("destroy",h),t.addEventListener("_active",c),t.addEventListener("_idle",f),i.push({elem:e,animation:t}),n+=1}function p(e){var h,l=e-r;for(h=0;h<n;h+=1)i[h].animation.advanceTime(l);r=e,a&&!o?t.requestAnimationFrame(p):s=!0}function d(e){r=e,t.requestAnimationFrame(p)}function g(){!o&&a&&s&&(t.requestAnimationFrame(d),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(t){var e=new ne;return u(e,null),e.setParams(t),e},e.setSpeed=function(t,e){var r;for(r=0;r<n;r+=1)i[r].animation.setSpeed(t,e)},e.setDirection=function(t,e){var r;for(r=0;r<n;r+=1)i[r].animation.setDirection(t,e)},e.play=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.play(t)},e.pause=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.pause(t)},e.stop=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.stop(t)},e.togglePause=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.togglePause(t)},e.searchAnimations=function(t,e,i){var r,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=n.length;for(r=0;r<a;r+=1)i&&n[r].setAttribute("data-bm-type",i),l(n[r],t);if(e&&0===a){i||(i="svg");var s=document.getElementsByTagName("body")[0];s.innerHTML="";var o=T("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",i),s.appendChild(o),l(o,t)}},e.resize=function(){var t;for(t=0;t<n;t+=1)i[t].animation.resize()},e.goToAndStop=function(t,e,r){var a;for(a=0;a<n;a+=1)i[a].animation.goToAndStop(t,e,r)},e.destroy=function(t){var e;for(e=n-1;e>=0;e-=1)i[e].animation.destroy(t)},e.freeze=function(){o=!0},e.unfreeze=function(){o=!1,g()},e.getRegisteredAnimations=function(){var t,e=i.length,r=[];for(t=0;t<e;t+=1)r.push(i[t].animation);return r},e}(),ne=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=_(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=r,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface={},this.imagePreloader=new it};function ae(){}R([A],ne),ne.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new _t(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,
""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&("json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json"),-1!=t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),at.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},ne.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"===a(e)?e:JSON.parse(e):null},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var n=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===n||(i.loop="false"!==n&&("true"===n||parseInt(n)));var s=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},ne.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var i,r,n=this.animationData.layers,a=n.length,s=t.layers,o=s.length;for(r=0;r<o;r+=1)for(i=0;i<a;){if(n[i].id==s[r].id){n[i]=s[r];break}i+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(a=t.assets.length,i=0;i<a;i+=1)this.animationData.assets.push(t.assets[i]);this.animationData.__complete=!1,z.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),e&&e.initExpressions(this),this.loadNextSegment()},ne.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,at.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},ne.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},ne.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},ne.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},
ne.prototype.configAnimation=function(t){this.renderer&&(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.renderer.searchExtraCompositions(t.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},ne.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},ne.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,z.completeData(this.animationData,this.renderer.globalData.fontManager),e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},ne.prototype.resize=function(){this.renderer.updateContainerSize()},ne.prototype.setSubframe=function(t){this.subframeEnabled=!!t},ne.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},ne.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},ne.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},ne.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},ne.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},ne.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},ne.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},ne.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},ne.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},ne.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},ne.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},ne.prototype.playSegments=function(t,e){
if(e&&(this.segments.length=0),"object"===a(t[0])){var i,r=t.length;for(i=0;i<r;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},ne.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},ne.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},ne.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},ne.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},ne.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},ne.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},ne.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},ne.prototype.getPath=function(){return this.path},ne.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},ne.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},ne.prototype.hide=function(){this.renderer.hide()},ne.prototype.show=function(){this.renderer.show()},ne.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},ne.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new p(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new g(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new d(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new m(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new y(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new p(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new g(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new d(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new m(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new y(t,this))};var se={};function oe(){!0===he?re.searchAnimations(le,he,ce):re.searchAnimations()}se.play=re.play,se.pause=re.pause,se.setLocationHref=function(t){i=t},se.togglePause=re.togglePause,se.setSpeed=re.setSpeed,se.setDirection=re.setDirection,se.stop=re.stop,se.searchAnimations=oe,se.registerAnimation=re.registerAnimation,se.loadAnimation=function(t){return!0===he&&(t.animationData=JSON.parse(le)),re.loadAnimation(t)},se.setSubframeRendering=function(t){r=t},se.resize=re.resize,se.goToAndStop=re.goToAndStop,se.destroy=re.destroy,se.setQuality=function(t){if("string"==typeof t)switch(t){case"high":c=200;break;case"medium":c=50;break;case"low":c=10}else!isNaN(t)&&t>1&&(c=t);u(!(c>=50))},se.inBrowser=function(){return"undefined"!=typeof navigator},se.installPlugin=function(t,i){"expressions"===t&&(e=i)},se.freeze=re.freeze,se.unfreeze=re.unfreeze,se.getRegisteredAnimations=re.getRegisteredAnimations,se.__getFactory=function(t){switch(t){case"propertyFactory":return j;case"shapePropertyFactory":return Y;case"matrix":return L}},se.version="5.5.6";var he="__[STANDALONE]__",le="__[ANIMATIONDATA]__",ce="";if(he){var fe=document.getElementsByTagName("script"),ue=(fe[fe.length-1]||{src:""}).src.replace(/^[^\?]+\??/,"");ce=function(t){for(var e=ue.split("&"),i=0;i<e.length;i++){var r=e[i].split("=")
;if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}}("renderer")}var pe=setInterval((function(){"complete"===document.readyState&&(clearInterval(pe),oe())}),100);return se}(n)}.call(e,i,e,t))||(t.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var r={};i.r(r),i.d(r,"reversed",(function(){return J})),i.d(r,"mirrored",(function(){return Q})),i.d(r,"createReversedEasing",(function(){return $})),i.d(r,"createMirroredEasing",(function(){return tt})),i.d(r,"createExpoIn",(function(){return et})),i.d(r,"createBackIn",(function(){return it})),i.d(r,"createAnticipateEasing",(function(){return rt})),i.d(r,"linear",(function(){return nt})),i.d(r,"easeIn",(function(){return at})),i.d(r,"easeOut",(function(){return st})),i.d(r,"easeInOut",(function(){return ot})),i.d(r,"circIn",(function(){return ht})),i.d(r,"circOut",(function(){return lt})),i.d(r,"circInOut",(function(){return ct})),i.d(r,"backIn",(function(){return ft})),i.d(r,"backOut",(function(){return ut})),i.d(r,"backInOut",(function(){return pt})),i.d(r,"anticipate",(function(){return dt})),i.d(r,"bounceOut",(function(){return gt})),i.d(r,"bounceIn",(function(){return mt})),i.d(r,"bounceInOut",(function(){return yt})),i.d(r,"cubicBezier",(function(){return kt}));var n=i(0),a=function(){return(a=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},s=function(t,e){return function(i){return Math.max(Math.min(i,e),t)}},o=function(t){return t%1?Number(t.toFixed(5)):t},h=/(-)?(\d[\d\.]*)/g,l=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,c=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,f={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},u=a(a({},f),{transform:s(0,1)}),p=a(a({},f),{default:1}),d=function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},g=d("deg"),m=d("%"),y=d("px"),v=d("vh"),_=d("vw"),b=a(a({},m),{parse:function(t){return m.parse(t)/100},transform:function(t){return m.transform(100*t)}}),w=s(0,255),x=function(t){return void 0!==t.red},S=function(t){return void 0!==t.hue},k=function(t){return function(e){if("string"!=typeof e)return e;for(var i,r={},n=(i=e,i.substring(i.indexOf("(")+1,i.lastIndexOf(")"))).split(/,\s*/),a=0;a<4;a++)r[t[a]]=void 0!==n[a]?parseFloat(n[a]):1;return r}},C=a(a({},f),{transform:function(t){return Math.round(w(t))}});function A(t,e){return t.startsWith(e)&&c.test(t)}var P={test:function(t){return"string"==typeof t?A(t,"rgb"):x(t)},parse:k(["red","green","blue","alpha"]),transform:function(t){var e=t.red,i=t.green,r=t.blue,n=t.alpha,a=void 0===n?1:n;return function(t){var e=t.red,i=t.green,r=t.blue,n=t.alpha;return"rgba("+e+", "+i+", "+r+", "+(void 0===n?1:n)+")"}({red:C.transform(e),green:C.transform(i),blue:C.transform(r),alpha:o(u.transform(a))})}},M={test:function(t){return"string"==typeof t?A(t,"hsl"):S(t)},parse:k(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,i=t.saturation,r=t.lightness,n=t.alpha,a=void 0===n?1:n;return function(t){var e=t.hue,i=t.saturation,r=t.lightness,n=t.alpha;return"hsla("+e+", "+i+", "+r+", "+(void 0===n?1:n)+")"}({hue:Math.round(e),saturation:m.transform(o(i)),lightness:m.transform(o(r)),alpha:o(u.transform(a))})}},F=a(a({},P),{test:function(t){return"string"==typeof t&&A(t,"#")},parse:function(t){var e="",i="",r="";return t.length>4?(e=t.substr(1,2),i=t.substr(3,2),r=t.substr(5,2)):(e=t.substr(1,1),i=t.substr(2,1),r=t.substr(3,1),e+=e,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:1}}}),T={test:function(t){return"string"==typeof t&&c.test(t)||x(t)||S(t)},parse:function(t){return P.test(t)?P.parse(t):M.test(t)?M.parse(t):F.test(t)?F.parse(t):t},transform:function(t){return x(t)?P.transform(t):S(t)?M.transform(t):t}},E=function(t){
return"number"==typeof t?0:t},D={test:function(t){if("string"!=typeof t||!isNaN(t))return!1;var e=0,i=t.match(h),r=t.match(l);return i&&(e+=i.length),r&&(e+=r.length),e>0},parse:function(t){var e=t,i=[],r=e.match(l);r&&(e=e.replace(l,"${c}"),i.push.apply(i,r.map(T.parse)));var n=e.match(h);return n&&i.push.apply(i,n.map(f.parse)),i},createTransformer:function(t){var e=t,i=0,r=t.match(l),n=r?r.length:0;if(r)for(var a=0;a<n;a++)e=e.replace(r[a],"${c}"),i++;var s=e.match(h),c=s?s.length:0;if(s)for(a=0;a<c;a++)e=e.replace(s[a],"${n}"),i++;return function(t){for(var r=e,a=0;a<i;a++)r=r.replace(a<n?"${c}":"${n}",a<n?T.transform(t[a]):o(t[a]));return r}},getAnimatableNone:function(t){var e=D.parse(t);return D.createTransformer(t)(e.map(E))}};var O,L=0,I="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),i=Math.max(0,16.7-(e-L));L=e+i,setTimeout((function(){return t(L)}),i)};!function(t){t.Read="read",t.Update="update",t.Render="render",t.PostRender="postRender",t.FixedUpdate="fixedUpdate"}(O||(O={}));var R=1/60*1e3,N=!0,G=!1,z=!1,B={delta:0,timestamp:0},j=[O.Read,O.Update,O.Render,O.PostRender],U=function(t){return G=t},V=j.reduce((function(t,e){var i,r,n,a,s,o,h,l,c,f=(i=U,r=[],n=[],a=0,s=!1,o=0,h=new WeakSet,l=new WeakSet,c={cancel:function(t){var e=n.indexOf(t);h.add(t),-1!==e&&n.splice(e,1)},process:function(t){var e,f;if(s=!0,r=(e=[n,r])[0],(n=e[1]).length=0,a=r.length)for(o=0;o<a;o++)(f=r[o])(t),!0!==l.has(f)||h.has(f)||(c.schedule(f),i(!0));s=!1},schedule:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=i&&s,c=o?r:n;h.delete(t),e&&l.add(t),-1===c.indexOf(t)&&(c.push(t),o&&(a=r.length))}});return t.sync[e]=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),G||K(),f.schedule(t,e,i),t},t.cancelSync[e]=function(t){return f.cancel(t)},t.steps[e]=f,t}),{steps:{},sync:{},cancelSync:{}}),W=V.steps,H=V.sync,Y=V.cancelSync,X=function(t){return W[t].process(B)},q=function t(e){G=!1,B.delta=N?R:Math.max(Math.min(e-B.timestamp,40),1),N||(R=B.delta),B.timestamp=e,z=!0,j.forEach(X),z=!1,G&&(N=!1,I(t))},K=function(){G=!0,N=!0,z||I(q)},Z=H,J=function(t){return function(e){return 1-t(1-e)}},Q=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},$=J,tt=Q,et=function(t){return function(e){return Math.pow(e,t)}},it=function(t){return function(e){return e*e*((t+1)*e-t)}},rt=function(t){var e=it(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},nt=function(t){return t},at=et(2),st=J(at),ot=Q(at),ht=function(t){return 1-Math.sin(Math.acos(t))},lt=J(ht),ct=Q(lt),ft=it(1.525),ut=J(ft),pt=Q(ft),dt=rt(1.525),gt=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},mt=function(t){return 1-gt(1-t)},yt=function(t){return t<.5?.5*(1-gt(1-2*t)):.5*gt(2*t-1)+.5},vt="undefined"!=typeof Float32Array,_t=function(t,e){return 1-3*e+3*t},bt=function(t,e){return 3*e-6*t},wt=function(t){return 3*t},xt=function(t,e,i){return 3*_t(e,i)*t*t+2*bt(e,i)*t+wt(e)},St=function(t,e,i){return((_t(e,i)*t+bt(e,i))*t+wt(e))*t};function kt(t,e,i,r){var n=vt?new Float32Array(11):new Array(11),a=function(e){for(var r,a,s,o=0,h=1;10!==h&&n[h]<=e;++h)o+=.1;return--h,r=(e-n[h])/(n[h+1]-n[h]),(s=xt(a=o+.1*r,t,i))>=.001?function(e,r){for(var n=0,a=0;n<8;++n){if(0===(a=xt(r,t,i)))return r;r-=(St(r,t,i)-e)/a}return r}(e,a):0===s?a:function(e,r,n){var a,s,o=0;do{(a=St(s=r+(n-r)/2,t,i)-e)>0?n=s:r=s}while(Math.abs(a)>1e-7&&++o<10);return s}(e,o,o+.1)};!function(){for(var e=0;e<11;++e)n[e]=St(.1*e,t,i)}();return function(n){return t===e&&i===r?n:0===n?0:1===n?1:St(a(n),e,r)}}var Ct=function(t){return"number"==typeof t},At=function(t){return function(e,i,r){return void 0!==r?t(e,i,r):function(r){return t(e,i,r)}}},Pt=At((function(t,e,i){return Math.min(Math.max(i,t),e)})),Mt=function(t,e,i){var r=e-t;return 0===r?1:(i-t)/r},Ft=function(t,e,i){return-i*t+i*e+t},Tt=function(){return(Tt=Object.assign||function(t){
for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Et=function(t,e,i){var r=t*t,n=e*e;return Math.sqrt(Math.max(0,i*(n-r)+r))},Dt=[F,P,M],Ot=function(t){return Dt.find((function(e){return e.test(t)}))},Lt=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},It=function(t,e){var i=Ot(t),r=Ot(e);Lt(t),Lt(e),i.transform,r.transform;var n=i.parse(t),a=r.parse(e),s=Tt({},n),o=i===M?Ft:Et;return function(t){for(var e in s)"alpha"!==e&&(s[e]=o(n[e],a[e],t));return s.alpha=Ft(n.alpha,a.alpha,t),i.transform(s)}},Rt=function(t,e){return function(i){return e(t(i))}},Nt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(Rt)};function Gt(t,e){return Ct(t)?function(i){return Ft(t,e,i)}:T.test(t)?It(t,e):jt(t,e)}var zt=function(t,e){var i=t.slice(),r=i.length,n=t.map((function(t,i){return Gt(t,e[i])}));return function(t){for(var e=0;e<r;e++)i[e]=n[e](t);return i}};function Bt(t){for(var e=D.parse(t),i=e.length,r=0,n=0,a=0,s=0;s<i;s++)r||"number"==typeof e[s]?r++:void 0!==e[s].hue?a++:n++;return{parsed:e,numNumbers:r,numRGB:n,numHSL:a}}var jt=function(t,e){var i=D.createTransformer(e),r=Bt(t),n=Bt(e);return r.numHSL===n.numHSL&&r.numRGB===n.numRGB&&(r.numNumbers,n.numNumbers),Nt(zt(r.parsed,n.parsed),i)};var Ut=function(t){return t},Vt=function(t){return void 0===t&&(t=Ut),At((function(e,i,r){var n=i-r,a=-(0-e+1)*(0-t(Math.abs(n)));return n<=0?i+a:i-a}))},Wt=(Vt(),Vt(Math.sqrt),At((function(t,e,i){var r=e-t;return((i-t)%r+r)%r+t})),Pt(0,1),function(){return(Wt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)});function Ht(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(i[r[n]]=t[r[n]])}return i}var Yt,Xt=function(t){var e=t.onRead,i=t.onRender,r=t.uncachedValues,n=void 0===r?new Set:r,a=t.useCache,s=void 0===a||a;return function(t){void 0===t&&(t={});var r=Ht(t,[]),a={},o=[],h=!1;function l(t,e){t.startsWith("--")&&(r.hasCSSVariable=!0);var i=a[t];a[t]=e,a[t]!==i&&(-1===o.indexOf(t)&&o.push(t),h||(h=!0,Z.render(c.render)))}var c={get:function(t,i){return void 0===i&&(i=!1),!i&&s&&!n.has(t)&&void 0!==a[t]?a[t]:e(t,r)},set:function(t,e){if("string"==typeof t)l(t,e);else for(var i in t)l(i,t[i]);return this},render:function(t){return void 0===t&&(t=!1),(h||!0===t)&&(i(a,r,o),h=!1,o.length=0),this}};return c}},qt=/([a-z])([A-Z])/g,Kt=function(t){return t.replace(qt,"$1-$2").toLowerCase()},Zt=new Map,Jt=new Map,Qt=["Webkit","Moz","O","ms",""],$t=Qt.length,te="undefined"!=typeof document,ee=function(t,e){return Jt.set(t,Kt(e))},ie=function(t,e){void 0===e&&(e=!1);var i=e?Jt:Zt;return i.has(t)||(te?function(t){Yt=Yt||document.createElement("div");for(var e=0;e<$t;e++){var i=Qt[e],r=""===i,n=r?t:i+t.charAt(0).toUpperCase()+t.slice(1);(n in Yt.style||r)&&(Zt.set(t,n),ee(t,(r?"":"-")+Kt(n)))}}(t):function(t){ee(t,t)}(t)),i.get(t)||t},re=["","X","Y","Z"],ne=["scale","rotate","skew","transformPerspective"].reduce((function(t,e){return re.reduce((function(t,i){return t.push(e+i),t}),t)}),["x","y","z"]),ae=ne.reduce((function(t,e){return t[e]=!0,t}),{});function se(t){return!0===ae[t]}function oe(t,e){return ne.indexOf(t)-ne.indexOf(e)}var he=new Set(["originX","originY","originZ"]);function le(t){return he.has(t)}var ce=Wt({},f,{transform:Math.round}),fe={color:T,backgroundColor:T,outlineColor:T,fill:T,stroke:T,borderColor:T,borderTopColor:T,borderRightColor:T,borderBottomColor:T,borderLeftColor:T,borderWidth:y,borderTopWidth:y,borderRightWidth:y,borderBottomWidth:y,borderLeftWidth:y,borderRadius:y,radius:y,borderTopLeftRadius:y,borderTopRightRadius:y,borderBottomRightRadius:y,borderBottomLeftRadius:y,width:y,maxWidth:y,height:y,maxHeight:y,
size:y,top:y,right:y,bottom:y,left:y,padding:y,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y,margin:y,marginTop:y,marginRight:y,marginBottom:y,marginLeft:y,rotate:g,rotateX:g,rotateY:g,rotateZ:g,scale:p,scaleX:p,scaleY:p,scaleZ:p,skew:g,skewX:g,skewY:g,distance:y,x:y,y:y,z:y,perspective:y,opacity:u,originX:b,originY:b,originZ:y,zIndex:ce},ue=function(t){return fe[t]},pe=function(t,e){return e&&"number"==typeof t?e.transform(t):t},de=new Set(["scrollLeft","scrollTop"]),ge=new Set(["scrollLeft","scrollTop","transform"]),me={x:"translateX",y:"translateY",z:"translateZ"};function ye(t){return"function"==typeof t}function ve(t,e,i,r,n,a,s){void 0===e&&(e=!0),void 0===i&&(i={}),void 0===r&&(r={}),void 0===n&&(n={}),void 0===a&&(a=[]),void 0===s&&(s=!1);var o=!0,h=!1,l=!1;for(var c in t){var f=t[c],u=ue(c),p=pe(f,u);se(c)?(h=!0,r[c]=p,a.push(c),o&&(u.default&&f!==u.default||!u.default&&0!==f)&&(o=!1)):le(c)?(n[c]=p,l=!0):ge.has(c)&&ye(p)||(i[ie(c,s)]=p)}return(h||"function"==typeof t.transform)&&(i.transform=function(t,e,i,r,n){var a="",s=!1;i.sort(oe);for(var o=i.length,h=0;h<o;h++){var l=i[h];a+=(me[l]||l)+"("+e[l]+") ",s="z"===l||s}return!s&&n?a+="translateZ(0)":a=a.trim(),ye(t.transform)?a=t.transform(e,a):r&&(a="none"),a}(t,r,a,o,e)),l&&(i.transformOrigin=(n.originX||0)+" "+(n.originY||0)+" "+(n.originZ||0)),i}function _e(t){void 0===t&&(t=!0);var e={},i={},r={},n=[];return function(a){return n.length=0,ve(a,t,e,i,r,n,!0),e}}var be=Xt({onRead:function(t,e){var i=e.element,r=e.preparseOutput,n=ue(t);if(se(t))return n&&n.default||0;if(de.has(t))return i[t];var a=window.getComputedStyle(i,null).getPropertyValue(ie(t,!0))||0;return r&&n&&n.test(a)&&n.parse?n.parse(a):a},onRender:function(t,e,i){var r=e.element,n=e.buildStyles,a=e.hasCSSVariable;if(Object.assign(r.style,n(t)),a)for(var s=i.length,o=0;o<s;o++){var h=i[o];h.startsWith("--")&&r.style.setProperty(h,t[h])}-1!==i.indexOf("scrollLeft")&&(r.scrollLeft=t.scrollLeft),-1!==i.indexOf("scrollTop")&&(r.scrollTop=t.scrollTop)},uncachedValues:de});var we=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),xe=function(t,e){return t*e+"px"},Se=Wt({},f,{transform:Math.round}),ke={fill:T,stroke:T,scale:p,scaleX:p,scaleY:p,opacity:u,fillOpacity:u,strokeOpacity:u,numOctaves:Se},Ce=Xt({onRead:function(t,e){var i=e.element;if(se(t)){var r=function(t){return ke[t]}(t);return r?r.default:0}return i.getAttribute(t)},onRender:function(t,e){var i=e.dimensions;!function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}(e.element,function(t,e,i,r){var n=!1,a=!1,s={},o=i?{pathLength:"0",pathSpacing:""+r}:void 0,h=void 0!==t.scale?t.scale||1e-7:t.scaleX||1,l=void 0!==t.scaleY?t.scaleY||1e-7:h||1,c=e.width*(t.originX||50)+e.x,f=e.height*(t.originY||50)+e.y,u=1*h*-c,p=1*l*-f,d=c/h,g=f/l,m={translate:"translate("+t.x+", "+t.y+") ",scale:"translate("+u+", "+p+") scale("+h+", "+l+") translate("+d+", "+g+") ",rotate:"rotate("+t.rotate+", "+c+", "+f+") ",skewX:"skewX("+t.skewX+") ",skewY:"skewY("+t.skewY+") "};for(var y in t)if(t.hasOwnProperty(y)){var v=t[y];if(se(y))n=!0;else if(!i||"pathLength"!==y&&"pathSpacing"!==y||"number"!=typeof v)if(i&&"pathOffset"===y)s["stroke-dashoffset"]=xe(-v,r);else{s[we.has(y)?y:Kt(y)]=v}else a=!0,o[y]=xe(v,r)}if(a&&(s["stroke-dasharray"]=o.pathLength+" "+o.pathSpacing),n)for(var y in s.transform="",m)if(m.hasOwnProperty(y)){var _="scale"===y?"1":"0";s.transform+=m[y].replace(/undefined/g,_)}return s}(t,i,e.isPath,e.pathLength))}}),Ae=Xt({useCache:!1,onRead:function(t){return"scrollTop"===t?window.pageYOffset:window.pageXOffset},onRender:function(t){var e=t.scrollTop,i=void 0===e?0:e,r=t.scrollLeft,n=void 0===r?0:r;return window.scrollTo(n,i)}}),Pe=new WeakMap,Me=function(t,e){var i;return t instanceof HTMLElement?i=function(t,e){void 0===e&&(e={});var i=e.enableHardwareAcceleration,r=Ht(e,["enableHardwareAcceleration"])
;return be(Wt({element:t,buildStyles:_e(i),preparseOutput:!0},r))}(t,e):t instanceof SVGElement?i=function(t){var e=function(t){try{return function(t){return"function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}(t)}catch(t){return{x:0,y:0,width:0,height:0}}}(t),i={element:t,dimensions:e,isPath:!1};return"path"===t.tagName&&(i.isPath=!0,i.pathLength=t.getTotalLength()),Ce(i)}(t):t===window&&(i=Ae(t)),Pe.set(t,i),i};var Fe=function(t,e){return function(t,e){return Pe.has(t)?Pe.get(t):Me(t,e)}("string"==typeof t?document.querySelector(t):t,e)};function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.d(e,"c",(function(){return $e})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return Fe}));var Ee=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(Object(n.a)({},this.props,{middleware:this.props.middleware?[t].concat(this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=1===t.length?t[0]:Nt.apply(void 0,t);return this.applyMiddleware((function(t){return function(e){return t(i(e))}}))},t.prototype.while=function(t){return this.applyMiddleware((function(e,i){return function(r){return t(r)?e(r):i()}}))},t.prototype.filter=function(t){return this.applyMiddleware((function(e){return function(i){return t(i)&&e(i)}}))},t}(),De=function(){return function(t,e){var i=t.middleware,r=t.onComplete,n=this;this.isActive=!0,this.update=function(t){n.observer.update&&n.updateObserver(t)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(t){n.observer.error&&n.isActive&&n.observer.error(t),n.isActive=!1},this.observer=e,this.updateObserver=function(t){return e.update(t)},this.onComplete=r,e.update&&i&&i.length&&i.forEach((function(t){return n.updateObserver=t(n.updateObserver,n.complete)}))}}(),Oe=function(t,e,i){var r=e.middleware;return new De({middleware:r,onComplete:i},"function"==typeof t?{update:t}:t)},Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.d)(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.start=function(t){void 0===t&&(t={});var e=!1,i={stop:function(){}},r=this.props,a=r.init,s=Object(n.g)(r,["init"]),o=a(Oe(t,s,(function(){e=!0,i.stop()})));return i=o?Object(n.a)({},i,o):i,t.registerParent&&t.registerParent(i),e&&i.stop(),i},e}(Ee),Ie=function(t){return new Le({init:t})},Re=function(t){var e=t.getCount,i=t.getFirst,r=t.getOutput,n=t.mapApi,a=t.setProp,s=t.startActions;return function(t){return Ie((function(o){var h=o.update,l=o.complete,c=o.error,f=e(t),u=r(),p=function(){return h(u)},d=0,g=s(t,(function(t,e){var i=!1;return t.start({complete:function(){i||(i=!0,++d===f&&Z.update(l))},error:c,update:function(t){a(u,e,t),Z.update(p,!1,!0)}})}));return Object.keys(i(g)).reduce((function(t,e){return t[e]=n(g,e),t}),{})}))}},Ne=Re({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return Object.keys(t).reduce((function(r,n){var a;return t[n][e]&&(i[0]&&void 0!==i[0][n]?r[n]=t[n][e](i[0][n]):r[n]=(a=t[n])[e].apply(a,i)),r}),{})}},setProp:function(t,e,i){return t[e]=i},startActions:function(t,e){return Object.keys(t).reduce((function(i,r){return i[r]=e(t[r],r),i}),{})}}),Ge=Re({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,e){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t.map((function(t,r){if(t[e])return Array.isArray(i[0])?t[e](i[0][r]):t[e].apply(t,i)}))}},setProp:function(t,e,i){return t[e]=i},startActions:function(t,e){return t.map((function(t,i){
return e(t,i)}))}}),ze=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ge(t)},Be=[y,m,g,v,_],je=function(t){return Be.find((function(e){return e.test(t)}))},Ue=function(t,e){return t(e)},Ve=function(t,e,i){var r=i[0],a=e[r].map((function(r,a){var s=i.reduce(function(t){return function(e,i){return e[i]=e[i][t],e}}(a),Object(n.a)({},e));return Ze(r)(t,s)}));return ze.apply(void 0,a)},We=function(t,e,i){var r=i[0],a=Object.keys(e[r]).reduce((function(a,s){var o=i.reduce(function(t){return function(e,i){return e[i]=e[i][t],e}}(s),Object(n.a)({},e));return a[s]=Ze(e[r][s])(t,o),a}),{});return Ne(a)},He=function(t,e){var i=e.from,r=e.to,a=Object(n.g)(e,["from","to"]),s=je(i)||je(r),o=s.transform,h=s.parse;return t(Object(n.a)({},a,{from:"string"==typeof i?h(i):i,to:"string"==typeof r?h(r):r})).pipe(o)},Ye=function(t){return function(e,i){var r=i.from,a=i.to,s=Object(n.g)(i,["from","to"]);return e(Object(n.a)({},s,{from:0,to:1})).pipe(t(r,a))}},Xe=Ye(It),qe=Ye(jt),Ke=function(t,e){var i=function(t){var e=Object.keys(t),i=function(e,i){return void 0!==e&&!t[i](e)};return{getVectorKeys:function(t){return e.reduce((function(e,r){return i(t[r],r)&&e.push(r),e}),[])},testVectorProps:function(t){return t&&e.some((function(e){return i(t[e],e)}))}}}(e),r=i.testVectorProps,n=i.getVectorKeys;return function(e){if(!r(e))return t(e);var i=n(e),a=e[i[0]];return Ze(a)(t,e,i)}},Ze=function(t){return"number"==typeof t?Ue:Array.isArray(t)?Ve:function(t){return Boolean(je(t))}(t)?He:T.test(t)?Xe:D.test(t)?qe:"object"===Te(t)?We:Ue},Je=Ke((function(t){var e=t.from,i=void 0===e?0:e,r=t.to,n=void 0===r?1:r,a=t.ease,s=void 0===a?nt:a,o=t.reverseEase;return void 0!==o&&o&&(s=$(s)),Ie((function(t){var e=t.update;return{seek:function(t){return e(t)}}})).pipe(s,(function(t){return Ft(i,n,t)}))}),{ease:function(t){return"function"==typeof t},from:f.test,to:f.test}),Qe=Pt(0,1),$e=function(t){return void 0===t&&(t={}),Ie((function(e){var i,r=e.update,n=e.complete,a=t.duration,s=void 0===a?300:a,o=t.ease,h=void 0===o?st:o,l=t.flip,c=void 0===l?0:l,f=t.loop,u=void 0===f?0:f,p=t.yoyo,d=void 0===p?0:p,g=t.repeatDelay,m=void 0===g?0:g,y=t.from,v=void 0===y?0:y,_=t.to,b=void 0===_?1:_,w=t.elapsed,x=void 0===w?0:w,S=t.flipCount,k=void 0===S?0:S,C=t.yoyoCount,A=void 0===C?0:C,P=t.loopCount,M=void 0===P?0:P,F=Je({from:v,to:b,ease:h}).start(r),T=0,E=!1,D=function(t){var e;void 0===t&&(t=!1),F=Je({from:v=(e=[b,v])[0],to:b=e[1],ease:h,reverseEase:t}).start(r)},O=function(){T=Qe(Mt(0,s,x)),F.seek(T)},L=function(){E=!0,i=Z.update((function(t){var e,r=t.delta;x+=r,O(),!(e=E&&x>s+m)||(!e||u||c||d)&&(x=s-(x-m),u&&M<u?(M++,1):c&&k<c?(k++,D(),1):d&&A<d&&(A++,D(A%2!=0),1))||(Y.update(i),n&&Z.update(n,!1,!0))}),!0)},I=function(){E=!1,i&&Y.update(i)};return L(),{isActive:function(){return E},getElapsed:function(){return Pt(0,s,x)},getProgress:function(){return T},stop:function(){I()},pause:function(){return I(),this},resume:function(){return E||L(),this},seek:function(t){return x=Ft(0,s,t),Z.update(O,!1,!0),this},reverse:function(){return D(),this}}}))},ti=function(t,e,i){return Ie((function(r){var n=r.update,a=e.split(" ").map((function(e){return t.addEventListener(e,n,i),e}));return{stop:function(){return a.forEach((function(e){return t.removeEventListener(e,n,i)}))}}}))},ei=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},ii=function(t,e){return void 0===e&&(e={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},ri=[ei()];if("undefined"!=typeof document){ti(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(t){var e=t.touches;!0;var i=e.length;ri.length=0;for(var r=0;r<i;r++){var n=e[r];ri.push(ii(n))}}))}var ni=ei();if("undefined"!=typeof document){ti(document,"mousedown mousemove",!0).start((function(t){!0,ii(t,ni)}))}}])]);
//# sourceMappingURL=jsc-vendors~player.3e13af91.js.map